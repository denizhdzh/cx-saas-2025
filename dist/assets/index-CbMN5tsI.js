var yF=Object.defineProperty;var xF=(t,e,n)=>e in t?yF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Sa=(t,e,n)=>xF(t,typeof e!="symbol"?e+"":e,n);function bF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function hi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aw={exports:{}},Sh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U5;function wF(){if(U5)return Sh;U5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Sh.Fragment=e,Sh.jsx=n,Sh.jsxs=n,Sh}var V5;function _F(){return V5||(V5=1,aw.exports=wF()),aw.exports}var u=_F(),sw={exports:{}},at={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $5;function EF(){if($5)return at;$5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=g&&$[g]||$["@@iterator"],typeof $=="function"?$:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,T={};function E($,X,J){this.props=$,this.context=X,this.refs=T,this.updater=J||x}E.prototype.isReactComponent={},E.prototype.setState=function($,X){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,X,"setState")},E.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function A(){}A.prototype=E.prototype;function k($,X,J){this.props=$,this.context=X,this.refs=T,this.updater=J||x}var j=k.prototype=new A;j.constructor=k,w(j,E.prototype),j.isPureReactComponent=!0;var D=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function P($,X,J,ce,xe,be){return J=be.ref,{$$typeof:t,type:$,key:X,ref:J!==void 0?J:null,props:be}}function C($,X){return P($.type,X,void 0,void 0,void 0,$.props)}function M($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function z($){var X={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(J){return X[J]})}var V=/\/+/g;function H($,X){return typeof $=="object"&&$!==null&&$.key!=null?z(""+$.key):X.toString(36)}function q(){}function G($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(q,q):($.status="pending",$.then(function(X){$.status==="pending"&&($.status="fulfilled",$.value=X)},function(X){$.status==="pending"&&($.status="rejected",$.reason=X)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function W($,X,J,ce,xe){var be=typeof $;(be==="undefined"||be==="boolean")&&($=null);var Ne=!1;if($===null)Ne=!0;else switch(be){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch($.$$typeof){case t:case e:Ne=!0;break;case m:return Ne=$._init,W(Ne($._payload),X,J,ce,xe)}}if(Ne)return xe=xe($),Ne=ce===""?"."+H($,0):ce,D(xe)?(J="",Ne!=null&&(J=Ne.replace(V,"$&/")+"/"),W(xe,X,J,"",function(pe){return pe})):xe!=null&&(M(xe)&&(xe=C(xe,J+(xe.key==null||$&&$.key===xe.key?"":(""+xe.key).replace(V,"$&/")+"/")+Ne)),X.push(xe)),1;Ne=0;var Fe=ce===""?".":ce+":";if(D($))for(var Ie=0;Ie<$.length;Ie++)ce=$[Ie],be=Fe+H(ce,Ie),Ne+=W(ce,X,J,be,xe);else if(Ie=v($),typeof Ie=="function")for($=Ie.call($),Ie=0;!(ce=$.next()).done;)ce=ce.value,be=Fe+H(ce,Ie++),Ne+=W(ce,X,J,be,xe);else if(be==="object"){if(typeof $.then=="function")return W(G($),X,J,ce,xe);throw X=String($),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function U($,X,J){if($==null)return $;var ce=[],xe=0;return W($,ce,"","",function(be){return X.call(J,be,xe++)}),ce}function K($){if($._status===-1){var X=$._result;X=X(),X.then(function(J){($._status===0||$._status===-1)&&($._status=1,$._result=J)},function(J){($._status===0||$._status===-1)&&($._status=2,$._result=J)}),$._status===-1&&($._status=0,$._result=X)}if($._status===1)return $._result.default;throw $._result}var ee=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function Q(){}return at.Children={map:U,forEach:function($,X,J){U($,function(){X.apply(this,arguments)},J)},count:function($){var X=0;return U($,function(){X++}),X},toArray:function($){return U($,function(X){return X})||[]},only:function($){if(!M($))throw Error("React.Children.only expected to receive a single React element child.");return $}},at.Component=E,at.Fragment=n,at.Profiler=i,at.PureComponent=k,at.StrictMode=r,at.Suspense=d,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,at.__COMPILER_RUNTIME={__proto__:null,c:function($){return O.H.useMemoCache($)}},at.cache=function($){return function(){return $.apply(null,arguments)}},at.cloneElement=function($,X,J){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ce=w({},$.props),xe=$.key,be=void 0;if(X!=null)for(Ne in X.ref!==void 0&&(be=void 0),X.key!==void 0&&(xe=""+X.key),X)!L.call(X,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&X.ref===void 0||(ce[Ne]=X[Ne]);var Ne=arguments.length-2;if(Ne===1)ce.children=J;else if(1<Ne){for(var Fe=Array(Ne),Ie=0;Ie<Ne;Ie++)Fe[Ie]=arguments[Ie+2];ce.children=Fe}return P($.type,xe,void 0,void 0,be,ce)},at.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:a,_context:$},$},at.createElement=function($,X,J){var ce,xe={},be=null;if(X!=null)for(ce in X.key!==void 0&&(be=""+X.key),X)L.call(X,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(xe[ce]=X[ce]);var Ne=arguments.length-2;if(Ne===1)xe.children=J;else if(1<Ne){for(var Fe=Array(Ne),Ie=0;Ie<Ne;Ie++)Fe[Ie]=arguments[Ie+2];xe.children=Fe}if($&&$.defaultProps)for(ce in Ne=$.defaultProps,Ne)xe[ce]===void 0&&(xe[ce]=Ne[ce]);return P($,be,void 0,void 0,null,xe)},at.createRef=function(){return{current:null}},at.forwardRef=function($){return{$$typeof:c,render:$}},at.isValidElement=M,at.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:K}},at.memo=function($,X){return{$$typeof:f,type:$,compare:X===void 0?null:X}},at.startTransition=function($){var X=O.T,J={};O.T=J;try{var ce=$(),xe=O.S;xe!==null&&xe(J,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Q,ee)}catch(be){ee(be)}finally{O.T=X}},at.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},at.use=function($){return O.H.use($)},at.useActionState=function($,X,J){return O.H.useActionState($,X,J)},at.useCallback=function($,X){return O.H.useCallback($,X)},at.useContext=function($){return O.H.useContext($)},at.useDebugValue=function(){},at.useDeferredValue=function($,X){return O.H.useDeferredValue($,X)},at.useEffect=function($,X,J){var ce=O.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect($,X)},at.useId=function(){return O.H.useId()},at.useImperativeHandle=function($,X,J){return O.H.useImperativeHandle($,X,J)},at.useInsertionEffect=function($,X){return O.H.useInsertionEffect($,X)},at.useLayoutEffect=function($,X){return O.H.useLayoutEffect($,X)},at.useMemo=function($,X){return O.H.useMemo($,X)},at.useOptimistic=function($,X){return O.H.useOptimistic($,X)},at.useReducer=function($,X,J){return O.H.useReducer($,X,J)},at.useRef=function($){return O.H.useRef($)},at.useState=function($){return O.H.useState($)},at.useSyncExternalStore=function($,X,J){return O.H.useSyncExternalStore($,X,J)},at.useTransition=function(){return O.H.useTransition()},at.version="19.1.0",at}var B5;function nf(){return B5||(B5=1,sw.exports=EF()),sw.exports}var S=nf();const Ct=hi(S),SF=bF({__proto__:null,default:Ct},[S]);var ow={exports:{}},Th={},lw={exports:{}},cw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z5;function TF(){return z5||(z5=1,function(t){function e(U,K){var ee=U.length;U.push(K);e:for(;0<ee;){var Q=ee-1>>>1,$=U[Q];if(0<i($,K))U[Q]=K,U[ee]=$,ee=Q;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var K=U[0],ee=U.pop();if(ee!==K){U[0]=ee;e:for(var Q=0,$=U.length,X=$>>>1;Q<X;){var J=2*(Q+1)-1,ce=U[J],xe=J+1,be=U[xe];if(0>i(ce,ee))xe<$&&0>i(be,ce)?(U[Q]=be,U[xe]=ee,Q=xe):(U[Q]=ce,U[J]=ee,Q=J);else if(xe<$&&0>i(be,ee))U[Q]=be,U[xe]=ee,Q=xe;else break e}}return K}function i(U,K){var ee=U.sortIndex-K.sortIndex;return ee!==0?ee:U.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],f=[],m=1,g=null,v=3,x=!1,w=!1,T=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function D(U){for(var K=n(f);K!==null;){if(K.callback===null)r(f);else if(K.startTime<=U)r(f),K.sortIndex=K.expirationTime,e(d,K);else break;K=n(f)}}function O(U){if(T=!1,D(U),!w)if(n(d)!==null)w=!0,L||(L=!0,H());else{var K=n(f);K!==null&&W(O,K.startTime-U)}}var L=!1,P=-1,C=5,M=-1;function z(){return E?!0:!(t.unstable_now()-M<C)}function V(){if(E=!1,L){var U=t.unstable_now();M=U;var K=!0;try{e:{w=!1,T&&(T=!1,k(P),P=-1),x=!0;var ee=v;try{t:{for(D(U),g=n(d);g!==null&&!(g.expirationTime>U&&z());){var Q=g.callback;if(typeof Q=="function"){g.callback=null,v=g.priorityLevel;var $=Q(g.expirationTime<=U);if(U=t.unstable_now(),typeof $=="function"){g.callback=$,D(U),K=!0;break t}g===n(d)&&r(d),D(U)}else r(d);g=n(d)}if(g!==null)K=!0;else{var X=n(f);X!==null&&W(O,X.startTime-U),K=!1}}break e}finally{g=null,v=ee,x=!1}K=void 0}}finally{K?H():L=!1}}}var H;if(typeof j=="function")H=function(){j(V)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,G=q.port2;q.port1.onmessage=V,H=function(){G.postMessage(null)}}else H=function(){A(V,0)};function W(U,K){P=A(function(){U(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(U){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var ee=v;v=K;try{return U()}finally{v=ee}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ee=v;v=U;try{return K()}finally{v=ee}},t.unstable_scheduleCallback=function(U,K,ee){var Q=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Q+ee:Q):ee=Q,U){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ee+$,U={id:m++,callback:K,priorityLevel:U,startTime:ee,expirationTime:$,sortIndex:-1},ee>Q?(U.sortIndex=ee,e(f,U),n(d)===null&&U===n(f)&&(T?(k(P),P=-1):T=!0,W(O,ee-Q))):(U.sortIndex=$,e(d,U),w||x||(w=!0,L||(L=!0,H()))),U},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(U){var K=v;return function(){var ee=v;v=K;try{return U.apply(this,arguments)}finally{v=ee}}}}(cw)),cw}var F5;function AF(){return F5||(F5=1,lw.exports=TF()),lw.exports}var uw={exports:{}},Er={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q5;function NF(){if(q5)return Er;q5=1;var t=nf();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:f,implementation:m}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Er.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Er.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,m)},Er.flushSync=function(d){var f=o.T,m=r.p;try{if(o.T=null,r.p=2,d)return d()}finally{o.T=f,r.p=m,r.d.f()}},Er.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Er.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Er.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,g=c(m,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:x}):m==="script"&&r.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Er.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Er.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=c(m,f.crossOrigin);r.d.L(d,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Er.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Er.requestFormReset=function(d){r.d.r(d)},Er.unstable_batchedUpdates=function(d,f){return d(f)},Er.useFormState=function(d,f,m){return o.H.useFormState(d,f,m)},Er.useFormStatus=function(){return o.H.useHostTransitionStatus()},Er.version="19.1.0",Er}var H5;function o6(){if(H5)return uw.exports;H5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),uw.exports=NF(),uw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G5;function kF(){if(G5)return Th;G5=1;var t=AF(),e=nf(),n=o6();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(a(s)!==s)throw Error(r(188))}function d(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var h=s,p=l;;){var b=h.return;if(b===null)break;var _=b.alternate;if(_===null){if(p=b.return,p!==null){h=p;continue}break}if(b.child===_.child){for(_=b.child;_;){if(_===h)return c(b),s;if(_===p)return c(b),l;_=_.sibling}throw Error(r(188))}if(h.return!==p.return)h=b,p=_;else{for(var R=!1,B=b.child;B;){if(B===h){R=!0,h=b,p=_;break}if(B===p){R=!0,p=b,h=_;break}B=B.sibling}if(!R){for(B=_.child;B;){if(B===h){R=!0,h=_,p=b;break}if(B===p){R=!0,p=_,h=b;break}B=B.sibling}if(!R)throw Error(r(189))}}if(h.alternate!==p)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:l}function f(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=f(s),l!==null)return l;s=s.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),j=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var q=Symbol.for("react.client.reference");function G(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===q?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case E:return"Profiler";case T:return"StrictMode";case O:return"Suspense";case L:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case x:return"Portal";case j:return(s.displayName||"Context")+".Provider";case k:return(s._context.displayName||"Context")+".Consumer";case D:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return l=s.displayName||null,l!==null?l:G(s.type)||"Memo";case C:l=s._payload,s=s._init;try{return G(s(l))}catch{}}return null}var W=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Q=[],$=-1;function X(s){return{current:s}}function J(s){0>$||(s.current=Q[$],Q[$]=null,$--)}function ce(s,l){$++,Q[$]=s.current,s.current=l}var xe=X(null),be=X(null),Ne=X(null),Fe=X(null);function Ie(s,l){switch(ce(Ne,l),ce(be,s),ce(xe,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?f5(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=f5(l),s=h5(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}J(xe),ce(xe,s)}function pe(){J(xe),J(be),J(Ne)}function Ee(s){s.memoizedState!==null&&ce(Fe,s);var l=xe.current,h=h5(l,s.type);l!==h&&(ce(be,s),ce(xe,h))}function re(s){be.current===s&&(J(xe),J(be)),Fe.current===s&&(J(Fe),xh._currentValue=ee)}var se=Object.prototype.hasOwnProperty,_e=t.unstable_scheduleCallback,He=t.unstable_cancelCallback,Gt=t.unstable_shouldYield,_t=t.unstable_requestPaint,Ut=t.unstable_now,Xr=t.unstable_getCurrentPriorityLevel,qa=t.unstable_ImmediatePriority,ga=t.unstable_UserBlockingPriority,$i=t.unstable_NormalPriority,Uo=t.unstable_LowPriority,va=t.unstable_IdlePriority,ya=t.log,Se=t.unstable_setDisableYieldValue,Be=null,Xe=null;function Vt(s){if(typeof ya=="function"&&Se(s),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(Be,s)}catch{}}var Et=Math.clz32?Math.clz32:or,br=Math.log,Qr=Math.LN2;function or(s){return s>>>=0,s===0?32:31-(br(s)/Qr|0)|0}var xn=256,Kn=4194304;function It(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Zr(s,l,h){var p=s.pendingLanes;if(p===0)return 0;var b=0,_=s.suspendedLanes,R=s.pingedLanes;s=s.warmLanes;var B=p&134217727;return B!==0?(p=B&~_,p!==0?b=It(p):(R&=B,R!==0?b=It(R):h||(h=B&~s,h!==0&&(b=It(h))))):(B=p&~_,B!==0?b=It(B):R!==0?b=It(R):h||(h=p&~s,h!==0&&(b=It(h)))),b===0?0:l!==0&&l!==b&&(l&_)===0&&(_=b&-b,h=l&-l,_>=h||_===32&&(h&4194048)!==0)?l:b}function ks(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function ql(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hl(){var s=xn;return xn<<=1,(xn&4194048)===0&&(xn=256),s}function fe(){var s=Kn;return Kn<<=1,(Kn&62914560)===0&&(Kn=4194304),s}function we(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function je(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function it(s,l,h,p,b,_){var R=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var B=s.entanglements,Y=s.expirationTimes,ae=s.hiddenUpdates;for(h=R&~h;0<h;){var he=31-Et(h),ge=1<<he;B[he]=0,Y[he]=-1;var oe=ae[he];if(oe!==null)for(ae[he]=null,he=0;he<oe.length;he++){var le=oe[he];le!==null&&(le.lane&=-536870913)}h&=~ge}p!==0&&ke(s,p,0),_!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=_&~(R&~l))}function ke(s,l,h){s.pendingLanes|=l,s.suspendedLanes&=~l;var p=31-Et(l);s.entangledLanes|=l,s.entanglements[p]=s.entanglements[p]|1073741824|h&4194090}function Ze(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var p=31-Et(h),b=1<<p;b&l|s[p]&l&&(s[p]|=l),h&=~b}}function Pe(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function mt(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Le(){var s=K.p;return s!==0?s:(s=window.event,s===void 0?32:I5(s.type))}function Wn(s,l){var h=K.p;try{return K.p=s,l()}finally{K.p=h}}var Kt=Math.random().toString(36).slice(2),gt="__reactFiber$"+Kt,wt="__reactProps$"+Kt,wr="__reactContainer$"+Kt,js="__reactEvents$"+Kt,lb="__reactListeners$"+Kt,Vo="__reactHandles$"+Kt,Ip="__reactResources$"+Kt,Gl="__reactMarker$"+Kt;function $o(s){delete s[gt],delete s[wt],delete s[js],delete s[lb],delete s[Vo]}function Cs(s){var l=s[gt];if(l)return l;for(var h=s.parentNode;h;){if(l=h[wr]||h[gt]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=v5(s);s!==null;){if(h=s[gt])return h;s=v5(s)}return l}s=h,h=s.parentNode}return null}function Ha(s){if(s=s[gt]||s[wr]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function Ga(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function Pr(s){var l=s[Ip];return l||(l=s[Ip]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function bn(s){s[Gl]=!0}var Tf=new Set,xu={};function xa(s,l){Os(s,l),Os(s+"Capture",l)}function Os(s,l){for(xu[s]=l,s=0;s<l.length;s++)Tf.add(l[s])}var Rp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pp={},Kl={};function Dp(s){return se.call(Kl,s)?!0:se.call(Pp,s)?!1:Rp.test(s)?Kl[s]=!0:(Pp[s]=!0,!1)}function Bo(s,l,h){if(Dp(l))if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+h)}}function Ka(s,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+h)}}function lr(s,l,h,p){if(p===null)s.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(l,h,""+p)}}var Wl,Mp;function Is(s){if(Wl===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);Wl=l&&l[1]||"",Mp=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wl+s+Mp}var bu=!1;function wu(s,l){if(!s||bu)return"";bu=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(le){var oe=le}Reflect.construct(s,[],ge)}else{try{ge.call()}catch(le){oe=le}s.call(ge.prototype)}}else{try{throw Error()}catch(le){oe=le}(ge=s())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(le){if(le&&oe&&typeof le.stack=="string")return[le.stack,oe.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=p.DetermineComponentFrameRoot(),R=_[0],B=_[1];if(R&&B){var Y=R.split(`
`),ae=B.split(`
`);for(b=p=0;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;for(;b<ae.length&&!ae[b].includes("DetermineComponentFrameRoot");)b++;if(p===Y.length||b===ae.length)for(p=Y.length-1,b=ae.length-1;1<=p&&0<=b&&Y[p]!==ae[b];)b--;for(;1<=p&&0<=b;p--,b--)if(Y[p]!==ae[b]){if(p!==1||b!==1)do if(p--,b--,0>b||Y[p]!==ae[b]){var he=`
`+Y[p].replace(" at new "," at ");return s.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",s.displayName)),he}while(1<=p&&0<=b);break}}}finally{bu=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Is(h):""}function Af(s){switch(s.tag){case 26:case 27:case 5:return Is(s.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 15:return wu(s.type,!1);case 11:return wu(s.type.render,!1);case 1:return wu(s.type,!0);case 31:return Is("Activity");default:return""}}function _u(s){try{var l="";do l+=Af(s),s=s.return;while(s);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Dr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Nf(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function cb(s){var l=Nf(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),p=""+s[l];if(!s.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,_=h.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return b.call(this)},set:function(R){p=""+R,_.call(this,R)}}),Object.defineProperty(s,l,{enumerable:h.enumerable}),{getValue:function(){return p},setValue:function(R){p=""+R},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Eu(s){s._valueTracker||(s._valueTracker=cb(s))}function kf(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),p="";return s&&(p=Nf(s)?s.checked?"true":"false":s.value),s=p,s!==h?(l.setValue(s),!0):!1}function Yl(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ub=/[\n"\\]/g;function Nn(s){return s.replace(ub,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function mi(s,l,h,p,b,_,R,B){s.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.type=R:s.removeAttribute("type"),l!=null?R==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Dr(l)):s.value!==""+Dr(l)&&(s.value=""+Dr(l)):R!=="submit"&&R!=="reset"||s.removeAttribute("value"),l!=null?zo(s,R,Dr(l)):h!=null?zo(s,R,Dr(h)):p!=null&&s.removeAttribute("value"),b==null&&_!=null&&(s.defaultChecked=!!_),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?s.name=""+Dr(B):s.removeAttribute("name")}function Xl(s,l,h,p,b,_,R,B){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),l!=null||h!=null){if(!(_!=="submit"&&_!=="reset"||l!=null))return;h=h!=null?""+Dr(h):"",l=l!=null?""+Dr(l):h,B||l===s.value||(s.value=l),s.defaultValue=l}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=B?s.checked:!!p,s.defaultChecked=!!p,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(s.name=R)}function zo(s,l,h){l==="number"&&Yl(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function Rs(s,l,h,p){if(s=s.options,l){l={};for(var b=0;b<h.length;b++)l["$"+h[b]]=!0;for(h=0;h<s.length;h++)b=l.hasOwnProperty("$"+s[h].value),s[h].selected!==b&&(s[h].selected=b),b&&p&&(s[h].defaultSelected=!0)}else{for(h=""+Dr(h),l=null,b=0;b<s.length;b++){if(s[b].value===h){s[b].selected=!0,p&&(s[b].defaultSelected=!0);return}l!==null||s[b].disabled||(l=s[b])}l!==null&&(l.selected=!0)}}function $t(s,l,h){if(l!=null&&(l=""+Dr(l),l!==s.value&&(s.value=l),h==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=h!=null?""+Dr(h):""}function Ql(s,l,h,p){if(l==null){if(p!=null){if(h!=null)throw Error(r(92));if(W(p)){if(1<p.length)throw Error(r(93));p=p[0]}h=p}h==null&&(h=""),l=h}h=Dr(l),s.defaultValue=h,p=s.textContent,p===h&&p!==""&&p!==null&&(s.value=p)}function Bi(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var Zl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lp(s,l,h){var p=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?p?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":p?s.setProperty(l,h):typeof h!="number"||h===0||Zl.has(l)?l==="float"?s.cssFloat=h:s[l]=(""+h).trim():s[l]=h+"px"}function jf(s,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,h!=null){for(var p in h)!h.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var b in l)p=l[b],l.hasOwnProperty(b)&&h[b]!==p&&Lp(s,b,p)}else for(var _ in l)l.hasOwnProperty(_)&&Lp(s,_,l[_])}function Cf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var db=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Su(s){return fb.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ps=null;function zi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ds=null,Ms=null;function Of(s){var l=Ha(s);if(l&&(s=l.stateNode)){var h=s[wt]||null;e:switch(s=l.stateNode,l.type){case"input":if(mi(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Nn(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var p=h[l];if(p!==s&&p.form===s.form){var b=p[wt]||null;if(!b)throw Error(r(90));mi(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<h.length;l++)p=h[l],p.form===s.form&&kf(p)}break e;case"textarea":$t(s,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&Rs(s,!!h.multiple,l,!1)}}}var Wa=!1;function Up(s,l,h){if(Wa)return s(l,h);Wa=!0;try{var p=s(l);return p}finally{if(Wa=!1,(Ds!==null||Ms!==null)&&(Og(),Ds&&(l=Ds,s=Ms,Ms=Ds=null,Of(l),s)))for(l=0;l<s.length;l++)Of(s[l])}}function Jl(s,l){var h=s.stateNode;if(h===null)return null;var p=h[wt]||null;if(p===null)return null;h=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fi=!1;if(ba)try{var ec={};Object.defineProperty(ec,"passive",{get:function(){Fi=!0}}),window.addEventListener("test",ec,ec),window.removeEventListener("test",ec,ec)}catch{Fi=!1}var Ya=null,Fo=null,Ls=null;function If(){if(Ls)return Ls;var s,l=Fo,h=l.length,p,b="value"in Ya?Ya.value:Ya.textContent,_=b.length;for(s=0;s<h&&l[s]===b[s];s++);var R=h-s;for(p=1;p<=R&&l[h-p]===b[_-p];p++);return Ls=b.slice(s,1<p?1-p:void 0)}function Xa(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Qa(){return!0}function Rf(){return!1}function Yn(s){function l(h,p,b,_,R){this._reactName=h,this._targetInst=b,this.type=p,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(h=s[B],this[B]=h?h(_):_[B]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Qa:Rf,this.isPropagationStopped=Rf,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),l}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tu=Yn(kt),tc=m({},kt,{view:0,detail:0}),Vp=Yn(tc),Au,Nu,Za,nc=m({},tc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ac,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Za&&(Za&&s.type==="mousemove"?(Au=s.screenX-Za.screenX,Nu=s.screenY-Za.screenY):Nu=Au=0,Za=s),Au)},movementY:function(s){return"movementY"in s?s.movementY:Nu}}),qi=Yn(nc),$p=m({},nc,{dataTransfer:0}),hb=Yn($p),rc=m({},tc,{relatedTarget:0}),ku=Yn(rc),Pf=m({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),ju=Yn(Pf),Bp=m({},kt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Cu=Yn(Bp),mb=m({},kt,{data:0}),Df=Yn(mb),ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mf(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Fp[s])?!!l[s]:!1}function ac(){return Mf}var qp=m({},tc,{key:function(s){if(s.key){var l=ic[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Xa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?zp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ac,charCode:function(s){return s.type==="keypress"?Xa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ou=Yn(qp),Hp=m({},nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lf=Yn(Hp),Us=m({},tc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ac}),Gp=Yn(Us),Kp=m({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wp=Yn(Kp),Yp=m({},nc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Iu=Yn(Yp),Mr=m({},kt,{newState:0,oldState:0}),Xp=Yn(Mr),Qp=[9,13,27,32],Ja=ba&&"CompositionEvent"in window,y=null;ba&&"documentMode"in document&&(y=document.documentMode);var N=ba&&"TextEvent"in window&&!y,I=ba&&(!Ja||y&&8<y&&11>=y),F=" ",ne=!1;function de(s,l){switch(s){case"keyup":return Qp.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Te(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var vt=!1;function Pn(s,l){switch(s){case"compositionend":return Te(l);case"keypress":return l.which!==32?null:(ne=!0,F);case"textInput":return s=l.data,s===F&&ne?null:s;default:return null}}function yt(s,l){if(vt)return s==="compositionend"||!Ja&&de(s,l)?(s=If(),Ls=Fo=Ya=null,vt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return I&&l.locale!=="ko"?null:l.data;default:return null}}var Xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Xn[s.type]:l==="textarea"}function Vs(s,l,h,p){Ds?Ms?Ms.push(p):Ms=[p]:Ds=p,l=Lg(l,"onChange"),0<l.length&&(h=new Tu("onChange","change",null,h,p),s.push({event:h,listeners:l}))}var cr=null,es=null;function Uf(s){o5(s,0)}function Zp(s){var l=Ga(s);if(kf(l))return s}function kk(s,l){if(s==="change")return l}var jk=!1;if(ba){var pb;if(ba){var gb="oninput"in document;if(!gb){var Ck=document.createElement("div");Ck.setAttribute("oninput","return;"),gb=typeof Ck.oninput=="function"}pb=gb}else pb=!1;jk=pb&&(!document.documentMode||9<document.documentMode)}function Ok(){cr&&(cr.detachEvent("onpropertychange",Ik),es=cr=null)}function Ik(s){if(s.propertyName==="value"&&Zp(es)){var l=[];Vs(l,es,s,zi(s)),Up(Uf,l)}}function WB(s,l,h){s==="focusin"?(Ok(),cr=l,es=h,cr.attachEvent("onpropertychange",Ik)):s==="focusout"&&Ok()}function YB(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Zp(es)}function XB(s,l){if(s==="click")return Zp(l)}function QB(s,l){if(s==="input"||s==="change")return Zp(l)}function ZB(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var pi=typeof Object.is=="function"?Object.is:ZB;function Vf(s,l){if(pi(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),p=Object.keys(l);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var b=h[p];if(!se.call(l,b)||!pi(s[b],l[b]))return!1}return!0}function Rk(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Pk(s,l){var h=Rk(s);s=0;for(var p;h;){if(h.nodeType===3){if(p=s+h.textContent.length,s<=l&&p>=l)return{node:h,offset:l-s};s=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Rk(h)}}function Dk(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?Dk(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function Mk(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Yl(s.document);l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=Yl(s.document)}return l}function vb(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var JB=ba&&"documentMode"in document&&11>=document.documentMode,Ru=null,yb=null,$f=null,xb=!1;function Lk(s,l,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;xb||Ru==null||Ru!==Yl(p)||(p=Ru,"selectionStart"in p&&vb(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),$f&&Vf($f,p)||($f=p,p=Lg(yb,"onSelect"),0<p.length&&(l=new Tu("onSelect","select",null,l,h),s.push({event:l,listeners:p}),l.target=Ru)))}function sc(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var Pu={animationend:sc("Animation","AnimationEnd"),animationiteration:sc("Animation","AnimationIteration"),animationstart:sc("Animation","AnimationStart"),transitionrun:sc("Transition","TransitionRun"),transitionstart:sc("Transition","TransitionStart"),transitioncancel:sc("Transition","TransitionCancel"),transitionend:sc("Transition","TransitionEnd")},bb={},Uk={};ba&&(Uk=document.createElement("div").style,"AnimationEvent"in window||(delete Pu.animationend.animation,delete Pu.animationiteration.animation,delete Pu.animationstart.animation),"TransitionEvent"in window||delete Pu.transitionend.transition);function oc(s){if(bb[s])return bb[s];if(!Pu[s])return s;var l=Pu[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in Uk)return bb[s]=l[h];return s}var Vk=oc("animationend"),$k=oc("animationiteration"),Bk=oc("animationstart"),ez=oc("transitionrun"),tz=oc("transitionstart"),nz=oc("transitioncancel"),zk=oc("transitionend"),Fk=new Map,wb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wb.push("scrollEnd");function wa(s,l){Fk.set(s,l),xa(l,[s])}var qk=new WeakMap;function Hi(s,l){if(typeof s=="object"&&s!==null){var h=qk.get(s);return h!==void 0?h:(l={value:s,source:l,stack:_u(l)},qk.set(s,l),l)}return{value:s,source:l,stack:_u(l)}}var Gi=[],Du=0,_b=0;function Jp(){for(var s=Du,l=_b=Du=0;l<s;){var h=Gi[l];Gi[l++]=null;var p=Gi[l];Gi[l++]=null;var b=Gi[l];Gi[l++]=null;var _=Gi[l];if(Gi[l++]=null,p!==null&&b!==null){var R=p.pending;R===null?b.next=b:(b.next=R.next,R.next=b),p.pending=b}_!==0&&Hk(h,b,_)}}function eg(s,l,h,p){Gi[Du++]=s,Gi[Du++]=l,Gi[Du++]=h,Gi[Du++]=p,_b|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function Eb(s,l,h,p){return eg(s,l,h,p),tg(s)}function Mu(s,l){return eg(s,null,null,l),tg(s)}function Hk(s,l,h){s.lanes|=h;var p=s.alternate;p!==null&&(p.lanes|=h);for(var b=!1,_=s.return;_!==null;)_.childLanes|=h,p=_.alternate,p!==null&&(p.childLanes|=h),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(b=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,b&&l!==null&&(b=31-Et(h),s=_.hiddenUpdates,p=s[b],p===null?s[b]=[l]:p.push(l),l.lane=h|536870912),_):null}function tg(s){if(50<dh)throw dh=0,j1=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Lu={};function rz(s,l,h,p){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(s,l,h,p){return new rz(s,l,h,p)}function Sb(s){return s=s.prototype,!(!s||!s.isReactComponent)}function $s(s,l){var h=s.alternate;return h===null?(h=gi(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function Gk(s,l){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,l=h.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function ng(s,l,h,p,b,_){var R=0;if(p=s,typeof s=="function")Sb(s)&&(R=1);else if(typeof s=="string")R=aF(s,h,xe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=gi(31,h,l,b),s.elementType=M,s.lanes=_,s;case w:return lc(h.children,b,_,l);case T:R=8,b|=24;break;case E:return s=gi(12,h,l,b|2),s.elementType=E,s.lanes=_,s;case O:return s=gi(13,h,l,b),s.elementType=O,s.lanes=_,s;case L:return s=gi(19,h,l,b),s.elementType=L,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:case j:R=10;break e;case k:R=9;break e;case D:R=11;break e;case P:R=14;break e;case C:R=16,p=null;break e}R=29,h=Error(r(130,s===null?"null":typeof s,"")),p=null}return l=gi(R,h,l,b),l.elementType=s,l.type=p,l.lanes=_,l}function lc(s,l,h,p){return s=gi(7,s,p,l),s.lanes=h,s}function Tb(s,l,h){return s=gi(6,s,null,l),s.lanes=h,s}function Ab(s,l,h){return l=gi(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var Uu=[],Vu=0,rg=null,ig=0,Ki=[],Wi=0,cc=null,Bs=1,zs="";function uc(s,l){Uu[Vu++]=ig,Uu[Vu++]=rg,rg=s,ig=l}function Kk(s,l,h){Ki[Wi++]=Bs,Ki[Wi++]=zs,Ki[Wi++]=cc,cc=s;var p=Bs;s=zs;var b=32-Et(p)-1;p&=~(1<<b),h+=1;var _=32-Et(l)+b;if(30<_){var R=b-b%5;_=(p&(1<<R)-1).toString(32),p>>=R,b-=R,Bs=1<<32-Et(l)+b|h<<b|p,zs=_+s}else Bs=1<<_|h<<b|p,zs=s}function Nb(s){s.return!==null&&(uc(s,1),Kk(s,1,0))}function kb(s){for(;s===rg;)rg=Uu[--Vu],Uu[Vu]=null,ig=Uu[--Vu],Uu[Vu]=null;for(;s===cc;)cc=Ki[--Wi],Ki[Wi]=null,zs=Ki[--Wi],Ki[Wi]=null,Bs=Ki[--Wi],Ki[Wi]=null}var Lr=null,mn=null,Nt=!1,dc=null,ts=!1,jb=Error(r(519));function fc(s){var l=Error(r(418,""));throw Ff(Hi(l,s)),jb}function Wk(s){var l=s.stateNode,h=s.type,p=s.memoizedProps;switch(l[gt]=s,l[wt]=p,h){case"dialog":dt("cancel",l),dt("close",l);break;case"iframe":case"object":case"embed":dt("load",l);break;case"video":case"audio":for(h=0;h<hh.length;h++)dt(hh[h],l);break;case"source":dt("error",l);break;case"img":case"image":case"link":dt("error",l),dt("load",l);break;case"details":dt("toggle",l);break;case"input":dt("invalid",l),Xl(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Eu(l);break;case"select":dt("invalid",l);break;case"textarea":dt("invalid",l),Ql(l,p.value,p.defaultValue,p.children),Eu(l)}h=p.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||p.suppressHydrationWarning===!0||d5(l.textContent,h)?(p.popover!=null&&(dt("beforetoggle",l),dt("toggle",l)),p.onScroll!=null&&dt("scroll",l),p.onScrollEnd!=null&&dt("scrollend",l),p.onClick!=null&&(l.onclick=Ug),l=!0):l=!1,l||fc(s)}function Yk(s){for(Lr=s.return;Lr;)switch(Lr.tag){case 5:case 13:ts=!1;return;case 27:case 3:ts=!0;return;default:Lr=Lr.return}}function Bf(s){if(s!==Lr)return!1;if(!Nt)return Yk(s),Nt=!0,!1;var l=s.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||H1(s.type,s.memoizedProps)),h=!h),h&&mn&&fc(s),Yk(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(h=s.data,h==="/$"){if(l===0){mn=Ea(s.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;s=s.nextSibling}mn=null}}else l===27?(l=mn,al(s.type)?(s=Y1,Y1=null,mn=s):mn=l):mn=Lr?Ea(s.stateNode.nextSibling):null;return!0}function zf(){mn=Lr=null,Nt=!1}function Xk(){var s=dc;return s!==null&&(ti===null?ti=s:ti.push.apply(ti,s),dc=null),s}function Ff(s){dc===null?dc=[s]:dc.push(s)}var Cb=X(null),hc=null,Fs=null;function qo(s,l,h){ce(Cb,l._currentValue),l._currentValue=h}function qs(s){s._currentValue=Cb.current,J(Cb)}function Ob(s,l,h){for(;s!==null;){var p=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),s===h)break;s=s.return}}function Ib(s,l,h,p){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var _=b.dependencies;if(_!==null){var R=b.child;_=_.firstContext;e:for(;_!==null;){var B=_;_=b;for(var Y=0;Y<l.length;Y++)if(B.context===l[Y]){_.lanes|=h,B=_.alternate,B!==null&&(B.lanes|=h),Ob(_.return,h,s),p||(R=null);break e}_=B.next}}else if(b.tag===18){if(R=b.return,R===null)throw Error(r(341));R.lanes|=h,_=R.alternate,_!==null&&(_.lanes|=h),Ob(R,h,s),R=null}else R=b.child;if(R!==null)R.return=b;else for(R=b;R!==null;){if(R===s){R=null;break}if(b=R.sibling,b!==null){b.return=R.return,R=b;break}R=R.return}b=R}}function qf(s,l,h,p){s=null;for(var b=l,_=!1;b!==null;){if(!_){if((b.flags&524288)!==0)_=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var R=b.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var B=b.type;pi(b.pendingProps.value,R.value)||(s!==null?s.push(B):s=[B])}}else if(b===Fe.current){if(R=b.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(xh):s=[xh])}b=b.return}s!==null&&Ib(l,s,h,p),l.flags|=262144}function ag(s){for(s=s.firstContext;s!==null;){if(!pi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function mc(s){hc=s,Fs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function _r(s){return Qk(hc,s)}function sg(s,l){return hc===null&&mc(s),Qk(s,l)}function Qk(s,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Fs===null){if(s===null)throw Error(r(308));Fs=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Fs=Fs.next=l;return h}var iz=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(h,p){s.push(p)}};this.abort=function(){l.aborted=!0,s.forEach(function(h){return h()})}},az=t.unstable_scheduleCallback,sz=t.unstable_NormalPriority,Mn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rb(){return{controller:new iz,data:new Map,refCount:0}}function Hf(s){s.refCount--,s.refCount===0&&az(sz,function(){s.controller.abort()})}var Gf=null,Pb=0,$u=0,Bu=null;function oz(s,l){if(Gf===null){var h=Gf=[];Pb=0,$u=M1(),Bu={status:"pending",value:void 0,then:function(p){h.push(p)}}}return Pb++,l.then(Zk,Zk),l}function Zk(){if(--Pb===0&&Gf!==null){Bu!==null&&(Bu.status="fulfilled");var s=Gf;Gf=null,$u=0,Bu=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function lz(s,l){var h=[],p={status:"pending",value:null,reason:null,then:function(b){h.push(b)}};return s.then(function(){p.status="fulfilled",p.value=l;for(var b=0;b<h.length;b++)(0,h[b])(l)},function(b){for(p.status="rejected",p.reason=b,b=0;b<h.length;b++)(0,h[b])(void 0)}),p}var Jk=U.S;U.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&oz(s,l),Jk!==null&&Jk(s,l)};var pc=X(null);function Db(){var s=pc.current;return s!==null?s:Qt.pooledCache}function og(s,l){l===null?ce(pc,pc.current):ce(pc,l.pool)}function ej(){var s=Db();return s===null?null:{parent:Mn._currentValue,pool:s}}var Kf=Error(r(460)),tj=Error(r(474)),lg=Error(r(542)),Mb={then:function(){}};function nj(s){return s=s.status,s==="fulfilled"||s==="rejected"}function cg(){}function rj(s,l,h){switch(h=s[h],h===void 0?s.push(l):h!==l&&(l.then(cg,cg),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,aj(s),s;default:if(typeof l.status=="string")l.then(cg,cg);else{if(s=Qt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(p){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=p}},function(p){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,aj(s),s}throw Wf=l,Kf}}var Wf=null;function ij(){if(Wf===null)throw Error(r(459));var s=Wf;return Wf=null,s}function aj(s){if(s===Kf||s===lg)throw Error(r(483))}var Ho=!1;function Lb(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ub(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Go(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ko(s,l,h){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Rt&2)!==0){var b=p.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),p.pending=l,l=tg(s),Hk(s,null,h),l}return eg(s,p,l,h),tg(s)}function Yf(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var p=l.lanes;p&=s.pendingLanes,h|=p,l.lanes=h,Ze(s,h)}}function Vb(s,l){var h=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var b=null,_=null;if(h=h.firstBaseUpdate,h!==null){do{var R={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};_===null?b=_=R:_=_.next=R,h=h.next}while(h!==null);_===null?b=_=l:_=_.next=l}else b=_=l;h={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:_,shared:p.shared,callbacks:p.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}var $b=!1;function Xf(){if($b){var s=Bu;if(s!==null)throw s}}function Qf(s,l,h,p){$b=!1;var b=s.updateQueue;Ho=!1;var _=b.firstBaseUpdate,R=b.lastBaseUpdate,B=b.shared.pending;if(B!==null){b.shared.pending=null;var Y=B,ae=Y.next;Y.next=null,R===null?_=ae:R.next=ae,R=Y;var he=s.alternate;he!==null&&(he=he.updateQueue,B=he.lastBaseUpdate,B!==R&&(B===null?he.firstBaseUpdate=ae:B.next=ae,he.lastBaseUpdate=Y))}if(_!==null){var ge=b.baseState;R=0,he=ae=Y=null,B=_;do{var oe=B.lane&-536870913,le=oe!==B.lane;if(le?(xt&oe)===oe:(p&oe)===oe){oe!==0&&oe===$u&&($b=!0),he!==null&&(he=he.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var Je=s,We=B;oe=l;var Ft=h;switch(We.tag){case 1:if(Je=We.payload,typeof Je=="function"){ge=Je.call(Ft,ge,oe);break e}ge=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=We.payload,oe=typeof Je=="function"?Je.call(Ft,ge,oe):Je,oe==null)break e;ge=m({},ge,oe);break e;case 2:Ho=!0}}oe=B.callback,oe!==null&&(s.flags|=64,le&&(s.flags|=8192),le=b.callbacks,le===null?b.callbacks=[oe]:le.push(oe))}else le={lane:oe,tag:B.tag,payload:B.payload,callback:B.callback,next:null},he===null?(ae=he=le,Y=ge):he=he.next=le,R|=oe;if(B=B.next,B===null){if(B=b.shared.pending,B===null)break;le=B,B=le.next,le.next=null,b.lastBaseUpdate=le,b.shared.pending=null}}while(!0);he===null&&(Y=ge),b.baseState=Y,b.firstBaseUpdate=ae,b.lastBaseUpdate=he,_===null&&(b.shared.lanes=0),tl|=R,s.lanes=R,s.memoizedState=ge}}function sj(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function oj(s,l){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)sj(h[s],l)}var zu=X(null),ug=X(0);function lj(s,l){s=Qs,ce(ug,s),ce(zu,l),Qs=s|l.baseLanes}function Bb(){ce(ug,Qs),ce(zu,zu.current)}function zb(){Qs=ug.current,J(zu),J(ug)}var Wo=0,st=null,Bt=null,kn=null,dg=!1,Fu=!1,gc=!1,fg=0,Zf=0,qu=null,cz=0;function wn(){throw Error(r(321))}function Fb(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!pi(s[h],l[h]))return!1;return!0}function qb(s,l,h,p,b,_){return Wo=_,st=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,U.H=s===null||s.memoizedState===null?Hj:Gj,gc=!1,_=h(p,b),gc=!1,Fu&&(_=uj(l,h,p,b)),cj(s),_}function cj(s){U.H=yg;var l=Bt!==null&&Bt.next!==null;if(Wo=0,kn=Bt=st=null,dg=!1,Zf=0,qu=null,l)throw Error(r(300));s===null||Qn||(s=s.dependencies,s!==null&&ag(s)&&(Qn=!0))}function uj(s,l,h,p){st=s;var b=0;do{if(Fu&&(qu=null),Zf=0,Fu=!1,25<=b)throw Error(r(301));if(b+=1,kn=Bt=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}U.H=gz,_=l(h,p)}while(Fu);return _}function uz(){var s=U.H,l=s.useState()[0];return l=typeof l.then=="function"?Jf(l):l,s=s.useState()[0],(Bt!==null?Bt.memoizedState:null)!==s&&(st.flags|=1024),l}function Hb(){var s=fg!==0;return fg=0,s}function Gb(s,l,h){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~h}function Kb(s){if(dg){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}dg=!1}Wo=0,kn=Bt=st=null,Fu=!1,Zf=fg=0,qu=null}function Jr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?st.memoizedState=kn=s:kn=kn.next=s,kn}function jn(){if(Bt===null){var s=st.alternate;s=s!==null?s.memoizedState:null}else s=Bt.next;var l=kn===null?st.memoizedState:kn.next;if(l!==null)kn=l,Bt=s;else{if(s===null)throw st.alternate===null?Error(r(467)):Error(r(310));Bt=s,s={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},kn===null?st.memoizedState=kn=s:kn=kn.next=s}return kn}function Wb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jf(s){var l=Zf;return Zf+=1,qu===null&&(qu=[]),s=rj(qu,s,l),l=st,(kn===null?l.memoizedState:kn.next)===null&&(l=l.alternate,U.H=l===null||l.memoizedState===null?Hj:Gj),s}function hg(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Jf(s);if(s.$$typeof===j)return _r(s)}throw Error(r(438,String(s)))}function Yb(s){var l=null,h=st.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var p=st.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=Wb(),st.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(s),p=0;p<s;p++)h[p]=z;return l.index++,h}function Hs(s,l){return typeof l=="function"?l(s):l}function mg(s){var l=jn();return Xb(l,Bt,s)}function Xb(s,l,h){var p=s.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=h;var b=s.baseQueue,_=p.pending;if(_!==null){if(b!==null){var R=b.next;b.next=_.next,_.next=R}l.baseQueue=b=_,p.pending=null}if(_=s.baseState,b===null)s.memoizedState=_;else{l=b.next;var B=R=null,Y=null,ae=l,he=!1;do{var ge=ae.lane&-536870913;if(ge!==ae.lane?(xt&ge)===ge:(Wo&ge)===ge){var oe=ae.revertLane;if(oe===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),ge===$u&&(he=!0);else if((Wo&oe)===oe){ae=ae.next,oe===$u&&(he=!0);continue}else ge={lane:0,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Y===null?(B=Y=ge,R=_):Y=Y.next=ge,st.lanes|=oe,tl|=oe;ge=ae.action,gc&&h(_,ge),_=ae.hasEagerState?ae.eagerState:h(_,ge)}else oe={lane:ge,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Y===null?(B=Y=oe,R=_):Y=Y.next=oe,st.lanes|=ge,tl|=ge;ae=ae.next}while(ae!==null&&ae!==l);if(Y===null?R=_:Y.next=B,!pi(_,s.memoizedState)&&(Qn=!0,he&&(h=Bu,h!==null)))throw h;s.memoizedState=_,s.baseState=R,s.baseQueue=Y,p.lastRenderedState=_}return b===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function Qb(s){var l=jn(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var p=h.dispatch,b=h.pending,_=l.memoizedState;if(b!==null){h.pending=null;var R=b=b.next;do _=s(_,R.action),R=R.next;while(R!==b);pi(_,l.memoizedState)||(Qn=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),h.lastRenderedState=_}return[_,p]}function dj(s,l,h){var p=st,b=jn(),_=Nt;if(_){if(h===void 0)throw Error(r(407));h=h()}else h=l();var R=!pi((Bt||b).memoizedState,h);R&&(b.memoizedState=h,Qn=!0),b=b.queue;var B=mj.bind(null,p,b,s);if(eh(2048,8,B,[s]),b.getSnapshot!==l||R||kn!==null&&kn.memoizedState.tag&1){if(p.flags|=2048,Hu(9,pg(),hj.bind(null,p,b,h,l),null),Qt===null)throw Error(r(349));_||(Wo&124)!==0||fj(p,l,h)}return h}function fj(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=st.updateQueue,l===null?(l=Wb(),st.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function hj(s,l,h,p){l.value=h,l.getSnapshot=p,pj(l)&&gj(s)}function mj(s,l,h){return h(function(){pj(l)&&gj(s)})}function pj(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!pi(s,h)}catch{return!0}}function gj(s){var l=Mu(s,2);l!==null&&wi(l,s,2)}function Zb(s){var l=Jr();if(typeof s=="function"){var h=s;if(s=h(),gc){Vt(!0);try{h()}finally{Vt(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:s},l}function vj(s,l,h,p){return s.baseState=h,Xb(s,Bt,typeof p=="function"?p:Hs)}function dz(s,l,h,p,b){if(vg(s))throw Error(r(485));if(s=l.action,s!==null){var _={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){_.listeners.push(R)}};U.T!==null?h(!0):_.isTransition=!1,p(_),h=l.pending,h===null?(_.next=l.pending=_,yj(l,_)):(_.next=h.next,l.pending=h.next=_)}}function yj(s,l){var h=l.action,p=l.payload,b=s.state;if(l.isTransition){var _=U.T,R={};U.T=R;try{var B=h(b,p),Y=U.S;Y!==null&&Y(R,B),xj(s,l,B)}catch(ae){Jb(s,l,ae)}finally{U.T=_}}else try{_=h(b,p),xj(s,l,_)}catch(ae){Jb(s,l,ae)}}function xj(s,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(p){bj(s,l,p)},function(p){return Jb(s,l,p)}):bj(s,l,h)}function bj(s,l,h){l.status="fulfilled",l.value=h,wj(l),s.state=h,l=s.pending,l!==null&&(h=l.next,h===l?s.pending=null:(h=h.next,l.next=h,yj(s,h)))}function Jb(s,l,h){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=h,wj(l),l=l.next;while(l!==p)}s.action=null}function wj(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function _j(s,l){return l}function Ej(s,l){if(Nt){var h=Qt.formState;if(h!==null){e:{var p=st;if(Nt){if(mn){t:{for(var b=mn,_=ts;b.nodeType!==8;){if(!_){b=null;break t}if(b=Ea(b.nextSibling),b===null){b=null;break t}}_=b.data,b=_==="F!"||_==="F"?b:null}if(b){mn=Ea(b.nextSibling),p=b.data==="F!";break e}}fc(p)}p=!1}p&&(l=h[0])}}return h=Jr(),h.memoizedState=h.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_j,lastRenderedState:l},h.queue=p,h=zj.bind(null,st,p),p.dispatch=h,p=Zb(!1),_=i1.bind(null,st,!1,p.queue),p=Jr(),b={state:l,dispatch:null,action:s,pending:null},p.queue=b,h=dz.bind(null,st,b,_,h),b.dispatch=h,p.memoizedState=s,[l,h,!1]}function Sj(s){var l=jn();return Tj(l,Bt,s)}function Tj(s,l,h){if(l=Xb(s,l,_j)[0],s=mg(Hs)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=Jf(l)}catch(R){throw R===Kf?lg:R}else p=l;l=jn();var b=l.queue,_=b.dispatch;return h!==l.memoizedState&&(st.flags|=2048,Hu(9,pg(),fz.bind(null,b,h),null)),[p,_,s]}function fz(s,l){s.action=l}function Aj(s){var l=jn(),h=Bt;if(h!==null)return Tj(l,h,s);jn(),l=l.memoizedState,h=jn();var p=h.queue.dispatch;return h.memoizedState=s,[l,p,!1]}function Hu(s,l,h,p){return s={tag:s,create:h,deps:p,inst:l,next:null},l=st.updateQueue,l===null&&(l=Wb(),st.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=s.next=s:(p=h.next,h.next=s,s.next=p,l.lastEffect=s),s}function pg(){return{destroy:void 0,resource:void 0}}function Nj(){return jn().memoizedState}function gg(s,l,h,p){var b=Jr();p=p===void 0?null:p,st.flags|=s,b.memoizedState=Hu(1|l,pg(),h,p)}function eh(s,l,h,p){var b=jn();p=p===void 0?null:p;var _=b.memoizedState.inst;Bt!==null&&p!==null&&Fb(p,Bt.memoizedState.deps)?b.memoizedState=Hu(l,_,h,p):(st.flags|=s,b.memoizedState=Hu(1|l,_,h,p))}function kj(s,l){gg(8390656,8,s,l)}function jj(s,l){eh(2048,8,s,l)}function Cj(s,l){return eh(4,2,s,l)}function Oj(s,l){return eh(4,4,s,l)}function Ij(s,l){if(typeof l=="function"){s=s();var h=l(s);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function Rj(s,l,h){h=h!=null?h.concat([s]):null,eh(4,4,Ij.bind(null,l,s),h)}function e1(){}function Pj(s,l){var h=jn();l=l===void 0?null:l;var p=h.memoizedState;return l!==null&&Fb(l,p[1])?p[0]:(h.memoizedState=[s,l],s)}function Dj(s,l){var h=jn();l=l===void 0?null:l;var p=h.memoizedState;if(l!==null&&Fb(l,p[1]))return p[0];if(p=s(),gc){Vt(!0);try{s()}finally{Vt(!1)}}return h.memoizedState=[p,l],p}function t1(s,l,h){return h===void 0||(Wo&1073741824)!==0?s.memoizedState=l:(s.memoizedState=h,s=UC(),st.lanes|=s,tl|=s,h)}function Mj(s,l,h,p){return pi(h,l)?h:zu.current!==null?(s=t1(s,h,p),pi(s,l)||(Qn=!0),s):(Wo&42)===0?(Qn=!0,s.memoizedState=h):(s=UC(),st.lanes|=s,tl|=s,l)}function Lj(s,l,h,p,b){var _=K.p;K.p=_!==0&&8>_?_:8;var R=U.T,B={};U.T=B,i1(s,!1,l,h);try{var Y=b(),ae=U.S;if(ae!==null&&ae(B,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var he=lz(Y,p);th(s,l,he,bi(s))}else th(s,l,p,bi(s))}catch(ge){th(s,l,{then:function(){},status:"rejected",reason:ge},bi())}finally{K.p=_,U.T=R}}function hz(){}function n1(s,l,h,p){if(s.tag!==5)throw Error(r(476));var b=Uj(s).queue;Lj(s,b,l,ee,h===null?hz:function(){return Vj(s),h(p)})}function Uj(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:ee},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:h},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function Vj(s){var l=Uj(s).next.queue;th(s,l,{},bi())}function r1(){return _r(xh)}function $j(){return jn().memoizedState}function Bj(){return jn().memoizedState}function mz(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var h=bi();s=Go(h);var p=Ko(l,s,h);p!==null&&(wi(p,l,h),Yf(p,l,h)),l={cache:Rb()},s.payload=l;return}l=l.return}}function pz(s,l,h){var p=bi();h={lane:p,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},vg(s)?Fj(l,h):(h=Eb(s,l,h,p),h!==null&&(wi(h,s,p),qj(h,l,p)))}function zj(s,l,h){var p=bi();th(s,l,h,p)}function th(s,l,h,p){var b={lane:p,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(vg(s))Fj(l,b);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var R=l.lastRenderedState,B=_(R,h);if(b.hasEagerState=!0,b.eagerState=B,pi(B,R))return eg(s,l,b,0),Qt===null&&Jp(),!1}catch{}finally{}if(h=Eb(s,l,b,p),h!==null)return wi(h,s,p),qj(h,l,p),!0}return!1}function i1(s,l,h,p){if(p={lane:2,revertLane:M1(),action:p,hasEagerState:!1,eagerState:null,next:null},vg(s)){if(l)throw Error(r(479))}else l=Eb(s,h,p,2),l!==null&&wi(l,s,2)}function vg(s){var l=s.alternate;return s===st||l!==null&&l===st}function Fj(s,l){Fu=dg=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function qj(s,l,h){if((h&4194048)!==0){var p=l.lanes;p&=s.pendingLanes,h|=p,l.lanes=h,Ze(s,h)}}var yg={readContext:_r,use:hg,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useLayoutEffect:wn,useInsertionEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useSyncExternalStore:wn,useId:wn,useHostTransitionStatus:wn,useFormState:wn,useActionState:wn,useOptimistic:wn,useMemoCache:wn,useCacheRefresh:wn},Hj={readContext:_r,use:hg,useCallback:function(s,l){return Jr().memoizedState=[s,l===void 0?null:l],s},useContext:_r,useEffect:kj,useImperativeHandle:function(s,l,h){h=h!=null?h.concat([s]):null,gg(4194308,4,Ij.bind(null,l,s),h)},useLayoutEffect:function(s,l){return gg(4194308,4,s,l)},useInsertionEffect:function(s,l){gg(4,2,s,l)},useMemo:function(s,l){var h=Jr();l=l===void 0?null:l;var p=s();if(gc){Vt(!0);try{s()}finally{Vt(!1)}}return h.memoizedState=[p,l],p},useReducer:function(s,l,h){var p=Jr();if(h!==void 0){var b=h(l);if(gc){Vt(!0);try{h(l)}finally{Vt(!1)}}}else b=l;return p.memoizedState=p.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},p.queue=s,s=s.dispatch=pz.bind(null,st,s),[p.memoizedState,s]},useRef:function(s){var l=Jr();return s={current:s},l.memoizedState=s},useState:function(s){s=Zb(s);var l=s.queue,h=zj.bind(null,st,l);return l.dispatch=h,[s.memoizedState,h]},useDebugValue:e1,useDeferredValue:function(s,l){var h=Jr();return t1(h,s,l)},useTransition:function(){var s=Zb(!1);return s=Lj.bind(null,st,s.queue,!0,!1),Jr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,h){var p=st,b=Jr();if(Nt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),Qt===null)throw Error(r(349));(xt&124)!==0||fj(p,l,h)}b.memoizedState=h;var _={value:h,getSnapshot:l};return b.queue=_,kj(mj.bind(null,p,_,s),[s]),p.flags|=2048,Hu(9,pg(),hj.bind(null,p,_,h,l),null),h},useId:function(){var s=Jr(),l=Qt.identifierPrefix;if(Nt){var h=zs,p=Bs;h=(p&~(1<<32-Et(p)-1)).toString(32)+h,l="«"+l+"R"+h,h=fg++,0<h&&(l+="H"+h.toString(32)),l+="»"}else h=cz++,l="«"+l+"r"+h.toString(32)+"»";return s.memoizedState=l},useHostTransitionStatus:r1,useFormState:Ej,useActionState:Ej,useOptimistic:function(s){var l=Jr();l.memoizedState=l.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=i1.bind(null,st,!0,h),h.dispatch=l,[s,l]},useMemoCache:Yb,useCacheRefresh:function(){return Jr().memoizedState=mz.bind(null,st)}},Gj={readContext:_r,use:hg,useCallback:Pj,useContext:_r,useEffect:jj,useImperativeHandle:Rj,useInsertionEffect:Cj,useLayoutEffect:Oj,useMemo:Dj,useReducer:mg,useRef:Nj,useState:function(){return mg(Hs)},useDebugValue:e1,useDeferredValue:function(s,l){var h=jn();return Mj(h,Bt.memoizedState,s,l)},useTransition:function(){var s=mg(Hs)[0],l=jn().memoizedState;return[typeof s=="boolean"?s:Jf(s),l]},useSyncExternalStore:dj,useId:$j,useHostTransitionStatus:r1,useFormState:Sj,useActionState:Sj,useOptimistic:function(s,l){var h=jn();return vj(h,Bt,s,l)},useMemoCache:Yb,useCacheRefresh:Bj},gz={readContext:_r,use:hg,useCallback:Pj,useContext:_r,useEffect:jj,useImperativeHandle:Rj,useInsertionEffect:Cj,useLayoutEffect:Oj,useMemo:Dj,useReducer:Qb,useRef:Nj,useState:function(){return Qb(Hs)},useDebugValue:e1,useDeferredValue:function(s,l){var h=jn();return Bt===null?t1(h,s,l):Mj(h,Bt.memoizedState,s,l)},useTransition:function(){var s=Qb(Hs)[0],l=jn().memoizedState;return[typeof s=="boolean"?s:Jf(s),l]},useSyncExternalStore:dj,useId:$j,useHostTransitionStatus:r1,useFormState:Aj,useActionState:Aj,useOptimistic:function(s,l){var h=jn();return Bt!==null?vj(h,Bt,s,l):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:Yb,useCacheRefresh:Bj},Gu=null,nh=0;function xg(s){var l=nh;return nh+=1,Gu===null&&(Gu=[]),rj(Gu,s,l)}function rh(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function bg(s,l){throw l.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function Kj(s){var l=s._init;return l(s._payload)}function Wj(s){function l(te,Z){if(s){var ie=te.deletions;ie===null?(te.deletions=[Z],te.flags|=16):ie.push(Z)}}function h(te,Z){if(!s)return null;for(;Z!==null;)l(te,Z),Z=Z.sibling;return null}function p(te){for(var Z=new Map;te!==null;)te.key!==null?Z.set(te.key,te):Z.set(te.index,te),te=te.sibling;return Z}function b(te,Z){return te=$s(te,Z),te.index=0,te.sibling=null,te}function _(te,Z,ie){return te.index=ie,s?(ie=te.alternate,ie!==null?(ie=ie.index,ie<Z?(te.flags|=67108866,Z):ie):(te.flags|=67108866,Z)):(te.flags|=1048576,Z)}function R(te){return s&&te.alternate===null&&(te.flags|=67108866),te}function B(te,Z,ie,me){return Z===null||Z.tag!==6?(Z=Tb(ie,te.mode,me),Z.return=te,Z):(Z=b(Z,ie),Z.return=te,Z)}function Y(te,Z,ie,me){var Me=ie.type;return Me===w?he(te,Z,ie.props.children,me,ie.key):Z!==null&&(Z.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===C&&Kj(Me)===Z.type)?(Z=b(Z,ie.props),rh(Z,ie),Z.return=te,Z):(Z=ng(ie.type,ie.key,ie.props,null,te.mode,me),rh(Z,ie),Z.return=te,Z)}function ae(te,Z,ie,me){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ie.containerInfo||Z.stateNode.implementation!==ie.implementation?(Z=Ab(ie,te.mode,me),Z.return=te,Z):(Z=b(Z,ie.children||[]),Z.return=te,Z)}function he(te,Z,ie,me,Me){return Z===null||Z.tag!==7?(Z=lc(ie,te.mode,me,Me),Z.return=te,Z):(Z=b(Z,ie),Z.return=te,Z)}function ge(te,Z,ie){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=Tb(""+Z,te.mode,ie),Z.return=te,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return ie=ng(Z.type,Z.key,Z.props,null,te.mode,ie),rh(ie,Z),ie.return=te,ie;case x:return Z=Ab(Z,te.mode,ie),Z.return=te,Z;case C:var me=Z._init;return Z=me(Z._payload),ge(te,Z,ie)}if(W(Z)||H(Z))return Z=lc(Z,te.mode,ie,null),Z.return=te,Z;if(typeof Z.then=="function")return ge(te,xg(Z),ie);if(Z.$$typeof===j)return ge(te,sg(te,Z),ie);bg(te,Z)}return null}function oe(te,Z,ie,me){var Me=Z!==null?Z.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Me!==null?null:B(te,Z,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:return ie.key===Me?Y(te,Z,ie,me):null;case x:return ie.key===Me?ae(te,Z,ie,me):null;case C:return Me=ie._init,ie=Me(ie._payload),oe(te,Z,ie,me)}if(W(ie)||H(ie))return Me!==null?null:he(te,Z,ie,me,null);if(typeof ie.then=="function")return oe(te,Z,xg(ie),me);if(ie.$$typeof===j)return oe(te,Z,sg(te,ie),me);bg(te,ie)}return null}function le(te,Z,ie,me,Me){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return te=te.get(ie)||null,B(Z,te,""+me,Me);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case v:return te=te.get(me.key===null?ie:me.key)||null,Y(Z,te,me,Me);case x:return te=te.get(me.key===null?ie:me.key)||null,ae(Z,te,me,Me);case C:var ct=me._init;return me=ct(me._payload),le(te,Z,ie,me,Me)}if(W(me)||H(me))return te=te.get(ie)||null,he(Z,te,me,Me,null);if(typeof me.then=="function")return le(te,Z,ie,xg(me),Me);if(me.$$typeof===j)return le(te,Z,ie,sg(Z,me),Me);bg(Z,me)}return null}function Je(te,Z,ie,me){for(var Me=null,ct=null,Ve=Z,Ye=Z=0,Jn=null;Ve!==null&&Ye<ie.length;Ye++){Ve.index>Ye?(Jn=Ve,Ve=null):Jn=Ve.sibling;var St=oe(te,Ve,ie[Ye],me);if(St===null){Ve===null&&(Ve=Jn);break}s&&Ve&&St.alternate===null&&l(te,Ve),Z=_(St,Z,Ye),ct===null?Me=St:ct.sibling=St,ct=St,Ve=Jn}if(Ye===ie.length)return h(te,Ve),Nt&&uc(te,Ye),Me;if(Ve===null){for(;Ye<ie.length;Ye++)Ve=ge(te,ie[Ye],me),Ve!==null&&(Z=_(Ve,Z,Ye),ct===null?Me=Ve:ct.sibling=Ve,ct=Ve);return Nt&&uc(te,Ye),Me}for(Ve=p(Ve);Ye<ie.length;Ye++)Jn=le(Ve,te,Ye,ie[Ye],me),Jn!==null&&(s&&Jn.alternate!==null&&Ve.delete(Jn.key===null?Ye:Jn.key),Z=_(Jn,Z,Ye),ct===null?Me=Jn:ct.sibling=Jn,ct=Jn);return s&&Ve.forEach(function(ul){return l(te,ul)}),Nt&&uc(te,Ye),Me}function We(te,Z,ie,me){if(ie==null)throw Error(r(151));for(var Me=null,ct=null,Ve=Z,Ye=Z=0,Jn=null,St=ie.next();Ve!==null&&!St.done;Ye++,St=ie.next()){Ve.index>Ye?(Jn=Ve,Ve=null):Jn=Ve.sibling;var ul=oe(te,Ve,St.value,me);if(ul===null){Ve===null&&(Ve=Jn);break}s&&Ve&&ul.alternate===null&&l(te,Ve),Z=_(ul,Z,Ye),ct===null?Me=ul:ct.sibling=ul,ct=ul,Ve=Jn}if(St.done)return h(te,Ve),Nt&&uc(te,Ye),Me;if(Ve===null){for(;!St.done;Ye++,St=ie.next())St=ge(te,St.value,me),St!==null&&(Z=_(St,Z,Ye),ct===null?Me=St:ct.sibling=St,ct=St);return Nt&&uc(te,Ye),Me}for(Ve=p(Ve);!St.done;Ye++,St=ie.next())St=le(Ve,te,Ye,St.value,me),St!==null&&(s&&St.alternate!==null&&Ve.delete(St.key===null?Ye:St.key),Z=_(St,Z,Ye),ct===null?Me=St:ct.sibling=St,ct=St);return s&&Ve.forEach(function(vF){return l(te,vF)}),Nt&&uc(te,Ye),Me}function Ft(te,Z,ie,me){if(typeof ie=="object"&&ie!==null&&ie.type===w&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:e:{for(var Me=ie.key;Z!==null;){if(Z.key===Me){if(Me=ie.type,Me===w){if(Z.tag===7){h(te,Z.sibling),me=b(Z,ie.props.children),me.return=te,te=me;break e}}else if(Z.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===C&&Kj(Me)===Z.type){h(te,Z.sibling),me=b(Z,ie.props),rh(me,ie),me.return=te,te=me;break e}h(te,Z);break}else l(te,Z);Z=Z.sibling}ie.type===w?(me=lc(ie.props.children,te.mode,me,ie.key),me.return=te,te=me):(me=ng(ie.type,ie.key,ie.props,null,te.mode,me),rh(me,ie),me.return=te,te=me)}return R(te);case x:e:{for(Me=ie.key;Z!==null;){if(Z.key===Me)if(Z.tag===4&&Z.stateNode.containerInfo===ie.containerInfo&&Z.stateNode.implementation===ie.implementation){h(te,Z.sibling),me=b(Z,ie.children||[]),me.return=te,te=me;break e}else{h(te,Z);break}else l(te,Z);Z=Z.sibling}me=Ab(ie,te.mode,me),me.return=te,te=me}return R(te);case C:return Me=ie._init,ie=Me(ie._payload),Ft(te,Z,ie,me)}if(W(ie))return Je(te,Z,ie,me);if(H(ie)){if(Me=H(ie),typeof Me!="function")throw Error(r(150));return ie=Me.call(ie),We(te,Z,ie,me)}if(typeof ie.then=="function")return Ft(te,Z,xg(ie),me);if(ie.$$typeof===j)return Ft(te,Z,sg(te,ie),me);bg(te,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,Z!==null&&Z.tag===6?(h(te,Z.sibling),me=b(Z,ie),me.return=te,te=me):(h(te,Z),me=Tb(ie,te.mode,me),me.return=te,te=me),R(te)):h(te,Z)}return function(te,Z,ie,me){try{nh=0;var Me=Ft(te,Z,ie,me);return Gu=null,Me}catch(Ve){if(Ve===Kf||Ve===lg)throw Ve;var ct=gi(29,Ve,null,te.mode);return ct.lanes=me,ct.return=te,ct}finally{}}}var Ku=Wj(!0),Yj=Wj(!1),Yi=X(null),ns=null;function Yo(s){var l=s.alternate;ce(Ln,Ln.current&1),ce(Yi,s),ns===null&&(l===null||zu.current!==null||l.memoizedState!==null)&&(ns=s)}function Xj(s){if(s.tag===22){if(ce(Ln,Ln.current),ce(Yi,s),ns===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(ns=s)}}else Xo()}function Xo(){ce(Ln,Ln.current),ce(Yi,Yi.current)}function Gs(s){J(Yi),ns===s&&(ns=null),J(Ln)}var Ln=X(0);function wg(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||W1(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function a1(s,l,h,p){l=s.memoizedState,h=h(p,l),h=h==null?l:m({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var s1={enqueueSetState:function(s,l,h){s=s._reactInternals;var p=bi(),b=Go(p);b.payload=l,h!=null&&(b.callback=h),l=Ko(s,b,p),l!==null&&(wi(l,s,p),Yf(l,s,p))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var p=bi(),b=Go(p);b.tag=1,b.payload=l,h!=null&&(b.callback=h),l=Ko(s,b,p),l!==null&&(wi(l,s,p),Yf(l,s,p))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=bi(),p=Go(h);p.tag=2,l!=null&&(p.callback=l),l=Ko(s,p,h),l!==null&&(wi(l,s,h),Yf(l,s,h))}};function Qj(s,l,h,p,b,_,R){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,_,R):l.prototype&&l.prototype.isPureReactComponent?!Vf(h,p)||!Vf(b,_):!0}function Zj(s,l,h,p){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,p),l.state!==s&&s1.enqueueReplaceState(l,l.state,null)}function vc(s,l){var h=l;if("ref"in l){h={};for(var p in l)p!=="ref"&&(h[p]=l[p])}if(s=s.defaultProps){h===l&&(h=m({},h));for(var b in s)h[b]===void 0&&(h[b]=s[b])}return h}var _g=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Jj(s){_g(s)}function eC(s){console.error(s)}function tC(s){_g(s)}function Eg(s,l){try{var h=s.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function nC(s,l,h){try{var p=s.onCaughtError;p(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function o1(s,l,h){return h=Go(h),h.tag=3,h.payload={element:null},h.callback=function(){Eg(s,l)},h}function rC(s){return s=Go(s),s.tag=3,s}function iC(s,l,h,p){var b=h.type.getDerivedStateFromError;if(typeof b=="function"){var _=p.value;s.payload=function(){return b(_)},s.callback=function(){nC(l,h,p)}}var R=h.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(s.callback=function(){nC(l,h,p),typeof b!="function"&&(nl===null?nl=new Set([this]):nl.add(this));var B=p.stack;this.componentDidCatch(p.value,{componentStack:B!==null?B:""})})}function vz(s,l,h,p,b){if(h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=h.alternate,l!==null&&qf(l,h,b,!0),h=Yi.current,h!==null){switch(h.tag){case 13:return ns===null?O1():h.alternate===null&&pn===0&&(pn=3),h.flags&=-257,h.flags|=65536,h.lanes=b,p===Mb?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([p]):l.add(p),R1(s,p,b)),!1;case 22:return h.flags|=65536,p===Mb?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([p]):h.add(p)),R1(s,p,b)),!1}throw Error(r(435,h.tag))}return R1(s,p,b),O1(),!1}if(Nt)return l=Yi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,p!==jb&&(s=Error(r(422),{cause:p}),Ff(Hi(s,h)))):(p!==jb&&(l=Error(r(423),{cause:p}),Ff(Hi(l,h))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,p=Hi(p,h),b=o1(s.stateNode,p,b),Vb(s,b),pn!==4&&(pn=2)),!1;var _=Error(r(520),{cause:p});if(_=Hi(_,h),uh===null?uh=[_]:uh.push(_),pn!==4&&(pn=2),l===null)return!0;p=Hi(p,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,s=b&-b,h.lanes|=s,s=o1(h.stateNode,p,s),Vb(h,s),!1;case 1:if(l=h.type,_=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(nl===null||!nl.has(_))))return h.flags|=65536,b&=-b,h.lanes|=b,b=rC(b),iC(b,s,h,p),Vb(h,b),!1}h=h.return}while(h!==null);return!1}var aC=Error(r(461)),Qn=!1;function ur(s,l,h,p){l.child=s===null?Yj(l,null,h,p):Ku(l,s.child,h,p)}function sC(s,l,h,p,b){h=h.render;var _=l.ref;if("ref"in p){var R={};for(var B in p)B!=="ref"&&(R[B]=p[B])}else R=p;return mc(l),p=qb(s,l,h,R,_,b),B=Hb(),s!==null&&!Qn?(Gb(s,l,b),Ks(s,l,b)):(Nt&&B&&Nb(l),l.flags|=1,ur(s,l,p,b),l.child)}function oC(s,l,h,p,b){if(s===null){var _=h.type;return typeof _=="function"&&!Sb(_)&&_.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=_,lC(s,l,_,p,b)):(s=ng(h.type,null,p,l,l.mode,b),s.ref=l.ref,s.return=l,l.child=s)}if(_=s.child,!p1(s,b)){var R=_.memoizedProps;if(h=h.compare,h=h!==null?h:Vf,h(R,p)&&s.ref===l.ref)return Ks(s,l,b)}return l.flags|=1,s=$s(_,p),s.ref=l.ref,s.return=l,l.child=s}function lC(s,l,h,p,b){if(s!==null){var _=s.memoizedProps;if(Vf(_,p)&&s.ref===l.ref)if(Qn=!1,l.pendingProps=p=_,p1(s,b))(s.flags&131072)!==0&&(Qn=!0);else return l.lanes=s.lanes,Ks(s,l,b)}return l1(s,l,h,p,b)}function cC(s,l,h){var p=l.pendingProps,b=p.children,_=s!==null?s.memoizedState:null;if(p.mode==="hidden"){if((l.flags&128)!==0){if(p=_!==null?_.baseLanes|h:h,s!==null){for(b=l.child=s.child,_=0;b!==null;)_=_|b.lanes|b.childLanes,b=b.sibling;l.childLanes=_&~p}else l.childLanes=0,l.child=null;return uC(s,l,p,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&og(l,_!==null?_.cachePool:null),_!==null?lj(l,_):Bb(),Xj(l);else return l.lanes=l.childLanes=536870912,uC(s,l,_!==null?_.baseLanes|h:h,h)}else _!==null?(og(l,_.cachePool),lj(l,_),Xo(),l.memoizedState=null):(s!==null&&og(l,null),Bb(),Xo());return ur(s,l,b,h),l.child}function uC(s,l,h,p){var b=Db();return b=b===null?null:{parent:Mn._currentValue,pool:b},l.memoizedState={baseLanes:h,cachePool:b},s!==null&&og(l,null),Bb(),Xj(l),s!==null&&qf(s,l,p,!0),null}function Sg(s,l){var h=l.ref;if(h===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(l.flags|=4194816)}}function l1(s,l,h,p,b){return mc(l),h=qb(s,l,h,p,void 0,b),p=Hb(),s!==null&&!Qn?(Gb(s,l,b),Ks(s,l,b)):(Nt&&p&&Nb(l),l.flags|=1,ur(s,l,h,b),l.child)}function dC(s,l,h,p,b,_){return mc(l),l.updateQueue=null,h=uj(l,p,h,b),cj(s),p=Hb(),s!==null&&!Qn?(Gb(s,l,_),Ks(s,l,_)):(Nt&&p&&Nb(l),l.flags|=1,ur(s,l,h,_),l.child)}function fC(s,l,h,p,b){if(mc(l),l.stateNode===null){var _=Lu,R=h.contextType;typeof R=="object"&&R!==null&&(_=_r(R)),_=new h(p,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=s1,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=p,_.state=l.memoizedState,_.refs={},Lb(l),R=h.contextType,_.context=typeof R=="object"&&R!==null?_r(R):Lu,_.state=l.memoizedState,R=h.getDerivedStateFromProps,typeof R=="function"&&(a1(l,h,R,p),_.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(R=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),R!==_.state&&s1.enqueueReplaceState(_,_.state,null),Qf(l,p,_,b),Xf(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(s===null){_=l.stateNode;var B=l.memoizedProps,Y=vc(h,B);_.props=Y;var ae=_.context,he=h.contextType;R=Lu,typeof he=="object"&&he!==null&&(R=_r(he));var ge=h.getDerivedStateFromProps;he=typeof ge=="function"||typeof _.getSnapshotBeforeUpdate=="function",B=l.pendingProps!==B,he||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(B||ae!==R)&&Zj(l,_,p,R),Ho=!1;var oe=l.memoizedState;_.state=oe,Qf(l,p,_,b),Xf(),ae=l.memoizedState,B||oe!==ae||Ho?(typeof ge=="function"&&(a1(l,h,ge,p),ae=l.memoizedState),(Y=Ho||Qj(l,h,Y,p,oe,ae,R))?(he||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=ae),_.props=p,_.state=ae,_.context=R,p=Y):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{_=l.stateNode,Ub(s,l),R=l.memoizedProps,he=vc(h,R),_.props=he,ge=l.pendingProps,oe=_.context,ae=h.contextType,Y=Lu,typeof ae=="object"&&ae!==null&&(Y=_r(ae)),B=h.getDerivedStateFromProps,(ae=typeof B=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==ge||oe!==Y)&&Zj(l,_,p,Y),Ho=!1,oe=l.memoizedState,_.state=oe,Qf(l,p,_,b),Xf();var le=l.memoizedState;R!==ge||oe!==le||Ho||s!==null&&s.dependencies!==null&&ag(s.dependencies)?(typeof B=="function"&&(a1(l,h,B,p),le=l.memoizedState),(he=Ho||Qj(l,h,he,p,oe,le,Y)||s!==null&&s.dependencies!==null&&ag(s.dependencies))?(ae||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(p,le,Y),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(p,le,Y)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||R===s.memoizedProps&&oe===s.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&oe===s.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=le),_.props=p,_.state=le,_.context=Y,p=he):(typeof _.componentDidUpdate!="function"||R===s.memoizedProps&&oe===s.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&oe===s.memoizedState||(l.flags|=1024),p=!1)}return _=p,Sg(s,l),p=(l.flags&128)!==0,_||p?(_=l.stateNode,h=p&&typeof h.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,s!==null&&p?(l.child=Ku(l,s.child,null,b),l.child=Ku(l,null,h,b)):ur(s,l,h,b),l.memoizedState=_.state,s=l.child):s=Ks(s,l,b),s}function hC(s,l,h,p){return zf(),l.flags|=256,ur(s,l,h,p),l.child}var c1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function u1(s){return{baseLanes:s,cachePool:ej()}}function d1(s,l,h){return s=s!==null?s.childLanes&~h:0,l&&(s|=Xi),s}function mC(s,l,h){var p=l.pendingProps,b=!1,_=(l.flags&128)!==0,R;if((R=_)||(R=s!==null&&s.memoizedState===null?!1:(Ln.current&2)!==0),R&&(b=!0,l.flags&=-129),R=(l.flags&32)!==0,l.flags&=-33,s===null){if(Nt){if(b?Yo(l):Xo(),Nt){var B=mn,Y;if(Y=B){e:{for(Y=B,B=ts;Y.nodeType!==8;){if(!B){B=null;break e}if(Y=Ea(Y.nextSibling),Y===null){B=null;break e}}B=Y}B!==null?(l.memoizedState={dehydrated:B,treeContext:cc!==null?{id:Bs,overflow:zs}:null,retryLane:536870912,hydrationErrors:null},Y=gi(18,null,null,0),Y.stateNode=B,Y.return=l,l.child=Y,Lr=l,mn=null,Y=!0):Y=!1}Y||fc(l)}if(B=l.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return W1(B)?l.lanes=32:l.lanes=536870912,null;Gs(l)}return B=p.children,p=p.fallback,b?(Xo(),b=l.mode,B=Tg({mode:"hidden",children:B},b),p=lc(p,b,h,null),B.return=l,p.return=l,B.sibling=p,l.child=B,b=l.child,b.memoizedState=u1(h),b.childLanes=d1(s,R,h),l.memoizedState=c1,p):(Yo(l),f1(l,B))}if(Y=s.memoizedState,Y!==null&&(B=Y.dehydrated,B!==null)){if(_)l.flags&256?(Yo(l),l.flags&=-257,l=h1(s,l,h)):l.memoizedState!==null?(Xo(),l.child=s.child,l.flags|=128,l=null):(Xo(),b=p.fallback,B=l.mode,p=Tg({mode:"visible",children:p.children},B),b=lc(b,B,h,null),b.flags|=2,p.return=l,b.return=l,p.sibling=b,l.child=p,Ku(l,s.child,null,h),p=l.child,p.memoizedState=u1(h),p.childLanes=d1(s,R,h),l.memoizedState=c1,l=b);else if(Yo(l),W1(B)){if(R=B.nextSibling&&B.nextSibling.dataset,R)var ae=R.dgst;R=ae,p=Error(r(419)),p.stack="",p.digest=R,Ff({value:p,source:null,stack:null}),l=h1(s,l,h)}else if(Qn||qf(s,l,h,!1),R=(h&s.childLanes)!==0,Qn||R){if(R=Qt,R!==null&&(p=h&-h,p=(p&42)!==0?1:Pe(p),p=(p&(R.suspendedLanes|h))!==0?0:p,p!==0&&p!==Y.retryLane))throw Y.retryLane=p,Mu(s,p),wi(R,s,p),aC;B.data==="$?"||O1(),l=h1(s,l,h)}else B.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=Y.treeContext,mn=Ea(B.nextSibling),Lr=l,Nt=!0,dc=null,ts=!1,s!==null&&(Ki[Wi++]=Bs,Ki[Wi++]=zs,Ki[Wi++]=cc,Bs=s.id,zs=s.overflow,cc=l),l=f1(l,p.children),l.flags|=4096);return l}return b?(Xo(),b=p.fallback,B=l.mode,Y=s.child,ae=Y.sibling,p=$s(Y,{mode:"hidden",children:p.children}),p.subtreeFlags=Y.subtreeFlags&65011712,ae!==null?b=$s(ae,b):(b=lc(b,B,h,null),b.flags|=2),b.return=l,p.return=l,p.sibling=b,l.child=p,p=b,b=l.child,B=s.child.memoizedState,B===null?B=u1(h):(Y=B.cachePool,Y!==null?(ae=Mn._currentValue,Y=Y.parent!==ae?{parent:ae,pool:ae}:Y):Y=ej(),B={baseLanes:B.baseLanes|h,cachePool:Y}),b.memoizedState=B,b.childLanes=d1(s,R,h),l.memoizedState=c1,p):(Yo(l),h=s.child,s=h.sibling,h=$s(h,{mode:"visible",children:p.children}),h.return=l,h.sibling=null,s!==null&&(R=l.deletions,R===null?(l.deletions=[s],l.flags|=16):R.push(s)),l.child=h,l.memoizedState=null,h)}function f1(s,l){return l=Tg({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function Tg(s,l){return s=gi(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function h1(s,l,h){return Ku(l,s.child,null,h),s=f1(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function pC(s,l,h){s.lanes|=l;var p=s.alternate;p!==null&&(p.lanes|=l),Ob(s.return,l,h)}function m1(s,l,h,p,b){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:b}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=h,_.tailMode=b)}function gC(s,l,h){var p=l.pendingProps,b=p.revealOrder,_=p.tail;if(ur(s,l,p.children,h),p=Ln.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&pC(s,h,l);else if(s.tag===19)pC(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}switch(ce(Ln,p),b){case"forwards":for(h=l.child,b=null;h!==null;)s=h.alternate,s!==null&&wg(s)===null&&(b=h),h=h.sibling;h=b,h===null?(b=l.child,l.child=null):(b=h.sibling,h.sibling=null),m1(l,!1,b,h,_);break;case"backwards":for(h=null,b=l.child,l.child=null;b!==null;){if(s=b.alternate,s!==null&&wg(s)===null){l.child=b;break}s=b.sibling,b.sibling=h,h=b,b=s}m1(l,!0,h,null,_);break;case"together":m1(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ks(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),tl|=l.lanes,(h&l.childLanes)===0)if(s!==null){if(qf(s,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,h=$s(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=$s(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function p1(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&ag(s)))}function yz(s,l,h){switch(l.tag){case 3:Ie(l,l.stateNode.containerInfo),qo(l,Mn,s.memoizedState.cache),zf();break;case 27:case 5:Ee(l);break;case 4:Ie(l,l.stateNode.containerInfo);break;case 10:qo(l,l.type,l.memoizedProps.value);break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(Yo(l),l.flags|=128,null):(h&l.child.childLanes)!==0?mC(s,l,h):(Yo(l),s=Ks(s,l,h),s!==null?s.sibling:null);Yo(l);break;case 19:var b=(s.flags&128)!==0;if(p=(h&l.childLanes)!==0,p||(qf(s,l,h,!1),p=(h&l.childLanes)!==0),b){if(p)return gC(s,l,h);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ce(Ln,Ln.current),p)break;return null;case 22:case 23:return l.lanes=0,cC(s,l,h);case 24:qo(l,Mn,s.memoizedState.cache)}return Ks(s,l,h)}function vC(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps)Qn=!0;else{if(!p1(s,h)&&(l.flags&128)===0)return Qn=!1,yz(s,l,h);Qn=(s.flags&131072)!==0}else Qn=!1,Nt&&(l.flags&1048576)!==0&&Kk(l,ig,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var p=l.elementType,b=p._init;if(p=b(p._payload),l.type=p,typeof p=="function")Sb(p)?(s=vc(p,s),l.tag=1,l=fC(null,l,p,s,h)):(l.tag=0,l=l1(null,l,p,s,h));else{if(p!=null){if(b=p.$$typeof,b===D){l.tag=11,l=sC(null,l,p,s,h);break e}else if(b===P){l.tag=14,l=oC(null,l,p,s,h);break e}}throw l=G(p)||p,Error(r(306,l,""))}}return l;case 0:return l1(s,l,l.type,l.pendingProps,h);case 1:return p=l.type,b=vc(p,l.pendingProps),fC(s,l,p,b,h);case 3:e:{if(Ie(l,l.stateNode.containerInfo),s===null)throw Error(r(387));p=l.pendingProps;var _=l.memoizedState;b=_.element,Ub(s,l),Qf(l,p,null,h);var R=l.memoizedState;if(p=R.cache,qo(l,Mn,p),p!==_.cache&&Ib(l,[Mn],h,!0),Xf(),p=R.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:R.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=hC(s,l,p,h);break e}else if(p!==b){b=Hi(Error(r(424)),l),Ff(b),l=hC(s,l,p,h);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(mn=Ea(s.firstChild),Lr=l,Nt=!0,dc=null,ts=!0,h=Yj(l,null,p,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(zf(),p===b){l=Ks(s,l,h);break e}ur(s,l,p,h)}l=l.child}return l;case 26:return Sg(s,l),s===null?(h=w5(l.type,null,l.pendingProps,null))?l.memoizedState=h:Nt||(h=l.type,s=l.pendingProps,p=Vg(Ne.current).createElement(h),p[gt]=l,p[wt]=s,fr(p,h,s),bn(p),l.stateNode=p):l.memoizedState=w5(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Ee(l),s===null&&Nt&&(p=l.stateNode=y5(l.type,l.pendingProps,Ne.current),Lr=l,ts=!0,b=mn,al(l.type)?(Y1=b,mn=Ea(p.firstChild)):mn=b),ur(s,l,l.pendingProps.children,h),Sg(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&Nt&&((b=p=mn)&&(p=Gz(p,l.type,l.pendingProps,ts),p!==null?(l.stateNode=p,Lr=l,mn=Ea(p.firstChild),ts=!1,b=!0):b=!1),b||fc(l)),Ee(l),b=l.type,_=l.pendingProps,R=s!==null?s.memoizedProps:null,p=_.children,H1(b,_)?p=null:R!==null&&H1(b,R)&&(l.flags|=32),l.memoizedState!==null&&(b=qb(s,l,uz,null,null,h),xh._currentValue=b),Sg(s,l),ur(s,l,p,h),l.child;case 6:return s===null&&Nt&&((s=h=mn)&&(h=Kz(h,l.pendingProps,ts),h!==null?(l.stateNode=h,Lr=l,mn=null,s=!0):s=!1),s||fc(l)),null;case 13:return mC(s,l,h);case 4:return Ie(l,l.stateNode.containerInfo),p=l.pendingProps,s===null?l.child=Ku(l,null,p,h):ur(s,l,p,h),l.child;case 11:return sC(s,l,l.type,l.pendingProps,h);case 7:return ur(s,l,l.pendingProps,h),l.child;case 8:return ur(s,l,l.pendingProps.children,h),l.child;case 12:return ur(s,l,l.pendingProps.children,h),l.child;case 10:return p=l.pendingProps,qo(l,l.type,p.value),ur(s,l,p.children,h),l.child;case 9:return b=l.type._context,p=l.pendingProps.children,mc(l),b=_r(b),p=p(b),l.flags|=1,ur(s,l,p,h),l.child;case 14:return oC(s,l,l.type,l.pendingProps,h);case 15:return lC(s,l,l.type,l.pendingProps,h);case 19:return gC(s,l,h);case 31:return p=l.pendingProps,h=l.mode,p={mode:p.mode,children:p.children},s===null?(h=Tg(p,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=$s(s.child,p),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return cC(s,l,h);case 24:return mc(l),p=_r(Mn),s===null?(b=Db(),b===null&&(b=Qt,_=Rb(),b.pooledCache=_,_.refCount++,_!==null&&(b.pooledCacheLanes|=h),b=_),l.memoizedState={parent:p,cache:b},Lb(l),qo(l,Mn,b)):((s.lanes&h)!==0&&(Ub(s,l),Qf(l,null,null,h),Xf()),b=s.memoizedState,_=l.memoizedState,b.parent!==p?(b={parent:p,cache:p},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),qo(l,Mn,p)):(p=_.cache,qo(l,Mn,p),p!==b.cache&&Ib(l,[Mn],h,!0))),ur(s,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Ws(s){s.flags|=4}function yC(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!A5(l)){if(l=Yi.current,l!==null&&((xt&4194048)===xt?ns!==null:(xt&62914560)!==xt&&(xt&536870912)===0||l!==ns))throw Wf=Mb,tj;s.flags|=8192}}function Ag(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?fe():536870912,s.lanes|=l,Qu|=l)}function ih(s,l){if(!Nt)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function ln(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,p=0;if(l)for(var b=s.child;b!==null;)h|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)h|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=p,s.childLanes=h,l}function xz(s,l,h){var p=l.pendingProps;switch(kb(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(l),null;case 1:return ln(l),null;case 3:return h=l.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),qs(Mn),pe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Bf(l)?Ws(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Xk())),ln(l),null;case 26:return h=l.memoizedState,s===null?(Ws(l),h!==null?(ln(l),yC(l,h)):(ln(l),l.flags&=-16777217)):h?h!==s.memoizedState?(Ws(l),ln(l),yC(l,h)):(ln(l),l.flags&=-16777217):(s.memoizedProps!==p&&Ws(l),ln(l),l.flags&=-16777217),null;case 27:re(l),h=Ne.current;var b=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==p&&Ws(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return ln(l),null}s=xe.current,Bf(l)?Wk(l):(s=y5(b,p,h),l.stateNode=s,Ws(l))}return ln(l),null;case 5:if(re(l),h=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==p&&Ws(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return ln(l),null}if(s=xe.current,Bf(l))Wk(l);else{switch(b=Vg(Ne.current),s){case 1:s=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:s=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":s=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":s=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof p.is=="string"?b.createElement("select",{is:p.is}):b.createElement("select"),p.multiple?s.multiple=!0:p.size&&(s.size=p.size);break;default:s=typeof p.is=="string"?b.createElement(h,{is:p.is}):b.createElement(h)}}s[gt]=l,s[wt]=p;e:for(b=l.child;b!==null;){if(b.tag===5||b.tag===6)s.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===l)break e;for(;b.sibling===null;){if(b.return===null||b.return===l)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}l.stateNode=s;e:switch(fr(s,h,p),h){case"button":case"input":case"select":case"textarea":s=!!p.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ws(l)}}return ln(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==p&&Ws(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(s=Ne.current,Bf(l)){if(s=l.stateNode,h=l.memoizedProps,p=null,b=Lr,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}s[gt]=l,s=!!(s.nodeValue===h||p!==null&&p.suppressHydrationWarning===!0||d5(s.nodeValue,h)),s||fc(l)}else s=Vg(s).createTextNode(p),s[gt]=l,l.stateNode=s}return ln(l),null;case 13:if(p=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=Bf(l),p!==null&&p.dehydrated!==null){if(s===null){if(!b)throw Error(r(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[gt]=l}else zf(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ln(l),b=!1}else b=Xk(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(Gs(l),l):(Gs(l),null)}if(Gs(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=p!==null,s=s!==null&&s.memoizedState!==null,h){p=l.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool);var _=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(_=p.memoizedState.cachePool.pool),_!==b&&(p.flags|=2048)}return h!==s&&h&&(l.child.flags|=8192),Ag(l,l.updateQueue),ln(l),null;case 4:return pe(),s===null&&$1(l.stateNode.containerInfo),ln(l),null;case 10:return qs(l.type),ln(l),null;case 19:if(J(Ln),b=l.memoizedState,b===null)return ln(l),null;if(p=(l.flags&128)!==0,_=b.rendering,_===null)if(p)ih(b,!1);else{if(pn!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(_=wg(s),_!==null){for(l.flags|=128,ih(b,!1),s=_.updateQueue,l.updateQueue=s,Ag(l,s),l.subtreeFlags=0,s=h,h=l.child;h!==null;)Gk(h,s),h=h.sibling;return ce(Ln,Ln.current&1|2),l.child}s=s.sibling}b.tail!==null&&Ut()>jg&&(l.flags|=128,p=!0,ih(b,!1),l.lanes=4194304)}else{if(!p)if(s=wg(_),s!==null){if(l.flags|=128,p=!0,s=s.updateQueue,l.updateQueue=s,Ag(l,s),ih(b,!0),b.tail===null&&b.tailMode==="hidden"&&!_.alternate&&!Nt)return ln(l),null}else 2*Ut()-b.renderingStartTime>jg&&h!==536870912&&(l.flags|=128,p=!0,ih(b,!1),l.lanes=4194304);b.isBackwards?(_.sibling=l.child,l.child=_):(s=b.last,s!==null?s.sibling=_:l.child=_,b.last=_)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=Ut(),l.sibling=null,s=Ln.current,ce(Ln,p?s&1|2:s&1),l):(ln(l),null);case 22:case 23:return Gs(l),zb(),p=l.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(h&536870912)!==0&&(l.flags&128)===0&&(ln(l),l.subtreeFlags&6&&(l.flags|=8192)):ln(l),h=l.updateQueue,h!==null&&Ag(l,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==h&&(l.flags|=2048),s!==null&&J(pc),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),qs(Mn),ln(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function bz(s,l){switch(kb(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return qs(Mn),pe(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return re(l),null;case 13:if(Gs(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));zf()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return J(Ln),null;case 4:return pe(),null;case 10:return qs(l.type),null;case 22:case 23:return Gs(l),zb(),s!==null&&J(pc),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return qs(Mn),null;case 25:return null;default:return null}}function xC(s,l){switch(kb(l),l.tag){case 3:qs(Mn),pe();break;case 26:case 27:case 5:re(l);break;case 4:pe();break;case 13:Gs(l);break;case 19:J(Ln);break;case 10:qs(l.type);break;case 22:case 23:Gs(l),zb(),s!==null&&J(pc);break;case 24:qs(Mn)}}function ah(s,l){try{var h=l.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var b=p.next;h=b;do{if((h.tag&s)===s){p=void 0;var _=h.create,R=h.inst;p=_(),R.destroy=p}h=h.next}while(h!==b)}}catch(B){Wt(l,l.return,B)}}function Qo(s,l,h){try{var p=l.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var _=b.next;p=_;do{if((p.tag&s)===s){var R=p.inst,B=R.destroy;if(B!==void 0){R.destroy=void 0,b=l;var Y=h,ae=B;try{ae()}catch(he){Wt(b,Y,he)}}}p=p.next}while(p!==_)}}catch(he){Wt(l,l.return,he)}}function bC(s){var l=s.updateQueue;if(l!==null){var h=s.stateNode;try{oj(l,h)}catch(p){Wt(s,s.return,p)}}}function wC(s,l,h){h.props=vc(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(p){Wt(s,l,p)}}function sh(s,l){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof h=="function"?s.refCleanup=h(p):h.current=p}}catch(b){Wt(s,l,b)}}function rs(s,l){var h=s.ref,p=s.refCleanup;if(h!==null)if(typeof p=="function")try{p()}catch(b){Wt(s,l,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(b){Wt(s,l,b)}else h.current=null}function _C(s){var l=s.type,h=s.memoizedProps,p=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&p.focus();break e;case"img":h.src?p.src=h.src:h.srcSet&&(p.srcset=h.srcSet)}}catch(b){Wt(s,s.return,b)}}function g1(s,l,h){try{var p=s.stateNode;Bz(p,s.type,h,l),p[wt]=l}catch(b){Wt(s,s.return,b)}}function EC(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&al(s.type)||s.tag===4}function v1(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||EC(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&al(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function y1(s,l,h){var p=s.tag;if(p===5||p===6)s=s.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(s),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Ug));else if(p!==4&&(p===27&&al(s.type)&&(h=s.stateNode,l=null),s=s.child,s!==null))for(y1(s,l,h),s=s.sibling;s!==null;)y1(s,l,h),s=s.sibling}function Ng(s,l,h){var p=s.tag;if(p===5||p===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(p!==4&&(p===27&&al(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(Ng(s,l,h),s=s.sibling;s!==null;)Ng(s,l,h),s=s.sibling}function SC(s){var l=s.stateNode,h=s.memoizedProps;try{for(var p=s.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);fr(l,p,h),l[gt]=s,l[wt]=h}catch(_){Wt(s,s.return,_)}}var Ys=!1,_n=!1,x1=!1,TC=typeof WeakSet=="function"?WeakSet:Set,Zn=null;function wz(s,l){if(s=s.containerInfo,F1=Hg,s=Mk(s),vb(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var b=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{h.nodeType,_.nodeType}catch{h=null;break e}var R=0,B=-1,Y=-1,ae=0,he=0,ge=s,oe=null;t:for(;;){for(var le;ge!==h||b!==0&&ge.nodeType!==3||(B=R+b),ge!==_||p!==0&&ge.nodeType!==3||(Y=R+p),ge.nodeType===3&&(R+=ge.nodeValue.length),(le=ge.firstChild)!==null;)oe=ge,ge=le;for(;;){if(ge===s)break t;if(oe===h&&++ae===b&&(B=R),oe===_&&++he===p&&(Y=R),(le=ge.nextSibling)!==null)break;ge=oe,oe=ge.parentNode}ge=le}h=B===-1||Y===-1?null:{start:B,end:Y}}else h=null}h=h||{start:0,end:0}}else h=null;for(q1={focusedElem:s,selectionRange:h},Hg=!1,Zn=l;Zn!==null;)if(l=Zn,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,Zn=s;else for(;Zn!==null;){switch(l=Zn,_=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,h=l,b=_.memoizedProps,_=_.memoizedState,p=h.stateNode;try{var Je=vc(h.type,b,h.elementType===h.type);s=p.getSnapshotBeforeUpdate(Je,_),p.__reactInternalSnapshotBeforeUpdate=s}catch(We){Wt(h,h.return,We)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,h=s.nodeType,h===9)K1(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":K1(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,Zn=s;break}Zn=l.return}}function AC(s,l,h){var p=h.flags;switch(h.tag){case 0:case 11:case 15:Zo(s,h),p&4&&ah(5,h);break;case 1:if(Zo(s,h),p&4)if(s=h.stateNode,l===null)try{s.componentDidMount()}catch(R){Wt(h,h.return,R)}else{var b=vc(h.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(b,l,s.__reactInternalSnapshotBeforeUpdate)}catch(R){Wt(h,h.return,R)}}p&64&&bC(h),p&512&&sh(h,h.return);break;case 3:if(Zo(s,h),p&64&&(s=h.updateQueue,s!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{oj(s,l)}catch(R){Wt(h,h.return,R)}}break;case 27:l===null&&p&4&&SC(h);case 26:case 5:Zo(s,h),l===null&&p&4&&_C(h),p&512&&sh(h,h.return);break;case 12:Zo(s,h);break;case 13:Zo(s,h),p&4&&jC(s,h),p&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=Cz.bind(null,h),Wz(s,h))));break;case 22:if(p=h.memoizedState!==null||Ys,!p){l=l!==null&&l.memoizedState!==null||_n,b=Ys;var _=_n;Ys=p,(_n=l)&&!_?Jo(s,h,(h.subtreeFlags&8772)!==0):Zo(s,h),Ys=b,_n=_}break;case 30:break;default:Zo(s,h)}}function NC(s){var l=s.alternate;l!==null&&(s.alternate=null,NC(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&$o(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var nn=null,ei=!1;function Xs(s,l,h){for(h=h.child;h!==null;)kC(s,l,h),h=h.sibling}function kC(s,l,h){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Be,h)}catch{}switch(h.tag){case 26:_n||rs(h,l),Xs(s,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:_n||rs(h,l);var p=nn,b=ei;al(h.type)&&(nn=h.stateNode,ei=!1),Xs(s,l,h),ph(h.stateNode),nn=p,ei=b;break;case 5:_n||rs(h,l);case 6:if(p=nn,b=ei,nn=null,Xs(s,l,h),nn=p,ei=b,nn!==null)if(ei)try{(nn.nodeType===9?nn.body:nn.nodeName==="HTML"?nn.ownerDocument.body:nn).removeChild(h.stateNode)}catch(_){Wt(h,l,_)}else try{nn.removeChild(h.stateNode)}catch(_){Wt(h,l,_)}break;case 18:nn!==null&&(ei?(s=nn,g5(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Eh(s)):g5(nn,h.stateNode));break;case 4:p=nn,b=ei,nn=h.stateNode.containerInfo,ei=!0,Xs(s,l,h),nn=p,ei=b;break;case 0:case 11:case 14:case 15:_n||Qo(2,h,l),_n||Qo(4,h,l),Xs(s,l,h);break;case 1:_n||(rs(h,l),p=h.stateNode,typeof p.componentWillUnmount=="function"&&wC(h,l,p)),Xs(s,l,h);break;case 21:Xs(s,l,h);break;case 22:_n=(p=_n)||h.memoizedState!==null,Xs(s,l,h),_n=p;break;default:Xs(s,l,h)}}function jC(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Eh(s)}catch(h){Wt(l,l.return,h)}}function _z(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new TC),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new TC),l;default:throw Error(r(435,s.tag))}}function b1(s,l){var h=_z(s);l.forEach(function(p){var b=Oz.bind(null,s,p);h.has(p)||(h.add(p),p.then(b,b))})}function vi(s,l){var h=l.deletions;if(h!==null)for(var p=0;p<h.length;p++){var b=h[p],_=s,R=l,B=R;e:for(;B!==null;){switch(B.tag){case 27:if(al(B.type)){nn=B.stateNode,ei=!1;break e}break;case 5:nn=B.stateNode,ei=!1;break e;case 3:case 4:nn=B.stateNode.containerInfo,ei=!0;break e}B=B.return}if(nn===null)throw Error(r(160));kC(_,R,b),nn=null,ei=!1,_=b.alternate,_!==null&&(_.return=null),b.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)CC(l,s),l=l.sibling}var _a=null;function CC(s,l){var h=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:vi(l,s),yi(s),p&4&&(Qo(3,s,s.return),ah(3,s),Qo(5,s,s.return));break;case 1:vi(l,s),yi(s),p&512&&(_n||h===null||rs(h,h.return)),p&64&&Ys&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?p:h.concat(p))));break;case 26:var b=_a;if(vi(l,s),yi(s),p&512&&(_n||h===null||rs(h,h.return)),p&4){var _=h!==null?h.memoizedState:null;if(p=s.memoizedState,h===null)if(p===null)if(s.stateNode===null){e:{p=s.type,h=s.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":_=b.getElementsByTagName("title")[0],(!_||_[Gl]||_[gt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=b.createElement(p),b.head.insertBefore(_,b.querySelector("head > title"))),fr(_,p,h),_[gt]=s,bn(_),p=_;break e;case"link":var R=S5("link","href",b).get(p+(h.href||""));if(R){for(var B=0;B<R.length;B++)if(_=R[B],_.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&_.getAttribute("rel")===(h.rel==null?null:h.rel)&&_.getAttribute("title")===(h.title==null?null:h.title)&&_.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){R.splice(B,1);break t}}_=b.createElement(p),fr(_,p,h),b.head.appendChild(_);break;case"meta":if(R=S5("meta","content",b).get(p+(h.content||""))){for(B=0;B<R.length;B++)if(_=R[B],_.getAttribute("content")===(h.content==null?null:""+h.content)&&_.getAttribute("name")===(h.name==null?null:h.name)&&_.getAttribute("property")===(h.property==null?null:h.property)&&_.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&_.getAttribute("charset")===(h.charSet==null?null:h.charSet)){R.splice(B,1);break t}}_=b.createElement(p),fr(_,p,h),b.head.appendChild(_);break;default:throw Error(r(468,p))}_[gt]=s,bn(_),p=_}s.stateNode=p}else T5(b,s.type,s.stateNode);else s.stateNode=E5(b,p,s.memoizedProps);else _!==p?(_===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):_.count--,p===null?T5(b,s.type,s.stateNode):E5(b,p,s.memoizedProps)):p===null&&s.stateNode!==null&&g1(s,s.memoizedProps,h.memoizedProps)}break;case 27:vi(l,s),yi(s),p&512&&(_n||h===null||rs(h,h.return)),h!==null&&p&4&&g1(s,s.memoizedProps,h.memoizedProps);break;case 5:if(vi(l,s),yi(s),p&512&&(_n||h===null||rs(h,h.return)),s.flags&32){b=s.stateNode;try{Bi(b,"")}catch(le){Wt(s,s.return,le)}}p&4&&s.stateNode!=null&&(b=s.memoizedProps,g1(s,b,h!==null?h.memoizedProps:b)),p&1024&&(x1=!0);break;case 6:if(vi(l,s),yi(s),p&4){if(s.stateNode===null)throw Error(r(162));p=s.memoizedProps,h=s.stateNode;try{h.nodeValue=p}catch(le){Wt(s,s.return,le)}}break;case 3:if(zg=null,b=_a,_a=$g(l.containerInfo),vi(l,s),_a=b,yi(s),p&4&&h!==null&&h.memoizedState.isDehydrated)try{Eh(l.containerInfo)}catch(le){Wt(s,s.return,le)}x1&&(x1=!1,OC(s));break;case 4:p=_a,_a=$g(s.stateNode.containerInfo),vi(l,s),yi(s),_a=p;break;case 12:vi(l,s),yi(s);break;case 13:vi(l,s),yi(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(A1=Ut()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,b1(s,p)));break;case 22:b=s.memoizedState!==null;var Y=h!==null&&h.memoizedState!==null,ae=Ys,he=_n;if(Ys=ae||b,_n=he||Y,vi(l,s),_n=he,Ys=ae,yi(s),p&8192)e:for(l=s.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(h===null||Y||Ys||_n||yc(s)),h=null,l=s;;){if(l.tag===5||l.tag===26){if(h===null){Y=h=l;try{if(_=Y.stateNode,b)R=_.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{B=Y.stateNode;var ge=Y.memoizedProps.style,oe=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;B.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(le){Wt(Y,Y.return,le)}}}else if(l.tag===6){if(h===null){Y=l;try{Y.stateNode.nodeValue=b?"":Y.memoizedProps}catch(le){Wt(Y,Y.return,le)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=s.updateQueue,p!==null&&(h=p.retryQueue,h!==null&&(p.retryQueue=null,b1(s,h))));break;case 19:vi(l,s),yi(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,b1(s,p)));break;case 30:break;case 21:break;default:vi(l,s),yi(s)}}function yi(s){var l=s.flags;if(l&2){try{for(var h,p=s.return;p!==null;){if(EC(p)){h=p;break}p=p.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var b=h.stateNode,_=v1(s);Ng(s,_,b);break;case 5:var R=h.stateNode;h.flags&32&&(Bi(R,""),h.flags&=-33);var B=v1(s);Ng(s,B,R);break;case 3:case 4:var Y=h.stateNode.containerInfo,ae=v1(s);y1(s,ae,Y);break;default:throw Error(r(161))}}catch(he){Wt(s,s.return,he)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function OC(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;OC(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Zo(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)AC(s,l.alternate,l),l=l.sibling}function yc(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Qo(4,l,l.return),yc(l);break;case 1:rs(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&wC(l,l.return,h),yc(l);break;case 27:ph(l.stateNode);case 26:case 5:rs(l,l.return),yc(l);break;case 22:l.memoizedState===null&&yc(l);break;case 30:yc(l);break;default:yc(l)}s=s.sibling}}function Jo(s,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,b=s,_=l,R=_.flags;switch(_.tag){case 0:case 11:case 15:Jo(b,_,h),ah(4,_);break;case 1:if(Jo(b,_,h),p=_,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ae){Wt(p,p.return,ae)}if(p=_,b=p.updateQueue,b!==null){var B=p.stateNode;try{var Y=b.shared.hiddenCallbacks;if(Y!==null)for(b.shared.hiddenCallbacks=null,b=0;b<Y.length;b++)sj(Y[b],B)}catch(ae){Wt(p,p.return,ae)}}h&&R&64&&bC(_),sh(_,_.return);break;case 27:SC(_);case 26:case 5:Jo(b,_,h),h&&p===null&&R&4&&_C(_),sh(_,_.return);break;case 12:Jo(b,_,h);break;case 13:Jo(b,_,h),h&&R&4&&jC(b,_);break;case 22:_.memoizedState===null&&Jo(b,_,h),sh(_,_.return);break;case 30:break;default:Jo(b,_,h)}l=l.sibling}}function w1(s,l){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&Hf(h))}function _1(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Hf(s))}function is(s,l,h,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)IC(s,l,h,p),l=l.sibling}function IC(s,l,h,p){var b=l.flags;switch(l.tag){case 0:case 11:case 15:is(s,l,h,p),b&2048&&ah(9,l);break;case 1:is(s,l,h,p);break;case 3:is(s,l,h,p),b&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Hf(s)));break;case 12:if(b&2048){is(s,l,h,p),s=l.stateNode;try{var _=l.memoizedProps,R=_.id,B=_.onPostCommit;typeof B=="function"&&B(R,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Y){Wt(l,l.return,Y)}}else is(s,l,h,p);break;case 13:is(s,l,h,p);break;case 23:break;case 22:_=l.stateNode,R=l.alternate,l.memoizedState!==null?_._visibility&2?is(s,l,h,p):oh(s,l):_._visibility&2?is(s,l,h,p):(_._visibility|=2,Wu(s,l,h,p,(l.subtreeFlags&10256)!==0)),b&2048&&w1(R,l);break;case 24:is(s,l,h,p),b&2048&&_1(l.alternate,l);break;default:is(s,l,h,p)}}function Wu(s,l,h,p,b){for(b=b&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var _=s,R=l,B=h,Y=p,ae=R.flags;switch(R.tag){case 0:case 11:case 15:Wu(_,R,B,Y,b),ah(8,R);break;case 23:break;case 22:var he=R.stateNode;R.memoizedState!==null?he._visibility&2?Wu(_,R,B,Y,b):oh(_,R):(he._visibility|=2,Wu(_,R,B,Y,b)),b&&ae&2048&&w1(R.alternate,R);break;case 24:Wu(_,R,B,Y,b),b&&ae&2048&&_1(R.alternate,R);break;default:Wu(_,R,B,Y,b)}l=l.sibling}}function oh(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=s,p=l,b=p.flags;switch(p.tag){case 22:oh(h,p),b&2048&&w1(p.alternate,p);break;case 24:oh(h,p),b&2048&&_1(p.alternate,p);break;default:oh(h,p)}l=l.sibling}}var lh=8192;function Yu(s){if(s.subtreeFlags&lh)for(s=s.child;s!==null;)RC(s),s=s.sibling}function RC(s){switch(s.tag){case 26:Yu(s),s.flags&lh&&s.memoizedState!==null&&oF(_a,s.memoizedState,s.memoizedProps);break;case 5:Yu(s);break;case 3:case 4:var l=_a;_a=$g(s.stateNode.containerInfo),Yu(s),_a=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=lh,lh=16777216,Yu(s),lh=l):Yu(s));break;default:Yu(s)}}function PC(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function ch(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];Zn=p,MC(p,s)}PC(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)DC(s),s=s.sibling}function DC(s){switch(s.tag){case 0:case 11:case 15:ch(s),s.flags&2048&&Qo(9,s,s.return);break;case 3:ch(s);break;case 12:ch(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,kg(s)):ch(s);break;default:ch(s)}}function kg(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];Zn=p,MC(p,s)}PC(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Qo(8,l,l.return),kg(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,kg(l));break;default:kg(l)}s=s.sibling}}function MC(s,l){for(;Zn!==null;){var h=Zn;switch(h.tag){case 0:case 11:case 15:Qo(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var p=h.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Hf(h.memoizedState.cache)}if(p=h.child,p!==null)p.return=h,Zn=p;else e:for(h=s;Zn!==null;){p=Zn;var b=p.sibling,_=p.return;if(NC(p),p===h){Zn=null;break e}if(b!==null){b.return=_,Zn=b;break e}Zn=_}}}var Ez={getCacheForType:function(s){var l=_r(Mn),h=l.data.get(s);return h===void 0&&(h=s(),l.data.set(s,h)),h}},Sz=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Qt=null,ut=null,xt=0,Pt=0,xi=null,el=!1,Xu=!1,E1=!1,Qs=0,pn=0,tl=0,xc=0,S1=0,Xi=0,Qu=0,uh=null,ti=null,T1=!1,A1=0,jg=1/0,Cg=null,nl=null,dr=0,rl=null,Zu=null,Ju=0,N1=0,k1=null,LC=null,dh=0,j1=null;function bi(){if((Rt&2)!==0&&xt!==0)return xt&-xt;if(U.T!==null){var s=$u;return s!==0?s:M1()}return Le()}function UC(){Xi===0&&(Xi=(xt&536870912)===0||Nt?Hl():536870912);var s=Yi.current;return s!==null&&(s.flags|=32),Xi}function wi(s,l,h){(s===Qt&&(Pt===2||Pt===9)||s.cancelPendingCommit!==null)&&(ed(s,0),il(s,xt,Xi,!1)),je(s,h),((Rt&2)===0||s!==Qt)&&(s===Qt&&((Rt&2)===0&&(xc|=h),pn===4&&il(s,xt,Xi,!1)),as(s))}function VC(s,l,h){if((Rt&6)!==0)throw Error(r(327));var p=!h&&(l&124)===0&&(l&s.expiredLanes)===0||ks(s,l),b=p?Nz(s,l):I1(s,l,!0),_=p;do{if(b===0){Xu&&!p&&il(s,l,0,!1);break}else{if(h=s.current.alternate,_&&!Tz(h)){b=I1(s,l,!1),_=!1;continue}if(b===2){if(_=l,s.errorRecoveryDisabledLanes&_)var R=0;else R=s.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){l=R;e:{var B=s;b=uh;var Y=B.current.memoizedState.isDehydrated;if(Y&&(ed(B,R).flags|=256),R=I1(B,R,!1),R!==2){if(E1&&!Y){B.errorRecoveryDisabledLanes|=_,xc|=_,b=4;break e}_=ti,ti=b,_!==null&&(ti===null?ti=_:ti.push.apply(ti,_))}b=R}if(_=!1,b!==2)continue}}if(b===1){ed(s,0),il(s,l,0,!0);break}e:{switch(p=s,_=b,_){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:il(p,l,Xi,!el);break e;case 2:ti=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(b=A1+300-Ut(),10<b)){if(il(p,l,Xi,!el),Zr(p,0,!0)!==0)break e;p.timeoutHandle=m5($C.bind(null,p,h,ti,Cg,T1,l,Xi,xc,Qu,el,_,2,-0,0),b);break e}$C(p,h,ti,Cg,T1,l,Xi,xc,Qu,el,_,0,-0,0)}}break}while(!0);as(s)}function $C(s,l,h,p,b,_,R,B,Y,ae,he,ge,oe,le){if(s.timeoutHandle=-1,ge=l.subtreeFlags,(ge&8192||(ge&16785408)===16785408)&&(yh={stylesheets:null,count:0,unsuspend:sF},RC(l),ge=lF(),ge!==null)){s.cancelPendingCommit=ge(KC.bind(null,s,l,_,h,p,b,R,B,Y,he,1,oe,le)),il(s,_,R,!ae);return}KC(s,l,_,h,p,b,R,B,Y)}function Tz(s){for(var l=s;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var p=0;p<h.length;p++){var b=h[p],_=b.getSnapshot;b=b.value;try{if(!pi(_(),b))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function il(s,l,h,p){l&=~S1,l&=~xc,s.suspendedLanes|=l,s.pingedLanes&=~l,p&&(s.warmLanes|=l),p=s.expirationTimes;for(var b=l;0<b;){var _=31-Et(b),R=1<<_;p[_]=-1,b&=~R}h!==0&&ke(s,h,l)}function Og(){return(Rt&6)===0?(fh(0),!1):!0}function C1(){if(ut!==null){if(Pt===0)var s=ut.return;else s=ut,Fs=hc=null,Kb(s),Gu=null,nh=0,s=ut;for(;s!==null;)xC(s.alternate,s),s=s.return;ut=null}}function ed(s,l){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,Fz(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),C1(),Qt=s,ut=h=$s(s.current,null),xt=l,Pt=0,xi=null,el=!1,Xu=ks(s,l),E1=!1,Qu=Xi=S1=xc=tl=pn=0,ti=uh=null,T1=!1,(l&8)!==0&&(l|=l&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=l;0<p;){var b=31-Et(p),_=1<<b;l|=s[b],p&=~_}return Qs=l,Jp(),h}function BC(s,l){st=null,U.H=yg,l===Kf||l===lg?(l=ij(),Pt=3):l===tj?(l=ij(),Pt=4):Pt=l===aC?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,xi=l,ut===null&&(pn=1,Eg(s,Hi(l,s.current)))}function zC(){var s=U.H;return U.H=yg,s===null?yg:s}function FC(){var s=U.A;return U.A=Ez,s}function O1(){pn=4,el||(xt&4194048)!==xt&&Yi.current!==null||(Xu=!0),(tl&134217727)===0&&(xc&134217727)===0||Qt===null||il(Qt,xt,Xi,!1)}function I1(s,l,h){var p=Rt;Rt|=2;var b=zC(),_=FC();(Qt!==s||xt!==l)&&(Cg=null,ed(s,l)),l=!1;var R=pn;e:do try{if(Pt!==0&&ut!==null){var B=ut,Y=xi;switch(Pt){case 8:C1(),R=6;break e;case 3:case 2:case 9:case 6:Yi.current===null&&(l=!0);var ae=Pt;if(Pt=0,xi=null,td(s,B,Y,ae),h&&Xu){R=0;break e}break;default:ae=Pt,Pt=0,xi=null,td(s,B,Y,ae)}}Az(),R=pn;break}catch(he){BC(s,he)}while(!0);return l&&s.shellSuspendCounter++,Fs=hc=null,Rt=p,U.H=b,U.A=_,ut===null&&(Qt=null,xt=0,Jp()),R}function Az(){for(;ut!==null;)qC(ut)}function Nz(s,l){var h=Rt;Rt|=2;var p=zC(),b=FC();Qt!==s||xt!==l?(Cg=null,jg=Ut()+500,ed(s,l)):Xu=ks(s,l);e:do try{if(Pt!==0&&ut!==null){l=ut;var _=xi;t:switch(Pt){case 1:Pt=0,xi=null,td(s,l,_,1);break;case 2:case 9:if(nj(_)){Pt=0,xi=null,HC(l);break}l=function(){Pt!==2&&Pt!==9||Qt!==s||(Pt=7),as(s)},_.then(l,l);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:nj(_)?(Pt=0,xi=null,HC(l)):(Pt=0,xi=null,td(s,l,_,7));break;case 5:var R=null;switch(ut.tag){case 26:R=ut.memoizedState;case 5:case 27:var B=ut;if(!R||A5(R)){Pt=0,xi=null;var Y=B.sibling;if(Y!==null)ut=Y;else{var ae=B.return;ae!==null?(ut=ae,Ig(ae)):ut=null}break t}}Pt=0,xi=null,td(s,l,_,5);break;case 6:Pt=0,xi=null,td(s,l,_,6);break;case 8:C1(),pn=6;break e;default:throw Error(r(462))}}kz();break}catch(he){BC(s,he)}while(!0);return Fs=hc=null,U.H=p,U.A=b,Rt=h,ut!==null?0:(Qt=null,xt=0,Jp(),pn)}function kz(){for(;ut!==null&&!Gt();)qC(ut)}function qC(s){var l=vC(s.alternate,s,Qs);s.memoizedProps=s.pendingProps,l===null?Ig(s):ut=l}function HC(s){var l=s,h=l.alternate;switch(l.tag){case 15:case 0:l=dC(h,l,l.pendingProps,l.type,void 0,xt);break;case 11:l=dC(h,l,l.pendingProps,l.type.render,l.ref,xt);break;case 5:Kb(l);default:xC(h,l),l=ut=Gk(l,Qs),l=vC(h,l,Qs)}s.memoizedProps=s.pendingProps,l===null?Ig(s):ut=l}function td(s,l,h,p){Fs=hc=null,Kb(l),Gu=null,nh=0;var b=l.return;try{if(vz(s,b,l,h,xt)){pn=1,Eg(s,Hi(h,s.current)),ut=null;return}}catch(_){if(b!==null)throw ut=b,_;pn=1,Eg(s,Hi(h,s.current)),ut=null;return}l.flags&32768?(Nt||p===1?s=!0:Xu||(xt&536870912)!==0?s=!1:(el=s=!0,(p===2||p===9||p===3||p===6)&&(p=Yi.current,p!==null&&p.tag===13&&(p.flags|=16384))),GC(l,s)):Ig(l)}function Ig(s){var l=s;do{if((l.flags&32768)!==0){GC(l,el);return}s=l.return;var h=xz(l.alternate,l,Qs);if(h!==null){ut=h;return}if(l=l.sibling,l!==null){ut=l;return}ut=l=s}while(l!==null);pn===0&&(pn=5)}function GC(s,l){do{var h=bz(s.alternate,s);if(h!==null){h.flags&=32767,ut=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(s=s.sibling,s!==null)){ut=s;return}ut=s=h}while(s!==null);pn=6,ut=null}function KC(s,l,h,p,b,_,R,B,Y){s.cancelPendingCommit=null;do Rg();while(dr!==0);if((Rt&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(_=l.lanes|l.childLanes,_|=_b,it(s,h,_,R,B,Y),s===Qt&&(ut=Qt=null,xt=0),Zu=l,rl=s,Ju=h,N1=_,k1=b,LC=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Iz($i,function(){return ZC(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=U.T,U.T=null,b=K.p,K.p=2,R=Rt,Rt|=4;try{wz(s,l,h)}finally{Rt=R,K.p=b,U.T=p}}dr=1,WC(),YC(),XC()}}function WC(){if(dr===1){dr=0;var s=rl,l=Zu,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=U.T,U.T=null;var p=K.p;K.p=2;var b=Rt;Rt|=4;try{CC(l,s);var _=q1,R=Mk(s.containerInfo),B=_.focusedElem,Y=_.selectionRange;if(R!==B&&B&&B.ownerDocument&&Dk(B.ownerDocument.documentElement,B)){if(Y!==null&&vb(B)){var ae=Y.start,he=Y.end;if(he===void 0&&(he=ae),"selectionStart"in B)B.selectionStart=ae,B.selectionEnd=Math.min(he,B.value.length);else{var ge=B.ownerDocument||document,oe=ge&&ge.defaultView||window;if(oe.getSelection){var le=oe.getSelection(),Je=B.textContent.length,We=Math.min(Y.start,Je),Ft=Y.end===void 0?We:Math.min(Y.end,Je);!le.extend&&We>Ft&&(R=Ft,Ft=We,We=R);var te=Pk(B,We),Z=Pk(B,Ft);if(te&&Z&&(le.rangeCount!==1||le.anchorNode!==te.node||le.anchorOffset!==te.offset||le.focusNode!==Z.node||le.focusOffset!==Z.offset)){var ie=ge.createRange();ie.setStart(te.node,te.offset),le.removeAllRanges(),We>Ft?(le.addRange(ie),le.extend(Z.node,Z.offset)):(ie.setEnd(Z.node,Z.offset),le.addRange(ie))}}}}for(ge=[],le=B;le=le.parentNode;)le.nodeType===1&&ge.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<ge.length;B++){var me=ge[B];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}Hg=!!F1,q1=F1=null}finally{Rt=b,K.p=p,U.T=h}}s.current=l,dr=2}}function YC(){if(dr===2){dr=0;var s=rl,l=Zu,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=U.T,U.T=null;var p=K.p;K.p=2;var b=Rt;Rt|=4;try{AC(s,l.alternate,l)}finally{Rt=b,K.p=p,U.T=h}}dr=3}}function XC(){if(dr===4||dr===3){dr=0,_t();var s=rl,l=Zu,h=Ju,p=LC;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?dr=5:(dr=0,Zu=rl=null,QC(s,s.pendingLanes));var b=s.pendingLanes;if(b===0&&(nl=null),mt(h),l=l.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Be,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=U.T,b=K.p,K.p=2,U.T=null;try{for(var _=s.onRecoverableError,R=0;R<p.length;R++){var B=p[R];_(B.value,{componentStack:B.stack})}}finally{U.T=l,K.p=b}}(Ju&3)!==0&&Rg(),as(s),b=s.pendingLanes,(h&4194090)!==0&&(b&42)!==0?s===j1?dh++:(dh=0,j1=s):dh=0,fh(0)}}function QC(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Hf(l)))}function Rg(s){return WC(),YC(),XC(),ZC()}function ZC(){if(dr!==5)return!1;var s=rl,l=N1;N1=0;var h=mt(Ju),p=U.T,b=K.p;try{K.p=32>h?32:h,U.T=null,h=k1,k1=null;var _=rl,R=Ju;if(dr=0,Zu=rl=null,Ju=0,(Rt&6)!==0)throw Error(r(331));var B=Rt;if(Rt|=4,DC(_.current),IC(_,_.current,R,h),Rt=B,fh(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Be,_)}catch{}return!0}finally{K.p=b,U.T=p,QC(s,l)}}function JC(s,l,h){l=Hi(h,l),l=o1(s.stateNode,l,2),s=Ko(s,l,2),s!==null&&(je(s,2),as(s))}function Wt(s,l,h){if(s.tag===3)JC(s,s,h);else for(;l!==null;){if(l.tag===3){JC(l,s,h);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(nl===null||!nl.has(p))){s=Hi(h,s),h=rC(2),p=Ko(l,h,2),p!==null&&(iC(h,p,l,s),je(p,2),as(p));break}}l=l.return}}function R1(s,l,h){var p=s.pingCache;if(p===null){p=s.pingCache=new Sz;var b=new Set;p.set(l,b)}else b=p.get(l),b===void 0&&(b=new Set,p.set(l,b));b.has(h)||(E1=!0,b.add(h),s=jz.bind(null,s,l,h),l.then(s,s))}function jz(s,l,h){var p=s.pingCache;p!==null&&p.delete(l),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,Qt===s&&(xt&h)===h&&(pn===4||pn===3&&(xt&62914560)===xt&&300>Ut()-A1?(Rt&2)===0&&ed(s,0):S1|=h,Qu===xt&&(Qu=0)),as(s)}function e5(s,l){l===0&&(l=fe()),s=Mu(s,l),s!==null&&(je(s,l),as(s))}function Cz(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),e5(s,h)}function Oz(s,l){var h=0;switch(s.tag){case 13:var p=s.stateNode,b=s.memoizedState;b!==null&&(h=b.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),e5(s,h)}function Iz(s,l){return _e(s,l)}var Pg=null,nd=null,P1=!1,Dg=!1,D1=!1,bc=0;function as(s){s!==nd&&s.next===null&&(nd===null?Pg=nd=s:nd=nd.next=s),Dg=!0,P1||(P1=!0,Pz())}function fh(s,l){if(!D1&&Dg){D1=!0;do for(var h=!1,p=Pg;p!==null;){if(s!==0){var b=p.pendingLanes;if(b===0)var _=0;else{var R=p.suspendedLanes,B=p.pingedLanes;_=(1<<31-Et(42|s)+1)-1,_&=b&~(R&~B),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(h=!0,i5(p,_))}else _=xt,_=Zr(p,p===Qt?_:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(_&3)===0||ks(p,_)||(h=!0,i5(p,_));p=p.next}while(h);D1=!1}}function Rz(){t5()}function t5(){Dg=P1=!1;var s=0;bc!==0&&(zz()&&(s=bc),bc=0);for(var l=Ut(),h=null,p=Pg;p!==null;){var b=p.next,_=n5(p,l);_===0?(p.next=null,h===null?Pg=b:h.next=b,b===null&&(nd=h)):(h=p,(s!==0||(_&3)!==0)&&(Dg=!0)),p=b}fh(s)}function n5(s,l){for(var h=s.suspendedLanes,p=s.pingedLanes,b=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var R=31-Et(_),B=1<<R,Y=b[R];Y===-1?((B&h)===0||(B&p)!==0)&&(b[R]=ql(B,l)):Y<=l&&(s.expiredLanes|=B),_&=~B}if(l=Qt,h=xt,h=Zr(s,s===l?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,h===0||s===l&&(Pt===2||Pt===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&He(p),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||ks(s,h)){if(l=h&-h,l===s.callbackPriority)return l;switch(p!==null&&He(p),mt(h)){case 2:case 8:h=ga;break;case 32:h=$i;break;case 268435456:h=va;break;default:h=$i}return p=r5.bind(null,s),h=_e(h,p),s.callbackPriority=l,s.callbackNode=h,l}return p!==null&&p!==null&&He(p),s.callbackPriority=2,s.callbackNode=null,2}function r5(s,l){if(dr!==0&&dr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(Rg()&&s.callbackNode!==h)return null;var p=xt;return p=Zr(s,s===Qt?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(VC(s,p,l),n5(s,Ut()),s.callbackNode!=null&&s.callbackNode===h?r5.bind(null,s):null)}function i5(s,l){if(Rg())return null;VC(s,l,!0)}function Pz(){qz(function(){(Rt&6)!==0?_e(qa,Rz):t5()})}function M1(){return bc===0&&(bc=Hl()),bc}function a5(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Su(""+s)}function s5(s,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,s.id&&h.setAttribute("form",s.id),l.parentNode.insertBefore(h,l),s=new FormData(s),h.parentNode.removeChild(h),s}function Dz(s,l,h,p,b){if(l==="submit"&&h&&h.stateNode===b){var _=a5((b[wt]||null).action),R=p.submitter;R&&(l=(l=R[wt]||null)?a5(l.formAction):R.getAttribute("formAction"),l!==null&&(_=l,R=null));var B=new Tu("action","action",null,p,b);s.push({event:B,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(bc!==0){var Y=R?s5(b,R):new FormData(b);n1(h,{pending:!0,data:Y,method:b.method,action:_},null,Y)}}else typeof _=="function"&&(B.preventDefault(),Y=R?s5(b,R):new FormData(b),n1(h,{pending:!0,data:Y,method:b.method,action:_},_,Y))},currentTarget:b}]})}}for(var L1=0;L1<wb.length;L1++){var U1=wb[L1],Mz=U1.toLowerCase(),Lz=U1[0].toUpperCase()+U1.slice(1);wa(Mz,"on"+Lz)}wa(Vk,"onAnimationEnd"),wa($k,"onAnimationIteration"),wa(Bk,"onAnimationStart"),wa("dblclick","onDoubleClick"),wa("focusin","onFocus"),wa("focusout","onBlur"),wa(ez,"onTransitionRun"),wa(tz,"onTransitionStart"),wa(nz,"onTransitionCancel"),wa(zk,"onTransitionEnd"),Os("onMouseEnter",["mouseout","mouseover"]),Os("onMouseLeave",["mouseout","mouseover"]),Os("onPointerEnter",["pointerout","pointerover"]),Os("onPointerLeave",["pointerout","pointerover"]),xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hh));function o5(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var p=s[h],b=p.event;p=p.listeners;e:{var _=void 0;if(l)for(var R=p.length-1;0<=R;R--){var B=p[R],Y=B.instance,ae=B.currentTarget;if(B=B.listener,Y!==_&&b.isPropagationStopped())break e;_=B,b.currentTarget=ae;try{_(b)}catch(he){_g(he)}b.currentTarget=null,_=Y}else for(R=0;R<p.length;R++){if(B=p[R],Y=B.instance,ae=B.currentTarget,B=B.listener,Y!==_&&b.isPropagationStopped())break e;_=B,b.currentTarget=ae;try{_(b)}catch(he){_g(he)}b.currentTarget=null,_=Y}}}}function dt(s,l){var h=l[js];h===void 0&&(h=l[js]=new Set);var p=s+"__bubble";h.has(p)||(l5(l,s,2,!1),h.add(p))}function V1(s,l,h){var p=0;l&&(p|=4),l5(h,s,p,l)}var Mg="_reactListening"+Math.random().toString(36).slice(2);function $1(s){if(!s[Mg]){s[Mg]=!0,Tf.forEach(function(h){h!=="selectionchange"&&(Uz.has(h)||V1(h,!1,s),V1(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Mg]||(l[Mg]=!0,V1("selectionchange",!1,l))}}function l5(s,l,h,p){switch(I5(l)){case 2:var b=dF;break;case 8:b=fF;break;default:b=ew}h=b.bind(null,l,h,s),b=void 0,!Fi||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),p?b!==void 0?s.addEventListener(l,h,{capture:!0,passive:b}):s.addEventListener(l,h,!0):b!==void 0?s.addEventListener(l,h,{passive:b}):s.addEventListener(l,h,!1)}function B1(s,l,h,p,b){var _=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var B=p.stateNode.containerInfo;if(B===b)break;if(R===4)for(R=p.return;R!==null;){var Y=R.tag;if((Y===3||Y===4)&&R.stateNode.containerInfo===b)return;R=R.return}for(;B!==null;){if(R=Cs(B),R===null)return;if(Y=R.tag,Y===5||Y===6||Y===26||Y===27){p=_=R;continue e}B=B.parentNode}}p=p.return}Up(function(){var ae=_,he=zi(h),ge=[];e:{var oe=Fk.get(s);if(oe!==void 0){var le=Tu,Je=s;switch(s){case"keypress":if(Xa(h)===0)break e;case"keydown":case"keyup":le=Ou;break;case"focusin":Je="focus",le=ku;break;case"focusout":Je="blur",le=ku;break;case"beforeblur":case"afterblur":le=ku;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=qi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=hb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=Gp;break;case Vk:case $k:case Bk:le=ju;break;case zk:le=Wp;break;case"scroll":case"scrollend":le=Vp;break;case"wheel":le=Iu;break;case"copy":case"cut":case"paste":le=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Lf;break;case"toggle":case"beforetoggle":le=Xp}var We=(l&4)!==0,Ft=!We&&(s==="scroll"||s==="scrollend"),te=We?oe!==null?oe+"Capture":null:oe;We=[];for(var Z=ae,ie;Z!==null;){var me=Z;if(ie=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ie===null||te===null||(me=Jl(Z,te),me!=null&&We.push(mh(Z,me,ie))),Ft)break;Z=Z.return}0<We.length&&(oe=new le(oe,Je,null,h,he),ge.push({event:oe,listeners:We}))}}if((l&7)===0){e:{if(oe=s==="mouseover"||s==="pointerover",le=s==="mouseout"||s==="pointerout",oe&&h!==Ps&&(Je=h.relatedTarget||h.fromElement)&&(Cs(Je)||Je[wr]))break e;if((le||oe)&&(oe=he.window===he?he:(oe=he.ownerDocument)?oe.defaultView||oe.parentWindow:window,le?(Je=h.relatedTarget||h.toElement,le=ae,Je=Je?Cs(Je):null,Je!==null&&(Ft=a(Je),We=Je.tag,Je!==Ft||We!==5&&We!==27&&We!==6)&&(Je=null)):(le=null,Je=ae),le!==Je)){if(We=qi,me="onMouseLeave",te="onMouseEnter",Z="mouse",(s==="pointerout"||s==="pointerover")&&(We=Lf,me="onPointerLeave",te="onPointerEnter",Z="pointer"),Ft=le==null?oe:Ga(le),ie=Je==null?oe:Ga(Je),oe=new We(me,Z+"leave",le,h,he),oe.target=Ft,oe.relatedTarget=ie,me=null,Cs(he)===ae&&(We=new We(te,Z+"enter",Je,h,he),We.target=ie,We.relatedTarget=Ft,me=We),Ft=me,le&&Je)t:{for(We=le,te=Je,Z=0,ie=We;ie;ie=rd(ie))Z++;for(ie=0,me=te;me;me=rd(me))ie++;for(;0<Z-ie;)We=rd(We),Z--;for(;0<ie-Z;)te=rd(te),ie--;for(;Z--;){if(We===te||te!==null&&We===te.alternate)break t;We=rd(We),te=rd(te)}We=null}else We=null;le!==null&&c5(ge,oe,le,We,!1),Je!==null&&Ft!==null&&c5(ge,Ft,Je,We,!0)}}e:{if(oe=ae?Ga(ae):window,le=oe.nodeName&&oe.nodeName.toLowerCase(),le==="select"||le==="input"&&oe.type==="file")var Me=kk;else if(Dn(oe))if(jk)Me=QB;else{Me=YB;var ct=WB}else le=oe.nodeName,!le||le.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ae&&Cf(ae.elementType)&&(Me=kk):Me=XB;if(Me&&(Me=Me(s,ae))){Vs(ge,Me,h,he);break e}ct&&ct(s,oe,ae),s==="focusout"&&ae&&oe.type==="number"&&ae.memoizedProps.value!=null&&zo(oe,"number",oe.value)}switch(ct=ae?Ga(ae):window,s){case"focusin":(Dn(ct)||ct.contentEditable==="true")&&(Ru=ct,yb=ae,$f=null);break;case"focusout":$f=yb=Ru=null;break;case"mousedown":xb=!0;break;case"contextmenu":case"mouseup":case"dragend":xb=!1,Lk(ge,h,he);break;case"selectionchange":if(JB)break;case"keydown":case"keyup":Lk(ge,h,he)}var Ve;if(Ja)e:{switch(s){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else vt?de(s,h)&&(Ye="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(Ye="onCompositionStart");Ye&&(I&&h.locale!=="ko"&&(vt||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&vt&&(Ve=If()):(Ya=he,Fo="value"in Ya?Ya.value:Ya.textContent,vt=!0)),ct=Lg(ae,Ye),0<ct.length&&(Ye=new Df(Ye,s,null,h,he),ge.push({event:Ye,listeners:ct}),Ve?Ye.data=Ve:(Ve=Te(h),Ve!==null&&(Ye.data=Ve)))),(Ve=N?Pn(s,h):yt(s,h))&&(Ye=Lg(ae,"onBeforeInput"),0<Ye.length&&(ct=new Df("onBeforeInput","beforeinput",null,h,he),ge.push({event:ct,listeners:Ye}),ct.data=Ve)),Dz(ge,s,ae,h,he)}o5(ge,l)})}function mh(s,l,h){return{instance:s,listener:l,currentTarget:h}}function Lg(s,l){for(var h=l+"Capture",p=[];s!==null;){var b=s,_=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||_===null||(b=Jl(s,h),b!=null&&p.unshift(mh(s,b,_)),b=Jl(s,l),b!=null&&p.push(mh(s,b,_))),s.tag===3)return p;s=s.return}return[]}function rd(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function c5(s,l,h,p,b){for(var _=l._reactName,R=[];h!==null&&h!==p;){var B=h,Y=B.alternate,ae=B.stateNode;if(B=B.tag,Y!==null&&Y===p)break;B!==5&&B!==26&&B!==27||ae===null||(Y=ae,b?(ae=Jl(h,_),ae!=null&&R.unshift(mh(h,ae,Y))):b||(ae=Jl(h,_),ae!=null&&R.push(mh(h,ae,Y)))),h=h.return}R.length!==0&&s.push({event:l,listeners:R})}var Vz=/\r\n?/g,$z=/\u0000|\uFFFD/g;function u5(s){return(typeof s=="string"?s:""+s).replace(Vz,`
`).replace($z,"")}function d5(s,l){return l=u5(l),u5(s)===l}function Ug(){}function zt(s,l,h,p,b,_){switch(h){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||Bi(s,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&Bi(s,""+p);break;case"className":Ka(s,"class",p);break;case"tabIndex":Ka(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Ka(s,h,p);break;case"style":jf(s,p,_);break;case"data":if(l!=="object"){Ka(s,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||h!=="href")){s.removeAttribute(h);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(h);break}p=Su(""+p),s.setAttribute(h,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(h==="formAction"?(l!=="input"&&zt(s,l,"name",b.name,b,null),zt(s,l,"formEncType",b.formEncType,b,null),zt(s,l,"formMethod",b.formMethod,b,null),zt(s,l,"formTarget",b.formTarget,b,null)):(zt(s,l,"encType",b.encType,b,null),zt(s,l,"method",b.method,b,null),zt(s,l,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(h);break}p=Su(""+p),s.setAttribute(h,p);break;case"onClick":p!=null&&(s.onclick=Ug);break;case"onScroll":p!=null&&dt("scroll",s);break;case"onScrollEnd":p!=null&&dt("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(h=p.__html,h!=null){if(b.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}h=Su(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(h,""+p):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":p===!0?s.setAttribute(h,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(h,p):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(h,p):s.removeAttribute(h);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(h):s.setAttribute(h,p);break;case"popover":dt("beforetoggle",s),dt("toggle",s),Bo(s,"popover",p);break;case"xlinkActuate":lr(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":lr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":lr(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":lr(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":lr(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":lr(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":lr(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":lr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":lr(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Bo(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=db.get(h)||h,Bo(s,h,p))}}function z1(s,l,h,p,b,_){switch(h){case"style":jf(s,p,_);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(h=p.__html,h!=null){if(b.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof p=="string"?Bi(s,p):(typeof p=="number"||typeof p=="bigint")&&Bi(s,""+p);break;case"onScroll":p!=null&&dt("scroll",s);break;case"onScrollEnd":p!=null&&dt("scrollend",s);break;case"onClick":p!=null&&(s.onclick=Ug);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xu.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(b=h.endsWith("Capture"),l=h.slice(2,b?h.length-7:void 0),_=s[wt]||null,_=_!=null?_[h]:null,typeof _=="function"&&s.removeEventListener(l,_,b),typeof p=="function")){typeof _!="function"&&_!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(l,p,b);break e}h in s?s[h]=p:p===!0?s.setAttribute(h,""):Bo(s,h,p)}}}function fr(s,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dt("error",s),dt("load",s);var p=!1,b=!1,_;for(_ in h)if(h.hasOwnProperty(_)){var R=h[_];if(R!=null)switch(_){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:zt(s,l,_,R,h,null)}}b&&zt(s,l,"srcSet",h.srcSet,h,null),p&&zt(s,l,"src",h.src,h,null);return;case"input":dt("invalid",s);var B=_=R=b=null,Y=null,ae=null;for(p in h)if(h.hasOwnProperty(p)){var he=h[p];if(he!=null)switch(p){case"name":b=he;break;case"type":R=he;break;case"checked":Y=he;break;case"defaultChecked":ae=he;break;case"value":_=he;break;case"defaultValue":B=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,l));break;default:zt(s,l,p,he,h,null)}}Xl(s,_,B,Y,ae,R,b,!1),Eu(s);return;case"select":dt("invalid",s),p=R=_=null;for(b in h)if(h.hasOwnProperty(b)&&(B=h[b],B!=null))switch(b){case"value":_=B;break;case"defaultValue":R=B;break;case"multiple":p=B;default:zt(s,l,b,B,h,null)}l=_,h=R,s.multiple=!!p,l!=null?Rs(s,!!p,l,!1):h!=null&&Rs(s,!!p,h,!0);return;case"textarea":dt("invalid",s),_=b=p=null;for(R in h)if(h.hasOwnProperty(R)&&(B=h[R],B!=null))switch(R){case"value":p=B;break;case"defaultValue":b=B;break;case"children":_=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:zt(s,l,R,B,h,null)}Ql(s,p,b,_),Eu(s);return;case"option":for(Y in h)if(h.hasOwnProperty(Y)&&(p=h[Y],p!=null))switch(Y){case"selected":s.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:zt(s,l,Y,p,h,null)}return;case"dialog":dt("beforetoggle",s),dt("toggle",s),dt("cancel",s),dt("close",s);break;case"iframe":case"object":dt("load",s);break;case"video":case"audio":for(p=0;p<hh.length;p++)dt(hh[p],s);break;case"image":dt("error",s),dt("load",s);break;case"details":dt("toggle",s);break;case"embed":case"source":case"link":dt("error",s),dt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in h)if(h.hasOwnProperty(ae)&&(p=h[ae],p!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:zt(s,l,ae,p,h,null)}return;default:if(Cf(l)){for(he in h)h.hasOwnProperty(he)&&(p=h[he],p!==void 0&&z1(s,l,he,p,h,void 0));return}}for(B in h)h.hasOwnProperty(B)&&(p=h[B],p!=null&&zt(s,l,B,p,h,null))}function Bz(s,l,h,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,_=null,R=null,B=null,Y=null,ae=null,he=null;for(le in h){var ge=h[le];if(h.hasOwnProperty(le)&&ge!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":Y=ge;default:p.hasOwnProperty(le)||zt(s,l,le,null,p,ge)}}for(var oe in p){var le=p[oe];if(ge=h[oe],p.hasOwnProperty(oe)&&(le!=null||ge!=null))switch(oe){case"type":_=le;break;case"name":b=le;break;case"checked":ae=le;break;case"defaultChecked":he=le;break;case"value":R=le;break;case"defaultValue":B=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,l));break;default:le!==ge&&zt(s,l,oe,le,p,ge)}}mi(s,R,B,Y,ae,he,_,b);return;case"select":le=R=B=oe=null;for(_ in h)if(Y=h[_],h.hasOwnProperty(_)&&Y!=null)switch(_){case"value":break;case"multiple":le=Y;default:p.hasOwnProperty(_)||zt(s,l,_,null,p,Y)}for(b in p)if(_=p[b],Y=h[b],p.hasOwnProperty(b)&&(_!=null||Y!=null))switch(b){case"value":oe=_;break;case"defaultValue":B=_;break;case"multiple":R=_;default:_!==Y&&zt(s,l,b,_,p,Y)}l=B,h=R,p=le,oe!=null?Rs(s,!!h,oe,!1):!!p!=!!h&&(l!=null?Rs(s,!!h,l,!0):Rs(s,!!h,h?[]:"",!1));return;case"textarea":le=oe=null;for(B in h)if(b=h[B],h.hasOwnProperty(B)&&b!=null&&!p.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:zt(s,l,B,null,p,b)}for(R in p)if(b=p[R],_=h[R],p.hasOwnProperty(R)&&(b!=null||_!=null))switch(R){case"value":oe=b;break;case"defaultValue":le=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==_&&zt(s,l,R,b,p,_)}$t(s,oe,le);return;case"option":for(var Je in h)if(oe=h[Je],h.hasOwnProperty(Je)&&oe!=null&&!p.hasOwnProperty(Je))switch(Je){case"selected":s.selected=!1;break;default:zt(s,l,Je,null,p,oe)}for(Y in p)if(oe=p[Y],le=h[Y],p.hasOwnProperty(Y)&&oe!==le&&(oe!=null||le!=null))switch(Y){case"selected":s.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:zt(s,l,Y,oe,p,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var We in h)oe=h[We],h.hasOwnProperty(We)&&oe!=null&&!p.hasOwnProperty(We)&&zt(s,l,We,null,p,oe);for(ae in p)if(oe=p[ae],le=h[ae],p.hasOwnProperty(ae)&&oe!==le&&(oe!=null||le!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,l));break;default:zt(s,l,ae,oe,p,le)}return;default:if(Cf(l)){for(var Ft in h)oe=h[Ft],h.hasOwnProperty(Ft)&&oe!==void 0&&!p.hasOwnProperty(Ft)&&z1(s,l,Ft,void 0,p,oe);for(he in p)oe=p[he],le=h[he],!p.hasOwnProperty(he)||oe===le||oe===void 0&&le===void 0||z1(s,l,he,oe,p,le);return}}for(var te in h)oe=h[te],h.hasOwnProperty(te)&&oe!=null&&!p.hasOwnProperty(te)&&zt(s,l,te,null,p,oe);for(ge in p)oe=p[ge],le=h[ge],!p.hasOwnProperty(ge)||oe===le||oe==null&&le==null||zt(s,l,ge,oe,p,le)}var F1=null,q1=null;function Vg(s){return s.nodeType===9?s:s.ownerDocument}function f5(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h5(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function H1(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var G1=null;function zz(){var s=window.event;return s&&s.type==="popstate"?s===G1?!1:(G1=s,!0):(G1=null,!1)}var m5=typeof setTimeout=="function"?setTimeout:void 0,Fz=typeof clearTimeout=="function"?clearTimeout:void 0,p5=typeof Promise=="function"?Promise:void 0,qz=typeof queueMicrotask=="function"?queueMicrotask:typeof p5<"u"?function(s){return p5.resolve(null).then(s).catch(Hz)}:m5;function Hz(s){setTimeout(function(){throw s})}function al(s){return s==="head"}function g5(s,l){var h=l,p=0,b=0;do{var _=h.nextSibling;if(s.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(0<p&&8>p){h=p;var R=s.ownerDocument;if(h&1&&ph(R.documentElement),h&2&&ph(R.body),h&4)for(h=R.head,ph(h),R=h.firstChild;R;){var B=R.nextSibling,Y=R.nodeName;R[Gl]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&R.rel.toLowerCase()==="stylesheet"||h.removeChild(R),R=B}}if(b===0){s.removeChild(_),Eh(l);return}b--}else h==="$"||h==="$?"||h==="$!"?b++:p=h.charCodeAt(0)-48;else p=0;h=_}while(h);Eh(l)}function K1(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":K1(h),$o(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function Gz(s,l,h,p){for(;s.nodeType===1;){var b=h;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[Gl])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==b.rel||s.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var _=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=Ea(s.nextSibling),s===null)break}return null}function Kz(s,l,h){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=Ea(s.nextSibling),s===null))return null;return s}function W1(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function Wz(s,l){var h=s.ownerDocument;if(s.data!=="$?"||h.readyState==="complete")l();else{var p=function(){l(),h.removeEventListener("DOMContentLoaded",p)};h.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function Ea(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var Y1=null;function v5(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return s;l--}else h==="/$"&&l++}s=s.previousSibling}return null}function y5(s,l,h){switch(l=Vg(h),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function ph(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);$o(s)}var Qi=new Map,x5=new Set;function $g(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Zs=K.d;K.d={f:Yz,r:Xz,D:Qz,C:Zz,L:Jz,m:eF,X:nF,S:tF,M:rF};function Yz(){var s=Zs.f(),l=Og();return s||l}function Xz(s){var l=Ha(s);l!==null&&l.tag===5&&l.type==="form"?Vj(l):Zs.r(s)}var id=typeof document>"u"?null:document;function b5(s,l,h){var p=id;if(p&&typeof l=="string"&&l){var b=Nn(l);b='link[rel="'+s+'"][href="'+b+'"]',typeof h=="string"&&(b+='[crossorigin="'+h+'"]'),x5.has(b)||(x5.add(b),s={rel:s,crossOrigin:h,href:l},p.querySelector(b)===null&&(l=p.createElement("link"),fr(l,"link",s),bn(l),p.head.appendChild(l)))}}function Qz(s){Zs.D(s),b5("dns-prefetch",s,null)}function Zz(s,l){Zs.C(s,l),b5("preconnect",s,l)}function Jz(s,l,h){Zs.L(s,l,h);var p=id;if(p&&s&&l){var b='link[rel="preload"][as="'+Nn(l)+'"]';l==="image"&&h&&h.imageSrcSet?(b+='[imagesrcset="'+Nn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(b+='[imagesizes="'+Nn(h.imageSizes)+'"]')):b+='[href="'+Nn(s)+'"]';var _=b;switch(l){case"style":_=ad(s);break;case"script":_=sd(s)}Qi.has(_)||(s=m({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:s,as:l},h),Qi.set(_,s),p.querySelector(b)!==null||l==="style"&&p.querySelector(gh(_))||l==="script"&&p.querySelector(vh(_))||(l=p.createElement("link"),fr(l,"link",s),bn(l),p.head.appendChild(l)))}}function eF(s,l){Zs.m(s,l);var h=id;if(h&&s){var p=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Nn(p)+'"][href="'+Nn(s)+'"]',_=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=sd(s)}if(!Qi.has(_)&&(s=m({rel:"modulepreload",href:s},l),Qi.set(_,s),h.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(vh(_)))return}p=h.createElement("link"),fr(p,"link",s),bn(p),h.head.appendChild(p)}}}function tF(s,l,h){Zs.S(s,l,h);var p=id;if(p&&s){var b=Pr(p).hoistableStyles,_=ad(s);l=l||"default";var R=b.get(_);if(!R){var B={loading:0,preload:null};if(R=p.querySelector(gh(_)))B.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":l},h),(h=Qi.get(_))&&X1(s,h);var Y=R=p.createElement("link");bn(Y),fr(Y,"link",s),Y._p=new Promise(function(ae,he){Y.onload=ae,Y.onerror=he}),Y.addEventListener("load",function(){B.loading|=1}),Y.addEventListener("error",function(){B.loading|=2}),B.loading|=4,Bg(R,l,p)}R={type:"stylesheet",instance:R,count:1,state:B},b.set(_,R)}}}function nF(s,l){Zs.X(s,l);var h=id;if(h&&s){var p=Pr(h).hoistableScripts,b=sd(s),_=p.get(b);_||(_=h.querySelector(vh(b)),_||(s=m({src:s,async:!0},l),(l=Qi.get(b))&&Q1(s,l),_=h.createElement("script"),bn(_),fr(_,"link",s),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(b,_))}}function rF(s,l){Zs.M(s,l);var h=id;if(h&&s){var p=Pr(h).hoistableScripts,b=sd(s),_=p.get(b);_||(_=h.querySelector(vh(b)),_||(s=m({src:s,async:!0,type:"module"},l),(l=Qi.get(b))&&Q1(s,l),_=h.createElement("script"),bn(_),fr(_,"link",s),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(b,_))}}function w5(s,l,h,p){var b=(b=Ne.current)?$g(b):null;if(!b)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=ad(h.href),h=Pr(b).hoistableStyles,p=h.get(l),p||(p={type:"style",instance:null,count:0,state:null},h.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=ad(h.href);var _=Pr(b).hoistableStyles,R=_.get(s);if(R||(b=b.ownerDocument||b,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,R),(_=b.querySelector(gh(s)))&&!_._p&&(R.instance=_,R.state.loading=5),Qi.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Qi.set(s,h),_||iF(b,s,h,R.state))),l&&p===null)throw Error(r(528,""));return R}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=sd(h),h=Pr(b).hoistableScripts,p=h.get(l),p||(p={type:"script",instance:null,count:0,state:null},h.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function ad(s){return'href="'+Nn(s)+'"'}function gh(s){return'link[rel="stylesheet"]['+s+"]"}function _5(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function iF(s,l,h,p){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=s.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),fr(l,"link",h),bn(l),s.head.appendChild(l))}function sd(s){return'[src="'+Nn(s)+'"]'}function vh(s){return"script[async]"+s}function E5(s,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var p=s.querySelector('style[data-href~="'+Nn(h.href)+'"]');if(p)return l.instance=p,bn(p),p;var b=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),bn(p),fr(p,"style",b),Bg(p,h.precedence,s),l.instance=p;case"stylesheet":b=ad(h.href);var _=s.querySelector(gh(b));if(_)return l.state.loading|=4,l.instance=_,bn(_),_;p=_5(h),(b=Qi.get(b))&&X1(p,b),_=(s.ownerDocument||s).createElement("link"),bn(_);var R=_;return R._p=new Promise(function(B,Y){R.onload=B,R.onerror=Y}),fr(_,"link",p),l.state.loading|=4,Bg(_,h.precedence,s),l.instance=_;case"script":return _=sd(h.src),(b=s.querySelector(vh(_)))?(l.instance=b,bn(b),b):(p=h,(b=Qi.get(_))&&(p=m({},h),Q1(p,b)),s=s.ownerDocument||s,b=s.createElement("script"),bn(b),fr(b,"link",p),s.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Bg(p,h.precedence,s));return l.instance}function Bg(s,l,h){for(var p=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,_=b,R=0;R<p.length;R++){var B=p[R];if(B.dataset.precedence===l)_=B;else if(_!==b)break}_?_.parentNode.insertBefore(s,_.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(s,l.firstChild))}function X1(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function Q1(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var zg=null;function S5(s,l,h){if(zg===null){var p=new Map,b=zg=new Map;b.set(h,p)}else b=zg,p=b.get(h),p||(p=new Map,b.set(h,p));if(p.has(s))return p;for(p.set(s,null),h=h.getElementsByTagName(s),b=0;b<h.length;b++){var _=h[b];if(!(_[Gl]||_[gt]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var R=_.getAttribute(l)||"";R=s+R;var B=p.get(R);B?B.push(_):p.set(R,[_])}}return p}function T5(s,l,h){s=s.ownerDocument||s,s.head.insertBefore(h,l==="title"?s.querySelector("head > title"):null)}function aF(s,l,h){if(h===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function A5(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var yh=null;function sF(){}function oF(s,l,h){if(yh===null)throw Error(r(475));var p=yh;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var b=ad(h.href),_=s.querySelector(gh(b));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(p.count++,p=Fg.bind(p),s.then(p,p)),l.state.loading|=4,l.instance=_,bn(_);return}_=s.ownerDocument||s,h=_5(h),(b=Qi.get(b))&&X1(h,b),_=_.createElement("link"),bn(_);var R=_;R._p=new Promise(function(B,Y){R.onload=B,R.onerror=Y}),fr(_,"link",h),l.instance=_}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(p.count++,l=Fg.bind(p),s.addEventListener("load",l),s.addEventListener("error",l))}}function lF(){if(yh===null)throw Error(r(475));var s=yh;return s.stylesheets&&s.count===0&&Z1(s,s.stylesheets),0<s.count?function(l){var h=setTimeout(function(){if(s.stylesheets&&Z1(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(h)}}:null}function Fg(){if(this.count--,this.count===0){if(this.stylesheets)Z1(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var qg=null;function Z1(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,qg=new Map,l.forEach(cF,s),qg=null,Fg.call(s))}function cF(s,l){if(!(l.state.loading&4)){var h=qg.get(s);if(h)var p=h.get(null);else{h=new Map,qg.set(s,h);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<b.length;_++){var R=b[_];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(h.set(R.dataset.precedence,R),p=R)}p&&h.set(null,p)}b=l.instance,R=b.getAttribute("data-precedence"),_=h.get(R)||p,_===p&&h.set(null,b),h.set(R,b),this.count++,p=Fg.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),_?_.parentNode.insertBefore(b,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),l.state.loading|=4}}var xh={$$typeof:j,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function uF(s,l,h,p,b,_,R,B){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=we(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=we(0),this.hiddenUpdates=we(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=_,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function N5(s,l,h,p,b,_,R,B,Y,ae,he,ge){return s=new uF(s,l,h,R,B,Y,ae,ge),l=1,_===!0&&(l|=24),_=gi(3,null,null,l),s.current=_,_.stateNode=s,l=Rb(),l.refCount++,s.pooledCache=l,l.refCount++,_.memoizedState={element:p,isDehydrated:h,cache:l},Lb(_),s}function k5(s){return s?(s=Lu,s):Lu}function j5(s,l,h,p,b,_){b=k5(b),p.context===null?p.context=b:p.pendingContext=b,p=Go(l),p.payload={element:h},_=_===void 0?null:_,_!==null&&(p.callback=_),h=Ko(s,p,l),h!==null&&(wi(h,s,l),Yf(h,s,l))}function C5(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function J1(s,l){C5(s,l),(s=s.alternate)&&C5(s,l)}function O5(s){if(s.tag===13){var l=Mu(s,67108864);l!==null&&wi(l,s,67108864),J1(s,67108864)}}var Hg=!0;function dF(s,l,h,p){var b=U.T;U.T=null;var _=K.p;try{K.p=2,ew(s,l,h,p)}finally{K.p=_,U.T=b}}function fF(s,l,h,p){var b=U.T;U.T=null;var _=K.p;try{K.p=8,ew(s,l,h,p)}finally{K.p=_,U.T=b}}function ew(s,l,h,p){if(Hg){var b=tw(p);if(b===null)B1(s,l,p,Gg,h),R5(s,p);else if(mF(b,s,l,h,p))p.stopPropagation();else if(R5(s,p),l&4&&-1<hF.indexOf(s)){for(;b!==null;){var _=Ha(b);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var R=It(_.pendingLanes);if(R!==0){var B=_;for(B.pendingLanes|=2,B.entangledLanes|=2;R;){var Y=1<<31-Et(R);B.entanglements[1]|=Y,R&=~Y}as(_),(Rt&6)===0&&(jg=Ut()+500,fh(0))}}break;case 13:B=Mu(_,2),B!==null&&wi(B,_,2),Og(),J1(_,2)}if(_=tw(p),_===null&&B1(s,l,p,Gg,h),_===b)break;b=_}b!==null&&p.stopPropagation()}else B1(s,l,p,null,h)}}function tw(s){return s=zi(s),nw(s)}var Gg=null;function nw(s){if(Gg=null,s=Cs(s),s!==null){var l=a(s);if(l===null)s=null;else{var h=l.tag;if(h===13){if(s=o(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Gg=s,null}function I5(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xr()){case qa:return 2;case ga:return 8;case $i:case Uo:return 32;case va:return 268435456;default:return 32}default:return 32}}var rw=!1,sl=null,ol=null,ll=null,bh=new Map,wh=new Map,cl=[],hF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R5(s,l){switch(s){case"focusin":case"focusout":sl=null;break;case"dragenter":case"dragleave":ol=null;break;case"mouseover":case"mouseout":ll=null;break;case"pointerover":case"pointerout":bh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":wh.delete(l.pointerId)}}function _h(s,l,h,p,b,_){return s===null||s.nativeEvent!==_?(s={blockedOn:l,domEventName:h,eventSystemFlags:p,nativeEvent:_,targetContainers:[b]},l!==null&&(l=Ha(l),l!==null&&O5(l)),s):(s.eventSystemFlags|=p,l=s.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),s)}function mF(s,l,h,p,b){switch(l){case"focusin":return sl=_h(sl,s,l,h,p,b),!0;case"dragenter":return ol=_h(ol,s,l,h,p,b),!0;case"mouseover":return ll=_h(ll,s,l,h,p,b),!0;case"pointerover":var _=b.pointerId;return bh.set(_,_h(bh.get(_)||null,s,l,h,p,b)),!0;case"gotpointercapture":return _=b.pointerId,wh.set(_,_h(wh.get(_)||null,s,l,h,p,b)),!0}return!1}function P5(s){var l=Cs(s.target);if(l!==null){var h=a(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){s.blockedOn=l,Wn(s.priority,function(){if(h.tag===13){var p=bi();p=Pe(p);var b=Mu(h,p);b!==null&&wi(b,h,p),J1(h,p)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Kg(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=tw(s.nativeEvent);if(h===null){h=s.nativeEvent;var p=new h.constructor(h.type,h);Ps=p,h.target.dispatchEvent(p),Ps=null}else return l=Ha(h),l!==null&&O5(l),s.blockedOn=h,!1;l.shift()}return!0}function D5(s,l,h){Kg(s)&&h.delete(l)}function pF(){rw=!1,sl!==null&&Kg(sl)&&(sl=null),ol!==null&&Kg(ol)&&(ol=null),ll!==null&&Kg(ll)&&(ll=null),bh.forEach(D5),wh.forEach(D5)}function Wg(s,l){s.blockedOn===l&&(s.blockedOn=null,rw||(rw=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,pF)))}var Yg=null;function M5(s){Yg!==s&&(Yg=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yg===s&&(Yg=null);for(var l=0;l<s.length;l+=3){var h=s[l],p=s[l+1],b=s[l+2];if(typeof p!="function"){if(nw(p||h)===null)continue;break}var _=Ha(h);_!==null&&(s.splice(l,3),l-=3,n1(_,{pending:!0,data:b,method:h.method,action:p},p,b))}}))}function Eh(s){function l(Y){return Wg(Y,s)}sl!==null&&Wg(sl,s),ol!==null&&Wg(ol,s),ll!==null&&Wg(ll,s),bh.forEach(l),wh.forEach(l);for(var h=0;h<cl.length;h++){var p=cl[h];p.blockedOn===s&&(p.blockedOn=null)}for(;0<cl.length&&(h=cl[0],h.blockedOn===null);)P5(h),h.blockedOn===null&&cl.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(p=0;p<h.length;p+=3){var b=h[p],_=h[p+1],R=b[wt]||null;if(typeof _=="function")R||M5(h);else if(R){var B=null;if(_&&_.hasAttribute("formAction")){if(b=_,R=_[wt]||null)B=R.formAction;else if(nw(b)!==null)continue}else B=R.action;typeof B=="function"?h[p+1]=B:(h.splice(p,3),p-=3),M5(h)}}}function iw(s){this._internalRoot=s}Xg.prototype.render=iw.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,p=bi();j5(h,p,s,l,null,null)},Xg.prototype.unmount=iw.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;j5(s.current,2,null,s,null,null),Og(),l[wr]=null}};function Xg(s){this._internalRoot=s}Xg.prototype.unstable_scheduleHydration=function(s){if(s){var l=Le();s={blockedOn:null,target:s,priority:l};for(var h=0;h<cl.length&&l!==0&&l<cl[h].priority;h++);cl.splice(h,0,s),h===0&&P5(s)}};var L5=e.version;if(L5!=="19.1.0")throw Error(r(527,L5,"19.1.0"));K.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(l),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var gF={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qg.isDisabled&&Qg.supportsFiber)try{Be=Qg.inject(gF),Xe=Qg}catch{}}return Th.createRoot=function(s,l){if(!i(s))throw Error(r(299));var h=!1,p="",b=Jj,_=eC,R=tC,B=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(B=l.unstable_transitionCallbacks)),l=N5(s,1,!1,null,null,h,p,b,_,R,B,null),s[wr]=l.current,$1(s),new iw(l)},Th.hydrateRoot=function(s,l,h){if(!i(s))throw Error(r(299));var p=!1,b="",_=Jj,R=eC,B=tC,Y=null,ae=null;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onUncaughtError!==void 0&&(_=h.onUncaughtError),h.onCaughtError!==void 0&&(R=h.onCaughtError),h.onRecoverableError!==void 0&&(B=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(Y=h.unstable_transitionCallbacks),h.formState!==void 0&&(ae=h.formState)),l=N5(s,1,!0,l,h??null,p,b,_,R,B,Y,ae),l.context=k5(null),h=l.current,p=bi(),p=Pe(p),b=Go(p),b.callback=null,Ko(h,b,p),h=p,l.current.lanes=h,je(l,h),as(l),s[wr]=l.current,$1(s),new Xg(l)},Th.version="19.1.0",Th}var K5;function jF(){if(K5)return ow.exports;K5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ow.exports=kF(),ow.exports}var CF=jF();const OF=hi(CF);var Ah={},W5;function IF(){if(W5)return Ah;W5=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.parse=o,Ah.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function o(v,x){const w=new a,T=v.length;if(T<2)return w;const E=(x==null?void 0:x.decode)||m;let A=0;do{const k=v.indexOf("=",A);if(k===-1)break;const j=v.indexOf(";",A),D=j===-1?T:j;if(k>D){A=v.lastIndexOf(";",k-1)+1;continue}const O=c(v,A,k),L=d(v,k,O),P=v.slice(O,L);if(w[P]===void 0){let C=c(v,k+1,D),M=d(v,D,C);const z=E(v.slice(C,M));w[P]=z}A=D+1}while(A<T);return w}function c(v,x,w){do{const T=v.charCodeAt(x);if(T!==32&&T!==9)return x}while(++x<w);return w}function d(v,x,w){for(;x>w;){const T=v.charCodeAt(--x);if(T!==32&&T!==9)return x+1}return w}function f(v,x,w){const T=(w==null?void 0:w.encode)||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const E=T(x);if(!e.test(E))throw new TypeError(`argument val is invalid: ${x}`);let A=v+"="+E;if(!w)return A;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);A+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);A+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);A+="; Path="+w.path}if(w.expires){if(!g(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);A+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(A+="; HttpOnly"),w.secure&&(A+="; Secure"),w.partitioned&&(A+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return A}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function g(v){return i.call(v)==="[object Date]"}return Ah}IF();var Y5="popstate";function RF(t={}){function e(r,i){let{pathname:a,search:o,hash:c}=r.location;return j2("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:gm(i)}return DF(e,n,null,t)}function sn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PF(){return Math.random().toString(36).substring(2,10)}function X5(t,e){return{usr:t.state,key:t.key,idx:e}}function j2(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?rf(e):e,state:n,key:e&&e.key||r||PF()}}function gm({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function rf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function DF(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,c="POP",d=null,f=m();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function m(){return(o.state||{idx:null}).idx}function g(){c="POP";let E=m(),A=E==null?null:E-f;f=E,d&&d({action:c,location:T.location,delta:A})}function v(E,A){c="PUSH";let k=j2(T.location,E,A);f=m()+1;let j=X5(k,f),D=T.createHref(k);try{o.pushState(j,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(D)}a&&d&&d({action:c,location:T.location,delta:1})}function x(E,A){c="REPLACE";let k=j2(T.location,E,A);f=m();let j=X5(k,f),D=T.createHref(k);o.replaceState(j,"",D),a&&d&&d({action:c,location:T.location,delta:0})}function w(E){return MF(E)}let T={get action(){return c},get location(){return t(i,o)},listen(E){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(Y5,g),d=E,()=>{i.removeEventListener(Y5,g),d=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let A=w(E);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:x,go(E){return o.go(E)}};return T}function MF(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),sn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:gm(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function l6(t,e,n="/"){return LF(t,e,n,!1)}function LF(t,e,n,r){let i=typeof e=="string"?rf(e):e,a=go(i.pathname||"/",n);if(a==null)return null;let o=c6(t);UF(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let f=YF(a);c=KF(o[d],f,r)}return c}function c6(t,e=[],n=[],r=""){let i=(a,o,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};d.relativePath.startsWith("/")&&(sn(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=uo([r,d.relativePath]),m=n.concat(d);a.children&&a.children.length>0&&(sn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),c6(a.children,e,m,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:HF(f,a.index),routesMeta:m})};return t.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,o);else for(let d of u6(a.path))i(a,o,d)}),e}function u6(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=u6(r.join("/")),c=[];return c.push(...o.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...o),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function UF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var VF=/^:[\w-]+$/,$F=3,BF=2,zF=1,FF=10,qF=-2,Q5=t=>t==="*";function HF(t,e){let n=t.split("/"),r=n.length;return n.some(Q5)&&(r+=qF),e&&(r+=BF),n.filter(i=>!Q5(i)).reduce((i,a)=>i+(VF.test(a)?$F:a===""?zF:FF),r)}function GF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function KF(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",g=iv({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),v=d.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=iv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),o.push({params:i,pathname:uo([a,g.pathname]),pathnameBase:JF(uo([a,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(a=uo([a,g.pathnameBase]))}return o}function iv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=WF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:g},v)=>{if(m==="*"){let w=c[v]||"";o=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const x=c[v];return g&&!x?f[m]=void 0:f[m]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:t}}function WF(t,e=!1,n=!0){oa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function YF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function go(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function XF(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?rf(t):t;return{pathname:n?n.startsWith("/")?n:QF(n,e):e,search:eq(r),hash:tq(i)}}function QF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function dw(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function DS(t){let e=ZF(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function MS(t,e,n,r=!1){let i;typeof t=="string"?i=rf(t):(i={...t},sn(!i.pathname||!i.pathname.includes("?"),dw("?","pathname","search",i)),sn(!i.pathname||!i.pathname.includes("#"),dw("#","pathname","hash",i)),sn(!i.search||!i.search.includes("#"),dw("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=n;else{let g=e.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}c=g>=0?e[g]:"/"}let d=XF(i,c),f=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var uo=t=>t.join("/").replace(/\/\/+/g,"/"),JF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var d6=["POST","PUT","PATCH","DELETE"];new Set(d6);var rq=["GET",...d6];new Set(rq);var af=S.createContext(null);af.displayName="DataRouter";var Hy=S.createContext(null);Hy.displayName="DataRouterState";var f6=S.createContext({isTransitioning:!1});f6.displayName="ViewTransition";var iq=S.createContext(new Map);iq.displayName="Fetchers";var aq=S.createContext(null);aq.displayName="Await";var $a=S.createContext(null);$a.displayName="Navigation";var Gm=S.createContext(null);Gm.displayName="Location";var Ba=S.createContext({outlet:null,matches:[],isDataRoute:!1});Ba.displayName="Route";var LS=S.createContext(null);LS.displayName="RouteError";function sq(t,{relative:e}={}){sn(sf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext($a),{hash:i,pathname:a,search:o}=Km(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:uo([n,a])),r.createHref({pathname:c,search:o,hash:i})}function sf(){return S.useContext(Gm)!=null}function jo(){return sn(sf(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Gm).location}var h6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function m6(t){S.useContext($a).static||S.useLayoutEffect(t)}function Wr(){let{isDataRoute:t}=S.useContext(Ba);return t?xq():oq()}function oq(){sn(sf(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(af),{basename:e,navigator:n}=S.useContext($a),{matches:r}=S.useContext(Ba),{pathname:i}=jo(),a=JSON.stringify(DS(r)),o=S.useRef(!1);return m6(()=>{o.current=!0}),S.useCallback((d,f={})=>{if(oa(o.current,h6),!o.current)return;if(typeof d=="number"){n.go(d);return}let m=MS(d,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:uo([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,a,i,t])}S.createContext(null);function p6(){let{matches:t}=S.useContext(Ba),e=t[t.length-1];return e?e.params:{}}function Km(t,{relative:e}={}){let{matches:n}=S.useContext(Ba),{pathname:r}=jo(),i=JSON.stringify(DS(n));return S.useMemo(()=>MS(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function lq(t,e){return g6(t,e)}function g6(t,e,n,r){var A;sn(sf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext($a),{matches:a}=S.useContext(Ba),o=a[a.length-1],c=o?o.params:{},d=o?o.pathname:"/",f=o?o.pathnameBase:"/",m=o&&o.route;{let k=m&&m.path||"";v6(d,!m||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let g=jo(),v;if(e){let k=typeof e=="string"?rf(e):e;sn(f==="/"||((A=k.pathname)==null?void 0:A.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${k.pathname}" was given in the \`location\` prop.`),v=k}else v=g;let x=v.pathname||"/",w=x;if(f!=="/"){let k=f.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(k.length).join("/")}let T=l6(t,{pathname:w});oa(m||T!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),oa(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=hq(T&&T.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:uo([f,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?f:uo([f,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,n,r);return e&&E?S.createElement(Gm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},E):E}function cq(){let t=yq(),e=nq(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:a},"ErrorBoundary")," or"," ",S.createElement("code",{style:a},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,o)}var uq=S.createElement(cq,null),dq=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?S.createElement(Ba.Provider,{value:this.props.routeContext},S.createElement(LS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fq({routeContext:t,match:e,children:n}){let r=S.useContext(af);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Ba.Provider,{value:t},n)}function hq(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);sn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:g}=n,v=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let g,v=!1,x=null,w=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||uq,o&&(c<0&&m===0?(v6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):c===m&&(v=!0,w=f.route.hydrateFallbackElement||null)));let T=e.concat(i.slice(0,m+1)),E=()=>{let A;return g?A=x:v?A=w:f.route.Component?A=S.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=d,S.createElement(fq,{match:f,routeContext:{outlet:d,matches:T,isDataRoute:n!=null},children:A})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?S.createElement(dq,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):E()},null)}function US(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mq(t){let e=S.useContext(af);return sn(e,US(t)),e}function pq(t){let e=S.useContext(Hy);return sn(e,US(t)),e}function gq(t){let e=S.useContext(Ba);return sn(e,US(t)),e}function VS(t){let e=gq(t),n=e.matches[e.matches.length-1];return sn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function vq(){return VS("useRouteId")}function yq(){var r;let t=S.useContext(LS),e=pq("useRouteError"),n=VS("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function xq(){let{router:t}=mq("useNavigate"),e=VS("useNavigate"),n=S.useRef(!1);return m6(()=>{n.current=!0}),S.useCallback(async(i,a={})=>{oa(n.current,h6),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Z5={};function v6(t,e,n){!e&&!Z5[t]&&(Z5[t]=!0,oa(!1,n))}S.memo(bq);function bq({routes:t,future:e,state:n}){return g6(t,void 0,n,e)}function y6({to:t,replace:e,state:n,relative:r}){sn(sf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=S.useContext($a);oa(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=S.useContext(Ba),{pathname:o}=jo(),c=Wr(),d=MS(t,DS(a),o,r==="path"),f=JSON.stringify(d);return S.useEffect(()=>{c(JSON.parse(f),{replace:e,state:n,relative:r})},[c,f,r,e,n]),null}function Aa(t){sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wq({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){sn(!sf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n=="string"&&(n=rf(n));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:v="default"}=n,x=S.useMemo(()=>{let w=go(d,o);return w==null?null:{location:{pathname:w,search:f,hash:m,state:g,key:v},navigationType:r}},[o,d,f,m,g,v,r]);return oa(x!=null,`<Router basename="${o}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:S.createElement($a.Provider,{value:c},S.createElement(Gm.Provider,{children:e,value:x}))}function _q({children:t,location:e}){return lq(C2(t),e)}function C2(t,e=[]){let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let a=[...e,i];if(r.type===S.Fragment){n.push.apply(n,C2(r.props.children,a));return}sn(r.type===Aa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=C2(r.props.children,a)),n.push(o)}),n}var D0="get",M0="application/x-www-form-urlencoded";function Gy(t){return t!=null&&typeof t.tagName=="string"}function Eq(t){return Gy(t)&&t.tagName.toLowerCase()==="button"}function Sq(t){return Gy(t)&&t.tagName.toLowerCase()==="form"}function Tq(t){return Gy(t)&&t.tagName.toLowerCase()==="input"}function Aq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Nq(t,e){return t.button===0&&(!e||e==="_self")&&!Aq(t)}function O2(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function kq(t,e){let n=O2(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}var Zg=null;function jq(){if(Zg===null)try{new FormData(document.createElement("form"),0),Zg=!1}catch{Zg=!0}return Zg}var Cq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fw(t){return t!=null&&!Cq.has(t)?(oa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${M0}"`),null):t}function Oq(t,e){let n,r,i,a,o;if(Sq(t)){let c=t.getAttribute("action");r=c?go(c,e):null,n=t.getAttribute("method")||D0,i=fw(t.getAttribute("enctype"))||M0,a=new FormData(t)}else if(Eq(t)||Tq(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?go(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||D0,i=fw(t.getAttribute("formenctype"))||fw(c.getAttribute("enctype"))||M0,a=new FormData(c,t),!jq()){let{name:f,type:m,value:g}=t;if(m==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,g)}}else{if(Gy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=D0,r=null,i=M0,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}function $S(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Iq(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rq(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Pq(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await Iq(a,n);return o.links?o.links():[]}return[]}));return Uq(r.flat(1).filter(Rq).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function J5(t,e,n,r,i,a){let o=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>{var m;return n[f].pathname!==d.pathname||((m=n[f].route.path)==null?void 0:m.endsWith("*"))&&n[f].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,f)=>o(d,f)||c(d,f)):a==="data"?e.filter((d,f)=>{var g;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(o(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Dq(t,e,{includeHydrateFallback:n}={}){return Mq(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Mq(t){return[...new Set(t)]}function Lq(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Uq(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(Lq(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Vq=new Set([100,101,204,205]);function $q(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&go(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function x6(){let t=S.useContext(af);return $S(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Bq(){let t=S.useContext(Hy);return $S(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var BS=S.createContext(void 0);BS.displayName="FrameworkContext";function b6(){let t=S.useContext(BS);return $S(t,"You must render this element inside a <HydratedRouter> element"),t}function zq(t,e){let n=S.useContext(BS),[r,i]=S.useState(!1),[a,o]=S.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:g}=e,v=S.useRef(null);S.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let T=A=>{A.forEach(k=>{o(k.isIntersecting)})},E=new IntersectionObserver(T,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[t]),S.useEffect(()=>{if(r){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[r]);let x=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,v,{}]:[a,v,{onFocus:Nh(c,x),onBlur:Nh(d,w),onMouseEnter:Nh(f,x),onMouseLeave:Nh(m,w),onTouchStart:Nh(g,x)}]:[!1,v,{}]}function Nh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Fq({page:t,...e}){let{router:n}=x6(),r=S.useMemo(()=>l6(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(Hq,{page:t,matches:r,...e}):null}function qq(t){let{manifest:e,routeModules:n}=b6(),[r,i]=S.useState([]);return S.useEffect(()=>{let a=!1;return Pq(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function Hq({page:t,matches:e,...n}){let r=jo(),{manifest:i,routeModules:a}=b6(),{basename:o}=x6(),{loaderData:c,matches:d}=Bq(),f=S.useMemo(()=>J5(t,e,d,i,r,"data"),[t,e,d,i,r]),m=S.useMemo(()=>J5(t,e,d,i,r,"assets"),[t,e,d,i,r]),g=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,T=!1;if(e.forEach(A=>{var j;let k=i.routes[A.route.id];!k||!k.hasLoader||(!f.some(D=>D.route.id===A.route.id)&&A.route.id in c&&((j=a[A.route.id])!=null&&j.shouldRevalidate)||k.hasClientLoader?T=!0:w.add(A.route.id))}),w.size===0)return[];let E=$q(t,o);return T&&w.size>0&&E.searchParams.set("_routes",e.filter(A=>w.has(A.route.id)).map(A=>A.route.id).join(",")),[E.pathname+E.search]},[o,c,r,i,f,e,t,a]),v=S.useMemo(()=>Dq(m,i),[m,i]),x=qq(m);return S.createElement(S.Fragment,null,g.map(w=>S.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>S.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),x.map(({key:w,link:T})=>S.createElement("link",{key:w,...T})))}function Gq(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var w6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w6&&(window.__reactRouterVersion="7.6.2")}catch{}function Kq({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=RF({window:n,v5Compat:!0}));let i=r.current,[a,o]=S.useState({action:i.action,location:i.location}),c=S.useCallback(d=>{S.startTransition(()=>o(d))},[o]);return S.useLayoutEffect(()=>i.listen(c),[i,c]),S.createElement(wq,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var _6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vn=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:c,target:d,to:f,preventScrollReset:m,viewTransition:g,...v},x){let{basename:w}=S.useContext($a),T=typeof f=="string"&&_6.test(f),E,A=!1;if(typeof f=="string"&&T&&(E=f,w6))try{let M=new URL(window.location.href),z=f.startsWith("//")?new URL(M.protocol+f):new URL(f),V=go(z.pathname,w);z.origin===M.origin&&V!=null?f=V+z.search+z.hash:A=!0}catch{oa(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=sq(f,{relative:i}),[j,D,O]=zq(r,v),L=Qq(f,{replace:o,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:g});function P(M){e&&e(M),M.defaultPrevented||L(M)}let C=S.createElement("a",{...v,...O,href:E||k,onClick:A||a?e:P,ref:Gq(x,D),target:d,"data-discover":!T&&n==="render"?"true":void 0});return j&&!T?S.createElement(S.Fragment,null,C,S.createElement(Fq,{page:k})):C});vn.displayName="Link";var Wq=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:c,children:d,...f},m){let g=Km(o,{relative:f.relative}),v=jo(),x=S.useContext(Hy),{navigator:w,basename:T}=S.useContext($a),E=x!=null&&rH(g)&&c===!0,A=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,k=v.pathname,j=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(k=k.toLowerCase(),j=j?j.toLowerCase():null,A=A.toLowerCase()),j&&T&&(j=go(j,T)||j);const D=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let O=k===A||!i&&k.startsWith(A)&&k.charAt(D)==="/",L=j!=null&&(j===A||!i&&j.startsWith(A)&&j.charAt(A.length)==="/"),P={isActive:O,isPending:L,isTransitioning:E},C=O?e:void 0,M;typeof r=="function"?M=r(P):M=[r,O?"active":null,L?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let z=typeof a=="function"?a(P):a;return S.createElement(vn,{...f,"aria-current":C,className:M,ref:m,style:z,to:o,viewTransition:c},typeof d=="function"?d(P):d)});Wq.displayName="NavLink";var Yq=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=D0,action:c,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:g,...v},x)=>{let w=tH(),T=nH(c,{relative:f}),E=o.toLowerCase()==="get"?"get":"post",A=typeof c=="string"&&_6.test(c),k=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let D=j.nativeEvent.submitter,O=(D==null?void 0:D.getAttribute("formmethod"))||o;w(D||j.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:a,relative:f,preventScrollReset:m,viewTransition:g})};return S.createElement("form",{ref:x,method:E,action:T,onSubmit:r?d:k,...v,"data-discover":!A&&t==="render"?"true":void 0})});Yq.displayName="Form";function Xq(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E6(t){let e=S.useContext(af);return sn(e,Xq(t)),e}function Qq(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let c=Wr(),d=jo(),f=Km(t,{relative:a});return S.useCallback(m=>{if(Nq(m,e)){m.preventDefault();let g=n!==void 0?n:gm(d)===gm(f);c(t,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[d,c,f,n,r,e,t,i,a,o])}function Zq(t){oa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=S.useRef(O2(t)),n=S.useRef(!1),r=jo(),i=S.useMemo(()=>kq(r.search,n.current?null:e.current),[r.search]),a=Wr(),o=S.useCallback((c,d)=>{const f=O2(typeof c=="function"?c(i):c);n.current=!0,a("?"+f,d)},[a,i]);return[i,o]}var Jq=0,eH=()=>`__${String(++Jq)}__`;function tH(){let{router:t}=E6("useSubmit"),{basename:e}=S.useContext($a),n=vq();return S.useCallback(async(r,i={})=>{let{action:a,method:o,encType:c,formData:d,body:f}=Oq(r,e);if(i.navigate===!1){let m=i.fetcherKey||eH();await t.fetch(m,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||o,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||o,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function nH(t,{relative:e}={}){let{basename:n}=S.useContext($a),r=S.useContext(Ba);sn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Km(t||".",{relative:e})},o=jo();if(t==null){a.search=o.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:uo([n,a.pathname])),gm(a)}function rH(t,e={}){let n=S.useContext(f6);sn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=E6("useViewTransitionState"),i=Km(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=go(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=go(n.nextLocation.pathname,r)||n.nextLocation.pathname;return iv(i.pathname,o)!=null||iv(i.pathname,a)!=null}[...Vq];var iH=o6(),hw,e4;function aH(){if(e4)return hw;e4=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(a,o){if(a===o)return!0;if(a&&o&&typeof a=="object"&&typeof o=="object"){if(a.constructor!==o.constructor)return!1;var c,d,f;if(Array.isArray(a)){if(c=a.length,c!=o.length)return!1;for(d=c;d--!==0;)if(!i(a[d],o[d]))return!1;return!0}var m;if(e&&a instanceof Map&&o instanceof Map){if(a.size!==o.size)return!1;for(m=a.entries();!(d=m.next()).done;)if(!o.has(d.value[0]))return!1;for(m=a.entries();!(d=m.next()).done;)if(!i(d.value[1],o.get(d.value[0])))return!1;return!0}if(n&&a instanceof Set&&o instanceof Set){if(a.size!==o.size)return!1;for(m=a.entries();!(d=m.next()).done;)if(!o.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(o)){if(c=a.length,c!=o.length)return!1;for(d=c;d--!==0;)if(a[d]!==o[d])return!1;return!0}if(a.constructor===RegExp)return a.source===o.source&&a.flags===o.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof o.valueOf=="function")return a.valueOf()===o.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof o.toString=="function")return a.toString()===o.toString();if(f=Object.keys(a),c=f.length,c!==Object.keys(o).length)return!1;for(d=c;d--!==0;)if(!Object.prototype.hasOwnProperty.call(o,f[d]))return!1;if(t&&a instanceof Element)return!1;for(d=c;d--!==0;)if(!((f[d]==="_owner"||f[d]==="__v"||f[d]==="__o")&&a.$$typeof)&&!i(a[f[d]],o[f[d]]))return!1;return!0}return a!==a&&o!==o}return hw=function(o,c){try{return i(o,c)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},hw}var sH=aH();const oH=hi(sH);var mw,t4;function lH(){if(t4)return mw;t4=1;var t=function(e,n,r,i,a,o,c,d){if(!e){var f;if(n===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[r,i,a,o,c,d],g=0;f=new Error(n.replace(/%s/g,function(){return m[g++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};return mw=t,mw}var cH=lH();const n4=hi(cH);var pw,r4;function uH(){return r4||(r4=1,pw=function(e,n,r,i){var a=r?r.call(i,e,n):void 0;if(a!==void 0)return!!a;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),c=Object.keys(n);if(o.length!==c.length)return!1;for(var d=Object.prototype.hasOwnProperty.bind(n),f=0;f<o.length;f++){var m=o[f];if(!d(m))return!1;var g=e[m],v=n[m];if(a=r?r.call(i,g,v,m):void 0,a===!1||a===void 0&&g!==v)return!1}return!0}),pw}var dH=uH();const fH=hi(dH);var S6=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(S6||{}),gw={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},i4=Object.values(S6),zS={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},hH=Object.entries(zS).reduce((t,[e,n])=>(t[n]=e,t),{}),Oa="data-rh",bd={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},wd=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},mH=t=>{let e=wd(t,"title");const n=wd(t,bd.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=wd(t,bd.DEFAULT_TITLE);return e||r||void 0},pH=t=>wd(t,bd.ON_CHANGE_CLIENT_STATE)||(()=>{}),vw=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),gH=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let a=0;a<i.length;a+=1){const c=i[a].toLowerCase();if(t.indexOf(c)!==-1&&r[c])return n.concat(r)}}return n},[]),vH=t=>console&&typeof console.warn=="function"&&console.warn(t),kh=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&vH(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,a)=>{const o={};a.filter(d=>{let f;const m=Object.keys(d);for(let v=0;v<m.length;v+=1){const x=m[v],w=x.toLowerCase();e.indexOf(w)!==-1&&!(f==="rel"&&d[f].toLowerCase()==="canonical")&&!(w==="rel"&&d[w].toLowerCase()==="stylesheet")&&(f=w),e.indexOf(x)!==-1&&(x==="innerHTML"||x==="cssText"||x==="itemprop")&&(f=x)}if(!f||!d[f])return!1;const g=d[f].toLowerCase();return r[f]||(r[f]={}),o[f]||(o[f]={}),r[f][g]?!1:(o[f][g]=!0,!0)}).reverse().forEach(d=>i.push(d));const c=Object.keys(o);for(let d=0;d<c.length;d+=1){const f=c[d],m={...r[f],...o[f]};r[f]=m}return i},[]).reverse()},yH=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},xH=t=>({baseTag:gH(["href"],t),bodyAttributes:vw("bodyAttributes",t),defer:wd(t,bd.DEFER),encode:wd(t,bd.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:vw("htmlAttributes",t),linkTags:kh("link",["rel","href"],t),metaTags:kh("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:kh("noscript",["innerHTML"],t),onChangeClientState:pH(t),scriptTags:kh("script",["src","innerHTML"],t),styleTags:kh("style",["cssText"],t),title:mH(t),titleAttributes:vw("titleAttributes",t),prioritizeSeoTags:yH(t,bd.PRIORITIZE_SEO_TAGS)}),T6=t=>Array.isArray(t)?t.join(""):t,bH=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},yw=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(bH(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},a4=(t,e)=>({...t,[e]:void 0}),wH=["noscript","script","style"],I2=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),A6=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),_H=(t,e,n,r)=>{const i=A6(n),a=T6(e);return i?`<${t} ${Oa}="true" ${i}>${I2(a,r)}</${t}>`:`<${t} ${Oa}="true">${I2(a,r)}</${t}>`},EH=(t,e,n=!0)=>e.reduce((r,i)=>{const a=i,o=Object.keys(a).filter(f=>!(f==="innerHTML"||f==="cssText")).reduce((f,m)=>{const g=typeof a[m]>"u"?m:`${m}="${I2(a[m],n)}"`;return f?`${f} ${g}`:g},""),c=a.innerHTML||a.cssText||"",d=wH.indexOf(t)===-1;return`${r}<${t} ${Oa}="true" ${o}${d?"/>":`>${c}</${t}>`}`},""),N6=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=zS[r];return n[i||r]=t[r],n},e),SH=(t,e,n)=>{const r={key:e,[Oa]:!0},i=N6(n,r);return[Ct.createElement("title",i,e)]},L0=(t,e)=>e.map((n,r)=>{const i={key:r,[Oa]:!0};return Object.keys(n).forEach(a=>{const c=zS[a]||a;if(c==="innerHTML"||c==="cssText"){const d=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:d}}else i[c]=n[a]}),Ct.createElement(t,i)}),ta=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>SH(t,e.title,e.titleAttributes),toString:()=>_H(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>N6(e),toString:()=>A6(e)};default:return{toComponent:()=>L0(t,e),toString:()=>EH(t,e,n)}}},TH=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=yw(t,gw.meta),a=yw(e,gw.link),o=yw(n,gw.script);return{priorityMethods:{toComponent:()=>[...L0("meta",i.priority),...L0("link",a.priority),...L0("script",o.priority)],toString:()=>`${ta("meta",i.priority,r)} ${ta("link",a.priority,r)} ${ta("script",o.priority,r)}`},metaTags:i.default,linkTags:a.default,scriptTags:o.default}},AH=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:a,styleTags:o,title:c="",titleAttributes:d,prioritizeSeoTags:f}=t;let{linkTags:m,metaTags:g,scriptTags:v}=t,x={toComponent:()=>{},toString:()=>""};return f&&({priorityMethods:x,linkTags:m,metaTags:g,scriptTags:v}=TH(t)),{priority:x,base:ta("base",e,r),bodyAttributes:ta("bodyAttributes",n,r),htmlAttributes:ta("htmlAttributes",i,r),link:ta("link",m,r),meta:ta("meta",g,r),noscript:ta("noscript",a,r),script:ta("script",v,r),style:ta("style",o,r),title:ta("title",{title:c,titleAttributes:d},r)}},R2=AH,Jg=[],k6=!!(typeof window<"u"&&window.document&&window.document.createElement),P2=class{constructor(t,e){Sa(this,"instances",[]);Sa(this,"canUseDOM",k6);Sa(this,"context");Sa(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Jg:this.instances,add:t=>{(this.canUseDOM?Jg:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Jg:this.instances).indexOf(t);(this.canUseDOM?Jg:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=R2({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},NH={},j6=Ct.createContext(NH),Lc,FS=(Lc=class extends S.Component{constructor(n){super(n);Sa(this,"helmetData");this.helmetData=new P2(this.props.context||{},Lc.canUseDOM)}render(){return Ct.createElement(j6.Provider,{value:this.helmetData.value},this.props.children)}},Sa(Lc,"canUseDOM",k6),Lc),od=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${Oa}]`),i=[].slice.call(r),a=[];let o;return e&&e.length&&e.forEach(c=>{const d=document.createElement(t);for(const f in c)if(Object.prototype.hasOwnProperty.call(c,f))if(f==="innerHTML")d.innerHTML=c.innerHTML;else if(f==="cssText")d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{const m=f,g=typeof c[m]>"u"?"":c[m];d.setAttribute(f,g)}d.setAttribute(Oa,"true"),i.some((f,m)=>(o=m,d.isEqualNode(f)))?i.splice(o,1):a.push(d)}),i.forEach(c=>{var d;return(d=c.parentNode)==null?void 0:d.removeChild(c)}),a.forEach(c=>n.appendChild(c)),{oldTags:i,newTags:a}},D2=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(Oa),i=r?r.split(","):[],a=[...i],o=Object.keys(e);for(const c of o){const d=e[c]||"";n.getAttribute(c)!==d&&n.setAttribute(c,d),i.indexOf(c)===-1&&i.push(c);const f=a.indexOf(c);f!==-1&&a.splice(f,1)}for(let c=a.length-1;c>=0;c-=1)n.removeAttribute(a[c]);i.length===a.length?n.removeAttribute(Oa):n.getAttribute(Oa)!==o.join(",")&&n.setAttribute(Oa,o.join(","))},kH=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=T6(t)),D2("title",e)},s4=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:a,metaTags:o,noscriptTags:c,onChangeClientState:d,scriptTags:f,styleTags:m,title:g,titleAttributes:v}=t;D2("body",r),D2("html",i),kH(g,v);const x={baseTag:od("base",n),linkTags:od("link",a),metaTags:od("meta",o),noscriptTags:od("noscript",c),scriptTags:od("script",f),styleTags:od("style",m)},w={},T={};Object.keys(x).forEach(E=>{const{newTags:A,oldTags:k}=x[E];A.length&&(w[E]=A),k.length&&(T[E]=x[E].oldTags)}),e&&e(),d(t,w,T)},jh=null,jH=t=>{jh&&cancelAnimationFrame(jh),t.defer?jh=requestAnimationFrame(()=>{s4(t,()=>{jh=null})}):(s4(t),jh=null)},CH=jH,o4=class extends S.Component{constructor(){super(...arguments);Sa(this,"rendered",!1)}shouldComponentUpdate(e){return!fH(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=xH(e.get().map(a=>{const o={...a.props};return delete o.context,o}));FS.canUseDOM?CH(i):R2&&(r=R2(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},k2,Na=(k2=class extends S.Component{shouldComponentUpdate(t){return!oH(a4(this.props,"helmetData"),a4(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return n4(i4.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${i4.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),n4(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return Ct.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...a}=r.props,o=Object.keys(a).reduce((d,f)=>(d[hH[f]||f]=a[f],d),{});let{type:c}=r;switch(typeof c=="symbol"?c=c.toString():this.warnOnInvalidChildren(r,i),c){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,o,i);break;default:e=this.mapObjectTypeChildren(r,e,o,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof P2)){const i=r;r=new P2(i.context,!0),delete n.helmetData}return r?Ct.createElement(o4,{...n,context:r.value}):Ct.createElement(j6.Consumer,null,i=>Ct.createElement(o4,{...n,context:i}))}},Sa(k2,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),k2);const OH=()=>{};var l4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},IH=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],c=t[n++],d=((i&7)<<18|(a&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},O6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,c=o?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,m=a>>2,g=(a&3)<<4|c>>4;let v=(c&15)<<2|f>>6,x=f&63;d||(x=64,o||(v=64)),r.push(n[m],n[g],n[v],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(C6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||f==null||g==null)throw new RH;const v=a<<2|c>>4;if(r.push(v),f!==64){const x=c<<4&240|f>>2;if(r.push(x),g!==64){const w=f<<6&192|g;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PH=function(t){const e=C6(t);return O6.encodeByteArray(e,!0)},av=function(t){return PH(t).replace(/\./g,"")},I6=function(t){try{return O6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH=()=>DH().__FIREBASE_DEFAULTS__,LH=()=>{if(typeof process>"u"||typeof l4>"u")return;const t=l4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&I6(t[1]);return e&&JSON.parse(e)},Ky=()=>{try{return OH()||MH()||LH()||UH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},R6=t=>{var e,n;return(n=(e=Ky())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qS=t=>{const e=R6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},P6=()=>{var t;return(t=Ky())===null||t===void 0?void 0:t.config},D6=t=>{var e;return(e=Ky())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t){return t.endsWith(".cloudworkstations.dev")}async function Wy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[av(JSON.stringify(n)),av(JSON.stringify(o)),""].join(".")}const em={};function $H(){const t={prod:[],emulator:[]};for(const e of Object.keys(em))em[e]?t.emulator.push(e):t.prod.push(e);return t}function BH(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let c4=!1;function Yy(t,e){if(typeof window>"u"||typeof document>"u"||!Ll(window.location.host)||em[t]===e||em[t]||c4)return;em[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=$H().prod.length>0;function o(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,x){v.setAttribute("width","24"),v.setAttribute("id",x),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{c4=!0,o()},v}function m(v,x){v.setAttribute("id",x),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=BH(r),x=n("text"),w=document.getElementById(x)||document.createElement("span"),T=n("learnmore"),E=document.getElementById(T)||document.createElement("a"),A=n("preprendIcon"),k=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const j=v.element;c(j),m(E,T);const D=f();d(k,A),j.append(k,w,E,D),document.body.appendChild(j)}a?(w.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zH(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rr())}function FH(){var t;const e=(t=Ky())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GH(){const t=Rr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KH(){return!FH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U6(){try{return typeof indexedDB=="object"}catch{return!1}}function V6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function WH(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH="FirebaseError";class Ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YH,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?XH(a,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Ui(i,c,r)}}function XH(t,e){return t.replace(QH,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const QH=/\{\$([^}]+)}/g;function ZH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(u4(a)&&u4(o)){if(!Nl(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function u4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function JH(t,e){const n=new eG(t,e);return n.subscribe.bind(n)}class eG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tG(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=xw),i.error===void 0&&(i.error=xw),i.complete===void 0&&(i.complete=xw);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xw(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG=1e3,rG=2,iG=4*60*60*1e3,aG=.5;function d4(t,e=nG,n=rG){const r=e*Math.pow(n,t),i=Math.round(aG*r*(Math.random()-.5)*2);return Math.min(iG,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){return t&&t._delegate?t._delegate:t}class Pi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sG=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VH;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lG(e))try{this.getOrInitializeService({instanceIdentifier:Sc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Sc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sc){return this.instances.has(e)}getOptions(e=Sc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sc){return this.component?this.component.multipleInstances?e:Sc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function oG(t){return t===Sc?void 0:t}function lG(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ft||(ft={}));const uG={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},dG=ft.INFO,fG={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},hG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=fG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xy{constructor(e){this.name=e,this._logLevel=dG,this._logHandler=hG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const mG=(t,e)=>e.some(n=>t instanceof n);let f4,h4;function pG(){return f4||(f4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gG(){return h4||(h4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $6=new WeakMap,M2=new WeakMap,B6=new WeakMap,bw=new WeakMap,HS=new WeakMap;function vG(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(_l(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$6.set(n,t)}).catch(()=>{}),HS.set(e,t),e}function yG(t){if(M2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});M2.set(t,e)}let L2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return M2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||B6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _l(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xG(t){L2=t(L2)}function bG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ww(this),e,...n);return B6.set(r,e.sort?e.sort():[e]),_l(r)}:gG().includes(t)?function(...e){return t.apply(ww(this),e),_l($6.get(this))}:function(...e){return _l(t.apply(ww(this),e))}}function wG(t){return typeof t=="function"?bG(t):(t instanceof IDBTransaction&&yG(t),mG(t,pG())?new Proxy(t,L2):t)}function _l(t){if(t instanceof IDBRequest)return vG(t);if(bw.has(t))return bw.get(t);const e=wG(t);return e!==t&&(bw.set(t,e),HS.set(e,t)),e}const ww=t=>HS.get(t);function z6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),c=_l(o);return r&&o.addEventListener("upgradeneeded",d=>{r(_l(o.result),d.oldVersion,d.newVersion,_l(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const _G=["get","getKey","getAll","getAllKeys","count"],EG=["put","add","delete","clear"],_w=new Map;function m4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_w.get(e))return _w.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=EG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_G.includes(n)))return;const a=async function(o,...c){const d=this.transaction(o,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return _w.set(e,a),a}xG(t=>({...t,get:(e,n,r)=>m4(e,n)||t.get(e,n,r),has:(e,n)=>!!m4(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TG(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TG(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const U2="@firebase/app",p4="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new Xy("@firebase/app"),AG="@firebase/app-compat",NG="@firebase/analytics-compat",kG="@firebase/analytics",jG="@firebase/app-check-compat",CG="@firebase/app-check",OG="@firebase/auth",IG="@firebase/auth-compat",RG="@firebase/database",PG="@firebase/data-connect",DG="@firebase/database-compat",MG="@firebase/functions",LG="@firebase/functions-compat",UG="@firebase/installations",VG="@firebase/installations-compat",$G="@firebase/messaging",BG="@firebase/messaging-compat",zG="@firebase/performance",FG="@firebase/performance-compat",qG="@firebase/remote-config",HG="@firebase/remote-config-compat",GG="@firebase/storage",KG="@firebase/storage-compat",WG="@firebase/firestore",YG="@firebase/ai",XG="@firebase/firestore-compat",QG="firebase",ZG="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="[DEFAULT]",JG={[U2]:"fire-core",[AG]:"fire-core-compat",[kG]:"fire-analytics",[NG]:"fire-analytics-compat",[CG]:"fire-app-check",[jG]:"fire-app-check-compat",[OG]:"fire-auth",[IG]:"fire-auth-compat",[RG]:"fire-rtdb",[PG]:"fire-data-connect",[DG]:"fire-rtdb-compat",[MG]:"fire-fn",[LG]:"fire-fn-compat",[UG]:"fire-iid",[VG]:"fire-iid-compat",[$G]:"fire-fcm",[BG]:"fire-fcm-compat",[zG]:"fire-perf",[FG]:"fire-perf-compat",[qG]:"fire-rc",[HG]:"fire-rc-compat",[GG]:"fire-gcs",[KG]:"fire-gcs-compat",[WG]:"fire-fst",[XG]:"fire-fst-compat",[YG]:"fire-vertex","fire-js":"fire-js",[QG]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=new Map,eK=new Map,$2=new Map;function g4(t,e){try{t.container.addComponent(e)}catch(n){vo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function la(t){const e=t.name;if($2.has(e))return vo.debug(`There were multiple attempts to register component ${e}.`),!1;$2.set(e,t);for(const n of sv.values())g4(n,t);for(const n of eK.values())g4(n,t);return!0}function Co(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ni(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},El=new cu("app","Firebase",tK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw El.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=ZG;function F6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:V2,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw El.create("bad-app-name",{appName:String(i)});if(n||(n=P6()),!n)throw El.create("no-options");const a=sv.get(i);if(a){if(Nl(n,a.options)&&Nl(r,a.config))return a;throw El.create("duplicate-app",{appName:i})}const o=new cG(i);for(const d of $2.values())o.addComponent(d);const c=new nK(n,r,o);return sv.set(i,c),c}function Ym(t=V2){const e=sv.get(t);if(!e&&t===V2&&P6())return F6();if(!e)throw El.create("no-app",{appName:t});return e}function Cr(t,e,n){var r;let i=(r=JG[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vo.warn(c.join(" "));return}la(new Pi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK="firebase-heartbeat-database",iK=1,vm="firebase-heartbeat-store";let Ew=null;function q6(){return Ew||(Ew=z6(rK,iK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vm)}catch(n){console.warn(n)}}}}).catch(t=>{throw El.create("idb-open",{originalErrorMessage:t.message})})),Ew}async function aK(t){try{const n=(await q6()).transaction(vm),r=await n.objectStore(vm).get(H6(t));return await n.done,r}catch(e){if(e instanceof Ui)vo.warn(e.message);else{const n=El.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vo.warn(n.message)}}}async function v4(t,e){try{const r=(await q6()).transaction(vm,"readwrite");await r.objectStore(vm).put(e,H6(t)),await r.done}catch(n){if(n instanceof Ui)vo.warn(n.message);else{const r=El.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vo.warn(r.message)}}}function H6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sK=1024,oK=30;class lK{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uK(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=y4();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>oK){const o=dK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=y4(),{heartbeatsToSend:r,unsentEntries:i}=cK(this._heartbeatsCache.heartbeats),a=av(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return vo.warn(n),""}}}function y4(){return new Date().toISOString().substring(0,10)}function cK(t,e=sK){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),x4(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),x4(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U6()?V6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aK(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return v4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return v4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function x4(t){return av(JSON.stringify({version:2,heartbeats:t})).length}function dK(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fK(t){la(new Pi("platform-logger",e=>new SG(e),"PRIVATE")),la(new Pi("heartbeat",e=>new lK(e),"PRIVATE")),Cr(U2,p4,t),Cr(U2,p4,"esm2017"),Cr("fire-js","")}fK("");var hK="firebase",mK="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(hK,mK,"app");var b4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sl,G6;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,C){function M(){}M.prototype=C.prototype,P.D=C.prototype,P.prototype=new M,P.prototype.constructor=P,P.C=function(z,V,H){for(var q=Array(arguments.length-2),G=2;G<arguments.length;G++)q[G-2]=arguments[G];return C.prototype[V].apply(z,q)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,C,M){M||(M=0);var z=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)z[V]=C.charCodeAt(M++)|C.charCodeAt(M++)<<8|C.charCodeAt(M++)<<16|C.charCodeAt(M++)<<24;else for(V=0;16>V;++V)z[V]=C[M++]|C[M++]<<8|C[M++]<<16|C[M++]<<24;C=P.g[0],M=P.g[1],V=P.g[2];var H=P.g[3],q=C+(H^M&(V^H))+z[0]+3614090360&4294967295;C=M+(q<<7&4294967295|q>>>25),q=H+(V^C&(M^V))+z[1]+3905402710&4294967295,H=C+(q<<12&4294967295|q>>>20),q=V+(M^H&(C^M))+z[2]+606105819&4294967295,V=H+(q<<17&4294967295|q>>>15),q=M+(C^V&(H^C))+z[3]+3250441966&4294967295,M=V+(q<<22&4294967295|q>>>10),q=C+(H^M&(V^H))+z[4]+4118548399&4294967295,C=M+(q<<7&4294967295|q>>>25),q=H+(V^C&(M^V))+z[5]+1200080426&4294967295,H=C+(q<<12&4294967295|q>>>20),q=V+(M^H&(C^M))+z[6]+2821735955&4294967295,V=H+(q<<17&4294967295|q>>>15),q=M+(C^V&(H^C))+z[7]+4249261313&4294967295,M=V+(q<<22&4294967295|q>>>10),q=C+(H^M&(V^H))+z[8]+1770035416&4294967295,C=M+(q<<7&4294967295|q>>>25),q=H+(V^C&(M^V))+z[9]+2336552879&4294967295,H=C+(q<<12&4294967295|q>>>20),q=V+(M^H&(C^M))+z[10]+4294925233&4294967295,V=H+(q<<17&4294967295|q>>>15),q=M+(C^V&(H^C))+z[11]+2304563134&4294967295,M=V+(q<<22&4294967295|q>>>10),q=C+(H^M&(V^H))+z[12]+1804603682&4294967295,C=M+(q<<7&4294967295|q>>>25),q=H+(V^C&(M^V))+z[13]+4254626195&4294967295,H=C+(q<<12&4294967295|q>>>20),q=V+(M^H&(C^M))+z[14]+2792965006&4294967295,V=H+(q<<17&4294967295|q>>>15),q=M+(C^V&(H^C))+z[15]+1236535329&4294967295,M=V+(q<<22&4294967295|q>>>10),q=C+(V^H&(M^V))+z[1]+4129170786&4294967295,C=M+(q<<5&4294967295|q>>>27),q=H+(M^V&(C^M))+z[6]+3225465664&4294967295,H=C+(q<<9&4294967295|q>>>23),q=V+(C^M&(H^C))+z[11]+643717713&4294967295,V=H+(q<<14&4294967295|q>>>18),q=M+(H^C&(V^H))+z[0]+3921069994&4294967295,M=V+(q<<20&4294967295|q>>>12),q=C+(V^H&(M^V))+z[5]+3593408605&4294967295,C=M+(q<<5&4294967295|q>>>27),q=H+(M^V&(C^M))+z[10]+38016083&4294967295,H=C+(q<<9&4294967295|q>>>23),q=V+(C^M&(H^C))+z[15]+3634488961&4294967295,V=H+(q<<14&4294967295|q>>>18),q=M+(H^C&(V^H))+z[4]+3889429448&4294967295,M=V+(q<<20&4294967295|q>>>12),q=C+(V^H&(M^V))+z[9]+568446438&4294967295,C=M+(q<<5&4294967295|q>>>27),q=H+(M^V&(C^M))+z[14]+3275163606&4294967295,H=C+(q<<9&4294967295|q>>>23),q=V+(C^M&(H^C))+z[3]+4107603335&4294967295,V=H+(q<<14&4294967295|q>>>18),q=M+(H^C&(V^H))+z[8]+1163531501&4294967295,M=V+(q<<20&4294967295|q>>>12),q=C+(V^H&(M^V))+z[13]+2850285829&4294967295,C=M+(q<<5&4294967295|q>>>27),q=H+(M^V&(C^M))+z[2]+4243563512&4294967295,H=C+(q<<9&4294967295|q>>>23),q=V+(C^M&(H^C))+z[7]+1735328473&4294967295,V=H+(q<<14&4294967295|q>>>18),q=M+(H^C&(V^H))+z[12]+2368359562&4294967295,M=V+(q<<20&4294967295|q>>>12),q=C+(M^V^H)+z[5]+4294588738&4294967295,C=M+(q<<4&4294967295|q>>>28),q=H+(C^M^V)+z[8]+2272392833&4294967295,H=C+(q<<11&4294967295|q>>>21),q=V+(H^C^M)+z[11]+1839030562&4294967295,V=H+(q<<16&4294967295|q>>>16),q=M+(V^H^C)+z[14]+4259657740&4294967295,M=V+(q<<23&4294967295|q>>>9),q=C+(M^V^H)+z[1]+2763975236&4294967295,C=M+(q<<4&4294967295|q>>>28),q=H+(C^M^V)+z[4]+1272893353&4294967295,H=C+(q<<11&4294967295|q>>>21),q=V+(H^C^M)+z[7]+4139469664&4294967295,V=H+(q<<16&4294967295|q>>>16),q=M+(V^H^C)+z[10]+3200236656&4294967295,M=V+(q<<23&4294967295|q>>>9),q=C+(M^V^H)+z[13]+681279174&4294967295,C=M+(q<<4&4294967295|q>>>28),q=H+(C^M^V)+z[0]+3936430074&4294967295,H=C+(q<<11&4294967295|q>>>21),q=V+(H^C^M)+z[3]+3572445317&4294967295,V=H+(q<<16&4294967295|q>>>16),q=M+(V^H^C)+z[6]+76029189&4294967295,M=V+(q<<23&4294967295|q>>>9),q=C+(M^V^H)+z[9]+3654602809&4294967295,C=M+(q<<4&4294967295|q>>>28),q=H+(C^M^V)+z[12]+3873151461&4294967295,H=C+(q<<11&4294967295|q>>>21),q=V+(H^C^M)+z[15]+530742520&4294967295,V=H+(q<<16&4294967295|q>>>16),q=M+(V^H^C)+z[2]+3299628645&4294967295,M=V+(q<<23&4294967295|q>>>9),q=C+(V^(M|~H))+z[0]+4096336452&4294967295,C=M+(q<<6&4294967295|q>>>26),q=H+(M^(C|~V))+z[7]+1126891415&4294967295,H=C+(q<<10&4294967295|q>>>22),q=V+(C^(H|~M))+z[14]+2878612391&4294967295,V=H+(q<<15&4294967295|q>>>17),q=M+(H^(V|~C))+z[5]+4237533241&4294967295,M=V+(q<<21&4294967295|q>>>11),q=C+(V^(M|~H))+z[12]+1700485571&4294967295,C=M+(q<<6&4294967295|q>>>26),q=H+(M^(C|~V))+z[3]+2399980690&4294967295,H=C+(q<<10&4294967295|q>>>22),q=V+(C^(H|~M))+z[10]+4293915773&4294967295,V=H+(q<<15&4294967295|q>>>17),q=M+(H^(V|~C))+z[1]+2240044497&4294967295,M=V+(q<<21&4294967295|q>>>11),q=C+(V^(M|~H))+z[8]+1873313359&4294967295,C=M+(q<<6&4294967295|q>>>26),q=H+(M^(C|~V))+z[15]+4264355552&4294967295,H=C+(q<<10&4294967295|q>>>22),q=V+(C^(H|~M))+z[6]+2734768916&4294967295,V=H+(q<<15&4294967295|q>>>17),q=M+(H^(V|~C))+z[13]+1309151649&4294967295,M=V+(q<<21&4294967295|q>>>11),q=C+(V^(M|~H))+z[4]+4149444226&4294967295,C=M+(q<<6&4294967295|q>>>26),q=H+(M^(C|~V))+z[11]+3174756917&4294967295,H=C+(q<<10&4294967295|q>>>22),q=V+(C^(H|~M))+z[2]+718787259&4294967295,V=H+(q<<15&4294967295|q>>>17),q=M+(H^(V|~C))+z[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(V+(q<<21&4294967295|q>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+H&4294967295}r.prototype.u=function(P,C){C===void 0&&(C=P.length);for(var M=C-this.blockSize,z=this.B,V=this.h,H=0;H<C;){if(V==0)for(;H<=M;)i(this,P,H),H+=this.blockSize;if(typeof P=="string"){for(;H<C;)if(z[V++]=P.charCodeAt(H++),V==this.blockSize){i(this,z),V=0;break}}else for(;H<C;)if(z[V++]=P[H++],V==this.blockSize){i(this,z),V=0;break}}this.h=V,this.o+=C},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;var M=8*this.o;for(C=P.length-8;C<P.length;++C)P[C]=M&255,M/=256;for(this.u(P),P=Array(16),C=M=0;4>C;++C)for(var z=0;32>z;z+=8)P[M++]=this.g[C]>>>z&255;return P};function a(P,C){var M=c;return Object.prototype.hasOwnProperty.call(M,P)?M[P]:M[P]=C(P)}function o(P,C){this.h=C;for(var M=[],z=!0,V=P.length-1;0<=V;V--){var H=P[V]|0;z&&H==C||(M[V]=H,z=!1)}this.g=M}var c={};function d(P){return-128<=P&&128>P?a(P,function(C){return new o([C|0],0>C?-1:0)}):new o([P|0],0>P?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return g;if(0>P)return E(f(-P));for(var C=[],M=1,z=0;P>=M;z++)C[z]=P/M|0,M*=4294967296;return new o(C,0)}function m(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return E(m(P.substring(1),C));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=f(Math.pow(C,8)),z=g,V=0;V<P.length;V+=8){var H=Math.min(8,P.length-V),q=parseInt(P.substring(V,V+H),C);8>H?(H=f(Math.pow(C,H)),z=z.j(H).add(f(q))):(z=z.j(M),z=z.add(f(q)))}return z}var g=d(0),v=d(1),x=d(16777216);t=o.prototype,t.m=function(){if(T(this))return-E(this).m();for(var P=0,C=1,M=0;M<this.g.length;M++){var z=this.i(M);P+=(0<=z?z:4294967296+z)*C,C*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(w(this))return"0";if(T(this))return"-"+E(this).toString(P);for(var C=f(Math.pow(P,6)),M=this,z="";;){var V=D(M,C).g;M=A(M,V.j(C));var H=((0<M.g.length?M.g[0]:M.h)>>>0).toString(P);if(M=V,w(M))return H+z;for(;6>H.length;)H="0"+H;z=H+z}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function w(P){if(P.h!=0)return!1;for(var C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function T(P){return P.h==-1}t.l=function(P){return P=A(this,P),T(P)?-1:w(P)?0:1};function E(P){for(var C=P.g.length,M=[],z=0;z<C;z++)M[z]=~P.g[z];return new o(M,~P.h).add(v)}t.abs=function(){return T(this)?E(this):this},t.add=function(P){for(var C=Math.max(this.g.length,P.g.length),M=[],z=0,V=0;V<=C;V++){var H=z+(this.i(V)&65535)+(P.i(V)&65535),q=(H>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);z=q>>>16,H&=65535,q&=65535,M[V]=q<<16|H}return new o(M,M[M.length-1]&-2147483648?-1:0)};function A(P,C){return P.add(E(C))}t.j=function(P){if(w(this)||w(P))return g;if(T(this))return T(P)?E(this).j(E(P)):E(E(this).j(P));if(T(P))return E(this.j(E(P)));if(0>this.l(x)&&0>P.l(x))return f(this.m()*P.m());for(var C=this.g.length+P.g.length,M=[],z=0;z<2*C;z++)M[z]=0;for(z=0;z<this.g.length;z++)for(var V=0;V<P.g.length;V++){var H=this.i(z)>>>16,q=this.i(z)&65535,G=P.i(V)>>>16,W=P.i(V)&65535;M[2*z+2*V]+=q*W,k(M,2*z+2*V),M[2*z+2*V+1]+=H*W,k(M,2*z+2*V+1),M[2*z+2*V+1]+=q*G,k(M,2*z+2*V+1),M[2*z+2*V+2]+=H*G,k(M,2*z+2*V+2)}for(z=0;z<C;z++)M[z]=M[2*z+1]<<16|M[2*z];for(z=C;z<2*C;z++)M[z]=0;return new o(M,0)};function k(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function j(P,C){this.g=P,this.h=C}function D(P,C){if(w(C))throw Error("division by zero");if(w(P))return new j(g,g);if(T(P))return C=D(E(P),C),new j(E(C.g),E(C.h));if(T(C))return C=D(P,E(C)),new j(E(C.g),C.h);if(30<P.g.length){if(T(P)||T(C))throw Error("slowDivide_ only works with positive integers.");for(var M=v,z=C;0>=z.l(P);)M=O(M),z=O(z);var V=L(M,1),H=L(z,1);for(z=L(z,2),M=L(M,2);!w(z);){var q=H.add(z);0>=q.l(P)&&(V=V.add(M),H=q),z=L(z,1),M=L(M,1)}return C=A(P,V.j(C)),new j(V,C)}for(V=g;0<=P.l(C);){for(M=Math.max(1,Math.floor(P.m()/C.m())),z=Math.ceil(Math.log(M)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),H=f(M),q=H.j(C);T(q)||0<q.l(P);)M-=z,H=f(M),q=H.j(C);w(H)&&(H=v),V=V.add(H),P=A(P,q)}return new j(V,P)}t.A=function(P){return D(this,P).h},t.and=function(P){for(var C=Math.max(this.g.length,P.g.length),M=[],z=0;z<C;z++)M[z]=this.i(z)&P.i(z);return new o(M,this.h&P.h)},t.or=function(P){for(var C=Math.max(this.g.length,P.g.length),M=[],z=0;z<C;z++)M[z]=this.i(z)|P.i(z);return new o(M,this.h|P.h)},t.xor=function(P){for(var C=Math.max(this.g.length,P.g.length),M=[],z=0;z<C;z++)M[z]=this.i(z)^P.i(z);return new o(M,this.h^P.h)};function O(P){for(var C=P.g.length+1,M=[],z=0;z<C;z++)M[z]=P.i(z)<<1|P.i(z-1)>>>31;return new o(M,P.h)}function L(P,C){var M=C>>5;C%=32;for(var z=P.g.length-M,V=[],H=0;H<z;H++)V[H]=0<C?P.i(H+M)>>>C|P.i(H+M+1)<<32-C:P.i(H+M);return new o(V,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,G6=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=m,Sl=o}).apply(typeof b4<"u"?b4:typeof self<"u"?self:typeof window<"u"?window:{});var e0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K6,Bh,W6,U0,B2,Y6,X6,Q6;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,N,I){return y==Array.prototype||y==Object.prototype||(y[N]=I.value),y};function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof e0=="object"&&e0];for(var N=0;N<y.length;++N){var I=y[N];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(y,N){if(N)e:{var I=r;y=y.split(".");for(var F=0;F<y.length-1;F++){var ne=y[F];if(!(ne in I))break e;I=I[ne]}y=y[y.length-1],F=I[y],N=N(F),N!=F&&N!=null&&e(I,y,{configurable:!0,writable:!0,value:N})}}function a(y,N){y instanceof String&&(y+="");var I=0,F=!1,ne={next:function(){if(!F&&I<y.length){var de=I++;return{value:N(de,y[de]),done:!1}}return F=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}i("Array.prototype.values",function(y){return y||function(){return a(this,function(N,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function d(y){var N=typeof y;return N=N!="object"?N:y?Array.isArray(y)?"array":N:"null",N=="array"||N=="object"&&typeof y.length=="number"}function f(y){var N=typeof y;return N=="object"&&y!=null||N=="function"}function m(y,N,I){return y.call.apply(y.bind,arguments)}function g(y,N,I){if(!y)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,F),y.apply(N,ne)}}return function(){return y.apply(N,arguments)}}function v(y,N,I){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,v.apply(null,arguments)}function x(y,N){var I=Array.prototype.slice.call(arguments,1);return function(){var F=I.slice();return F.push.apply(F,arguments),y.apply(this,F)}}function w(y,N){function I(){}I.prototype=N.prototype,y.aa=N.prototype,y.prototype=new I,y.prototype.constructor=y,y.Qb=function(F,ne,de){for(var Te=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)Te[vt-2]=arguments[vt];return N.prototype[ne].apply(F,Te)}}function T(y){const N=y.length;if(0<N){const I=Array(N);for(let F=0;F<N;F++)I[F]=y[F];return I}return[]}function E(y,N){for(let I=1;I<arguments.length;I++){const F=arguments[I];if(d(F)){const ne=y.length||0,de=F.length||0;y.length=ne+de;for(let Te=0;Te<de;Te++)y[ne+Te]=F[Te]}else y.push(F)}}class A{constructor(N,I){this.i=N,this.j=I,this.h=0,this.g=null}get(){let N;return 0<this.h?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function k(y){return/^[\s\xa0]*$/.test(y)}function j(){var y=c.navigator;return y&&(y=y.userAgent)?y:""}function D(y){return D[" "](y),y}D[" "]=function(){};var O=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function L(y,N,I){for(const F in y)N.call(I,y[F],F,y)}function P(y,N){for(const I in y)N.call(void 0,y[I],I,y)}function C(y){const N={};for(const I in y)N[I]=y[I];return N}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(y,N){let I,F;for(let ne=1;ne<arguments.length;ne++){F=arguments[ne];for(I in F)y[I]=F[I];for(let de=0;de<M.length;de++)I=M[de],Object.prototype.hasOwnProperty.call(F,I)&&(y[I]=F[I])}}function V(y){var N=1;y=y.split(":");const I=[];for(;0<N&&y.length;)I.push(y.shift()),N--;return y.length&&I.push(y.join(":")),I}function H(y){c.setTimeout(()=>{throw y},0)}function q(){var y=Q;let N=null;return y.g&&(N=y.g,y.g=y.g.next,y.g||(y.h=null),N.next=null),N}class G{constructor(){this.h=this.g=null}add(N,I){const F=W.get();F.set(N,I),this.h?this.h.next=F:this.g=F,this.h=F}}var W=new A(()=>new U,y=>y.reset());class U{constructor(){this.next=this.g=this.h=null}set(N,I){this.h=N,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let K,ee=!1,Q=new G,$=()=>{const y=c.Promise.resolve(void 0);K=()=>{y.then(X)}};var X=()=>{for(var y;y=q();){try{y.h.call(y.g)}catch(I){H(I)}var N=W;N.j(y),100>N.h&&(N.h++,y.next=N.g,N.g=y)}ee=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(y,N){this.type=y,this.g=this.target=N,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var y=!1,N=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const I=()=>{};c.addEventListener("test",I,N),c.removeEventListener("test",I,N)}catch{}return y}();function be(y,N){if(ce.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var I=this.type=y.type,F=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=N,N=y.relatedTarget){if(O){e:{try{D(N.nodeName);var ne=!0;break e}catch{}ne=!1}ne||(N=null)}}else I=="mouseover"?N=y.fromElement:I=="mouseout"&&(N=y.toElement);this.relatedTarget=N,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:Ne[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&be.aa.h.call(this)}}w(be,ce);var Ne={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function pe(y,N,I,F,ne){this.listener=y,this.proxy=null,this.src=N,this.type=I,this.capture=!!F,this.ha=ne,this.key=++Ie,this.da=this.fa=!1}function Ee(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function re(y){this.src=y,this.g={},this.h=0}re.prototype.add=function(y,N,I,F,ne){var de=y.toString();y=this.g[de],y||(y=this.g[de]=[],this.h++);var Te=_e(y,N,F,ne);return-1<Te?(N=y[Te],I||(N.fa=!1)):(N=new pe(N,this.src,de,!!F,ne),N.fa=I,y.push(N)),N};function se(y,N){var I=N.type;if(I in y.g){var F=y.g[I],ne=Array.prototype.indexOf.call(F,N,void 0),de;(de=0<=ne)&&Array.prototype.splice.call(F,ne,1),de&&(Ee(N),y.g[I].length==0&&(delete y.g[I],y.h--))}}function _e(y,N,I,F){for(var ne=0;ne<y.length;++ne){var de=y[ne];if(!de.da&&de.listener==N&&de.capture==!!I&&de.ha==F)return ne}return-1}var He="closure_lm_"+(1e6*Math.random()|0),Gt={};function _t(y,N,I,F,ne){if(Array.isArray(N)){for(var de=0;de<N.length;de++)_t(y,N[de],I,F,ne);return null}return I=Se(I),y&&y[Fe]?y.K(N,I,f(F)?!!F.capture:!1,ne):Ut(y,N,I,!1,F,ne)}function Ut(y,N,I,F,ne,de){if(!N)throw Error("Invalid event type");var Te=f(ne)?!!ne.capture:!!ne,vt=va(y);if(vt||(y[He]=vt=new re(y)),I=vt.add(N,I,F,Te,de),I.proxy)return I;if(F=Xr(),I.proxy=F,F.src=y,F.listener=I,y.addEventListener)xe||(ne=Te),ne===void 0&&(ne=!1),y.addEventListener(N.toString(),F,ne);else if(y.attachEvent)y.attachEvent($i(N.toString()),F);else if(y.addListener&&y.removeListener)y.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Xr(){function y(I){return N.call(y.src,y.listener,I)}const N=Uo;return y}function qa(y,N,I,F,ne){if(Array.isArray(N))for(var de=0;de<N.length;de++)qa(y,N[de],I,F,ne);else F=f(F)?!!F.capture:!!F,I=Se(I),y&&y[Fe]?(y=y.i,N=String(N).toString(),N in y.g&&(de=y.g[N],I=_e(de,I,F,ne),-1<I&&(Ee(de[I]),Array.prototype.splice.call(de,I,1),de.length==0&&(delete y.g[N],y.h--)))):y&&(y=va(y))&&(N=y.g[N.toString()],y=-1,N&&(y=_e(N,I,F,ne)),(I=-1<y?N[y]:null)&&ga(I))}function ga(y){if(typeof y!="number"&&y&&!y.da){var N=y.src;if(N&&N[Fe])se(N.i,y);else{var I=y.type,F=y.proxy;N.removeEventListener?N.removeEventListener(I,F,y.capture):N.detachEvent?N.detachEvent($i(I),F):N.addListener&&N.removeListener&&N.removeListener(F),(I=va(N))?(se(I,y),I.h==0&&(I.src=null,N[He]=null)):Ee(y)}}}function $i(y){return y in Gt?Gt[y]:Gt[y]="on"+y}function Uo(y,N){if(y.da)y=!0;else{N=new be(N,this);var I=y.listener,F=y.ha||y.src;y.fa&&ga(y),y=I.call(F,N)}return y}function va(y){return y=y[He],y instanceof re?y:null}var ya="__closure_events_fn_"+(1e9*Math.random()>>>0);function Se(y){return typeof y=="function"?y:(y[ya]||(y[ya]=function(N){return y.handleEvent(N)}),y[ya])}function Be(){J.call(this),this.i=new re(this),this.M=this,this.F=null}w(Be,J),Be.prototype[Fe]=!0,Be.prototype.removeEventListener=function(y,N,I,F){qa(this,y,N,I,F)};function Xe(y,N){var I,F=y.F;if(F)for(I=[];F;F=F.F)I.push(F);if(y=y.M,F=N.type||N,typeof N=="string")N=new ce(N,y);else if(N instanceof ce)N.target=N.target||y;else{var ne=N;N=new ce(F,y),z(N,ne)}if(ne=!0,I)for(var de=I.length-1;0<=de;de--){var Te=N.g=I[de];ne=Vt(Te,F,!0,N)&&ne}if(Te=N.g=y,ne=Vt(Te,F,!0,N)&&ne,ne=Vt(Te,F,!1,N)&&ne,I)for(de=0;de<I.length;de++)Te=N.g=I[de],ne=Vt(Te,F,!1,N)&&ne}Be.prototype.N=function(){if(Be.aa.N.call(this),this.i){var y=this.i,N;for(N in y.g){for(var I=y.g[N],F=0;F<I.length;F++)Ee(I[F]);delete y.g[N],y.h--}}this.F=null},Be.prototype.K=function(y,N,I,F){return this.i.add(String(y),N,!1,I,F)},Be.prototype.L=function(y,N,I,F){return this.i.add(String(y),N,!0,I,F)};function Vt(y,N,I,F){if(N=y.i.g[String(N)],!N)return!0;N=N.concat();for(var ne=!0,de=0;de<N.length;++de){var Te=N[de];if(Te&&!Te.da&&Te.capture==I){var vt=Te.listener,Pn=Te.ha||Te.src;Te.fa&&se(y.i,Te),ne=vt.call(Pn,F)!==!1&&ne}}return ne&&!F.defaultPrevented}function Et(y,N,I){if(typeof y=="function")I&&(y=v(y,I));else if(y&&typeof y.handleEvent=="function")y=v(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(N)?-1:c.setTimeout(y,N||0)}function br(y){y.g=Et(()=>{y.g=null,y.i&&(y.i=!1,br(y))},y.l);const N=y.h;y.h=null,y.m.apply(null,N)}class Qr extends J{constructor(N,I){super(),this.m=N,this.l=I,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:br(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(y){J.call(this),this.h=y,this.g={}}w(or,J);var xn=[];function Kn(y){L(y.g,function(N,I){this.g.hasOwnProperty(I)&&ga(N)},y),y.g={}}or.prototype.N=function(){or.aa.N.call(this),Kn(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var It=c.JSON.stringify,Zr=c.JSON.parse,ks=class{stringify(y){return c.JSON.stringify(y,void 0)}parse(y){return c.JSON.parse(y,void 0)}};function ql(){}ql.prototype.h=null;function Hl(y){return y.h||(y.h=y.i())}function fe(){}var we={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function je(){ce.call(this,"d")}w(je,ce);function it(){ce.call(this,"c")}w(it,ce);var ke={},Ze=null;function Pe(){return Ze=Ze||new Be}ke.La="serverreachability";function mt(y){ce.call(this,ke.La,y)}w(mt,ce);function Le(y){const N=Pe();Xe(N,new mt(N))}ke.STAT_EVENT="statevent";function Wn(y,N){ce.call(this,ke.STAT_EVENT,y),this.stat=N}w(Wn,ce);function Kt(y){const N=Pe();Xe(N,new Wn(N,y))}ke.Ma="timingevent";function gt(y,N){ce.call(this,ke.Ma,y),this.size=N}w(gt,ce);function wt(y,N){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){y()},N)}function wr(){this.g=!0}wr.prototype.xa=function(){this.g=!1};function js(y,N,I,F,ne,de){y.info(function(){if(y.g)if(de)for(var Te="",vt=de.split("&"),Pn=0;Pn<vt.length;Pn++){var yt=vt[Pn].split("=");if(1<yt.length){var Xn=yt[0];yt=yt[1];var Dn=Xn.split("_");Te=2<=Dn.length&&Dn[1]=="type"?Te+(Xn+"="+yt+"&"):Te+(Xn+"=redacted&")}}else Te=null;else Te=de;return"XMLHTTP REQ ("+F+") [attempt "+ne+"]: "+N+`
`+I+`
`+Te})}function lb(y,N,I,F,ne,de,Te){y.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+ne+"]: "+N+`
`+I+`
`+de+" "+Te})}function Vo(y,N,I,F){y.info(function(){return"XMLHTTP TEXT ("+N+"): "+Gl(y,I)+(F?" "+F:"")})}function Ip(y,N){y.info(function(){return"TIMEOUT: "+N})}wr.prototype.info=function(){};function Gl(y,N){if(!y.g)return N;if(!N)return null;try{var I=JSON.parse(N);if(I){for(y=0;y<I.length;y++)if(Array.isArray(I[y])){var F=I[y];if(!(2>F.length)){var ne=F[1];if(Array.isArray(ne)&&!(1>ne.length)){var de=ne[0];if(de!="noop"&&de!="stop"&&de!="close")for(var Te=1;Te<ne.length;Te++)ne[Te]=""}}}}return It(I)}catch{return N}}var $o={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ha;function Ga(){}w(Ga,ql),Ga.prototype.g=function(){return new XMLHttpRequest},Ga.prototype.i=function(){return{}},Ha=new Ga;function Pr(y,N,I,F){this.j=y,this.i=N,this.l=I,this.R=F||1,this.U=new or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bn}function bn(){this.i=null,this.g="",this.h=!1}var Tf={},xu={};function xa(y,N,I){y.L=1,y.v=Ql(mi(N)),y.m=I,y.P=!0,Os(y,null)}function Os(y,N){y.F=Date.now(),Kl(y),y.A=mi(y.v);var I=y.A,F=y.R;Array.isArray(F)||(F=[String(F)]),Of(I.i,"t",F),y.C=0,I=y.j.J,y.h=new bn,y.g=Wp(y.j,I?N:null,!y.m),0<y.O&&(y.M=new Qr(v(y.Y,y,y.g),y.O)),N=y.U,I=y.g,F=y.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(xn[0]=ne.toString()),ne=xn);for(var de=0;de<ne.length;de++){var Te=_t(I,ne[de],F||N.handleEvent,!1,N.h||N);if(!Te)break;N.g[Te.key]=Te}N=y.H?C(y.H):{},y.m?(y.u||(y.u="POST"),N["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,N)):(y.u="GET",y.g.ea(y.A,y.u,null,N)),Le(),js(y.i,y.u,y.A,y.l,y.R,y.m)}Pr.prototype.ca=function(y){y=y.target;const N=this.M;N&&qi(y)==3?N.j():this.Y(y)},Pr.prototype.Y=function(y){try{if(y==this.g)e:{const Dn=qi(this.g);var N=this.g.Ba();const Vs=this.g.Z();if(!(3>Dn)&&(Dn!=3||this.g&&(this.h.h||this.g.oa()||$p(this.g)))){this.J||Dn!=4||N==7||(N==8||0>=Vs?Le(3):Le(2)),Bo(this);var I=this.g.Z();this.X=I;t:if(Rp(this)){var F=$p(this.g);y="";var ne=F.length,de=qi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lr(this),Ka(this);var Te="";break t}this.h.i=new c.TextDecoder}for(N=0;N<ne;N++)this.h.h=!0,y+=this.h.i.decode(F[N],{stream:!(de&&N==ne-1)});F.length=0,this.h.g+=y,this.C=0,Te=this.h.g}else Te=this.g.oa();if(this.o=I==200,lb(this.i,this.u,this.A,this.l,this.R,Dn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var vt,Pn=this.g;if((vt=Pn.g?Pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(vt)){var yt=vt;break t}}yt=null}if(I=yt)Vo(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wl(this,I);else{this.o=!1,this.s=3,Kt(12),lr(this),Ka(this);break e}}if(this.P){I=!0;let cr;for(;!this.J&&this.C<Te.length;)if(cr=Pp(this,Te),cr==xu){Dn==4&&(this.s=4,Kt(14),I=!1),Vo(this.i,this.l,null,"[Incomplete Response]");break}else if(cr==Tf){this.s=4,Kt(15),Vo(this.i,this.l,Te,"[Invalid Chunk]"),I=!1;break}else Vo(this.i,this.l,cr,null),Wl(this,cr);if(Rp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dn!=4||Te.length!=0||this.h.h||(this.s=1,Kt(16),I=!1),this.o=this.o&&I,!I)Vo(this.i,this.l,Te,"[Invalid Chunked Response]"),lr(this),Ka(this);else if(0<Te.length&&!this.W){this.W=!0;var Xn=this.j;Xn.g==this&&Xn.ba&&!Xn.M&&(Xn.j.info("Great, no buffering proxy detected. Bytes received: "+Te.length),ac(Xn),Xn.M=!0,Kt(11))}}else Vo(this.i,this.l,Te,null),Wl(this,Te);Dn==4&&lr(this),this.o&&!this.J&&(Dn==4?Hp(this.j,this):(this.o=!1,Kl(this)))}else hb(this.g),I==400&&0<Te.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),lr(this),Ka(this)}}}catch{}finally{}};function Rp(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function Pp(y,N){var I=y.C,F=N.indexOf(`
`,I);return F==-1?xu:(I=Number(N.substring(I,F)),isNaN(I)?Tf:(F+=1,F+I>N.length?xu:(N=N.slice(F,F+I),y.C=F+I,N)))}Pr.prototype.cancel=function(){this.J=!0,lr(this)};function Kl(y){y.S=Date.now()+y.I,Dp(y,y.I)}function Dp(y,N){if(y.B!=null)throw Error("WatchDog timer not null");y.B=wt(v(y.ba,y),N)}function Bo(y){y.B&&(c.clearTimeout(y.B),y.B=null)}Pr.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(Ip(this.i,this.A),this.L!=2&&(Le(),Kt(17)),lr(this),this.s=2,Ka(this)):Dp(this,this.S-y)};function Ka(y){y.j.G==0||y.J||Hp(y.j,y)}function lr(y){Bo(y);var N=y.M;N&&typeof N.ma=="function"&&N.ma(),y.M=null,Kn(y.U),y.g&&(N=y.g,y.g=null,N.abort(),N.ma())}function Wl(y,N){try{var I=y.j;if(I.G!=0&&(I.g==y||Af(I.h,y))){if(!y.K&&Af(I.h,y)&&I.G==3){try{var F=I.Da.g.parse(N)}catch{F=null}if(Array.isArray(F)&&F.length==3){var ne=F;if(ne[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<y.F)Ou(I),ju(I);else break e;Mf(I),Kt(18)}}else I.za=ne[1],0<I.za-I.T&&37500>ne[2]&&I.F&&I.v==0&&!I.C&&(I.C=wt(v(I.Za,I),6e3));if(1>=wu(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Us(I,11)}else if((y.K||I.g==y)&&Ou(I),!k(N))for(ne=I.Da.g.parse(N),N=0;N<ne.length;N++){let yt=ne[N];if(I.T=yt[0],yt=yt[1],I.G==2)if(yt[0]=="c"){I.K=yt[1],I.ia=yt[2];const Xn=yt[3];Xn!=null&&(I.la=Xn,I.j.info("VER="+I.la));const Dn=yt[4];Dn!=null&&(I.Aa=Dn,I.j.info("SVER="+I.Aa));const Vs=yt[5];Vs!=null&&typeof Vs=="number"&&0<Vs&&(F=1.5*Vs,I.L=F,I.j.info("backChannelRequestTimeoutMs_="+F)),F=I;const cr=y.g;if(cr){const es=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(es){var de=F.h;de.g||es.indexOf("spdy")==-1&&es.indexOf("quic")==-1&&es.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(_u(de,de.h),de.h=null))}if(F.D){const Uf=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;Uf&&(F.ya=Uf,$t(F.I,F.D,Uf))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-y.F,I.j.info("Handshake RTT: "+I.R+"ms")),F=I;var Te=y;if(F.qa=Kp(F,F.J?F.ia:null,F.W),Te.K){Dr(F.h,Te);var vt=Te,Pn=F.L;Pn&&(vt.I=Pn),vt.B&&(Bo(vt),Kl(vt)),F.g=Te}else Fp(F);0<I.i.length&&Cu(I)}else yt[0]!="stop"&&yt[0]!="close"||Us(I,7);else I.G==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?Us(I,7):Pf(I):yt[0]!="noop"&&I.l&&I.l.ta(yt),I.v=0)}}Le(4)}catch{}}var Mp=class{constructor(y,N){this.g=y,this.map=N}};function Is(y){this.l=y||10,c.PerformanceNavigationTiming?(y=c.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bu(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function wu(y){return y.h?1:y.g?y.g.size:0}function Af(y,N){return y.h?y.h==N:y.g?y.g.has(N):!1}function _u(y,N){y.g?y.g.add(N):y.h=N}function Dr(y,N){y.h&&y.h==N?y.h=null:y.g&&y.g.has(N)&&y.g.delete(N)}Is.prototype.cancel=function(){if(this.i=Nf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Nf(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let N=y.i;for(const I of y.g.values())N=N.concat(I.D);return N}return T(y.i)}function cb(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(d(y)){for(var N=[],I=y.length,F=0;F<I;F++)N.push(y[F]);return N}N=[],I=0;for(F in y)N[I++]=y[F];return N}function Eu(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(d(y)||typeof y=="string"){var N=[];y=y.length;for(var I=0;I<y;I++)N.push(I);return N}N=[],I=0;for(const F in y)N[I++]=F;return N}}}function kf(y,N){if(y.forEach&&typeof y.forEach=="function")y.forEach(N,void 0);else if(d(y)||typeof y=="string")Array.prototype.forEach.call(y,N,void 0);else for(var I=Eu(y),F=cb(y),ne=F.length,de=0;de<ne;de++)N.call(void 0,F[de],I&&I[de],y)}var Yl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ub(y,N){if(y){y=y.split("&");for(var I=0;I<y.length;I++){var F=y[I].indexOf("="),ne=null;if(0<=F){var de=y[I].substring(0,F);ne=y[I].substring(F+1)}else de=y[I];N(de,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Nn(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof Nn){this.h=y.h,Xl(this,y.j),this.o=y.o,this.g=y.g,zo(this,y.s),this.l=y.l;var N=y.i,I=new Ps;I.i=N.i,N.g&&(I.g=new Map(N.g),I.h=N.h),Rs(this,I),this.m=y.m}else y&&(N=String(y).match(Yl))?(this.h=!1,Xl(this,N[1]||"",!0),this.o=Bi(N[2]||""),this.g=Bi(N[3]||"",!0),zo(this,N[4]),this.l=Bi(N[5]||"",!0),Rs(this,N[6]||"",!0),this.m=Bi(N[7]||"")):(this.h=!1,this.i=new Ps(null,this.h))}Nn.prototype.toString=function(){var y=[],N=this.j;N&&y.push(Zl(N,jf,!0),":");var I=this.g;return(I||N=="file")&&(y.push("//"),(N=this.o)&&y.push(Zl(N,jf,!0),"@"),y.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&y.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&y.push("/"),y.push(Zl(I,I.charAt(0)=="/"?db:Cf,!0))),(I=this.i.toString())&&y.push("?",I),(I=this.m)&&y.push("#",Zl(I,Su)),y.join("")};function mi(y){return new Nn(y)}function Xl(y,N,I){y.j=I?Bi(N,!0):N,y.j&&(y.j=y.j.replace(/:$/,""))}function zo(y,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);y.s=N}else y.s=null}function Rs(y,N,I){N instanceof Ps?(y.i=N,Up(y.i,y.h)):(I||(N=Zl(N,fb)),y.i=new Ps(N,y.h))}function $t(y,N,I){y.i.set(N,I)}function Ql(y){return $t(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function Bi(y,N){return y?N?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Zl(y,N,I){return typeof y=="string"?(y=encodeURI(y).replace(N,Lp),I&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Lp(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var jf=/[#\/\?@]/g,Cf=/[#\?:]/g,db=/[#\?]/g,fb=/[#\?@]/g,Su=/#/g;function Ps(y,N){this.h=this.g=null,this.i=y||null,this.j=!!N}function zi(y){y.g||(y.g=new Map,y.h=0,y.i&&ub(y.i,function(N,I){y.add(decodeURIComponent(N.replace(/\+/g," ")),I)}))}t=Ps.prototype,t.add=function(y,N){zi(this),this.i=null,y=Wa(this,y);var I=this.g.get(y);return I||this.g.set(y,I=[]),I.push(N),this.h+=1,this};function Ds(y,N){zi(y),N=Wa(y,N),y.g.has(N)&&(y.i=null,y.h-=y.g.get(N).length,y.g.delete(N))}function Ms(y,N){return zi(y),N=Wa(y,N),y.g.has(N)}t.forEach=function(y,N){zi(this),this.g.forEach(function(I,F){I.forEach(function(ne){y.call(N,ne,F,this)},this)},this)},t.na=function(){zi(this);const y=Array.from(this.g.values()),N=Array.from(this.g.keys()),I=[];for(let F=0;F<N.length;F++){const ne=y[F];for(let de=0;de<ne.length;de++)I.push(N[F])}return I},t.V=function(y){zi(this);let N=[];if(typeof y=="string")Ms(this,y)&&(N=N.concat(this.g.get(Wa(this,y))));else{y=Array.from(this.g.values());for(let I=0;I<y.length;I++)N=N.concat(y[I])}return N},t.set=function(y,N){return zi(this),this.i=null,y=Wa(this,y),Ms(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[N]),this.h+=1,this},t.get=function(y,N){return y?(y=this.V(y),0<y.length?String(y[0]):N):N};function Of(y,N,I){Ds(y,N),0<I.length&&(y.i=null,y.g.set(Wa(y,N),T(I)),y.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],N=Array.from(this.g.keys());for(var I=0;I<N.length;I++){var F=N[I];const de=encodeURIComponent(String(F)),Te=this.V(F);for(F=0;F<Te.length;F++){var ne=de;Te[F]!==""&&(ne+="="+encodeURIComponent(String(Te[F]))),y.push(ne)}}return this.i=y.join("&")};function Wa(y,N){return N=String(N),y.j&&(N=N.toLowerCase()),N}function Up(y,N){N&&!y.j&&(zi(y),y.i=null,y.g.forEach(function(I,F){var ne=F.toLowerCase();F!=ne&&(Ds(this,F),Of(this,ne,I))},y)),y.j=N}function Jl(y,N){const I=new wr;if(c.Image){const F=new Image;F.onload=x(Fi,I,"TestLoadImage: loaded",!0,N,F),F.onerror=x(Fi,I,"TestLoadImage: error",!1,N,F),F.onabort=x(Fi,I,"TestLoadImage: abort",!1,N,F),F.ontimeout=x(Fi,I,"TestLoadImage: timeout",!1,N,F),c.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=y}else N(!1)}function ba(y,N){const I=new wr,F=new AbortController,ne=setTimeout(()=>{F.abort(),Fi(I,"TestPingServer: timeout",!1,N)},1e4);fetch(y,{signal:F.signal}).then(de=>{clearTimeout(ne),de.ok?Fi(I,"TestPingServer: ok",!0,N):Fi(I,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(ne),Fi(I,"TestPingServer: error",!1,N)})}function Fi(y,N,I,F,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),F(I)}catch{}}function ec(){this.g=new ks}function Ya(y,N,I){const F=I||"";try{kf(y,function(ne,de){let Te=ne;f(ne)&&(Te=It(ne)),N.push(F+de+"="+encodeURIComponent(Te))})}catch(ne){throw N.push(F+"type="+encodeURIComponent("_badmap")),ne}}function Fo(y){this.l=y.Ub||null,this.j=y.eb||!1}w(Fo,ql),Fo.prototype.g=function(){return new Ls(this.l,this.j)},Fo.prototype.i=function(y){return function(){return y}}({});function Ls(y,N){Be.call(this),this.D=y,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Ls,Be),t=Ls.prototype,t.open=function(y,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=N,this.readyState=1,Qa(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const N={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(N.body=y),(this.D||c).fetch(new Request(this.A,N)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xa(this)),this.readyState=0},t.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Qa(this)),this.g&&(this.readyState=3,Qa(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;If(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function If(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}t.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var N=y.value?y.value:new Uint8Array(0);(N=this.v.decode(N,{stream:!y.done}))&&(this.response=this.responseText+=N)}y.done?Xa(this):Qa(this),this.readyState==3&&If(this)}},t.Ra=function(y){this.g&&(this.response=this.responseText=y,Xa(this))},t.Qa=function(y){this.g&&(this.response=y,Xa(this))},t.ga=function(){this.g&&Xa(this)};function Xa(y){y.readyState=4,y.l=null,y.j=null,y.v=null,Qa(y)}t.setRequestHeader=function(y,N){this.u.append(y,N)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],N=this.h.entries();for(var I=N.next();!I.done;)I=I.value,y.push(I[0]+": "+I[1]),I=N.next();return y.join(`\r
`)};function Qa(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Rf(y){let N="";return L(y,function(I,F){N+=F,N+=":",N+=I,N+=`\r
`}),N}function Yn(y,N,I){e:{for(F in I){var F=!1;break e}F=!0}F||(I=Rf(I),typeof y=="string"?I!=null&&encodeURIComponent(String(I)):$t(y,N,I))}function kt(y){Be.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(kt,Be);var Tu=/^https?$/i,tc=["POST","PUT"];t=kt.prototype,t.Ha=function(y){this.J=y},t.ea=function(y,N,I,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);N=N?N.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ha.g(),this.v=this.o?Hl(this.o):Hl(Ha),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(N,String(y),!0),this.B=!1}catch(de){Vp(this,de);return}if(y=I||"",I=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var ne in F)I.set(ne,F[ne]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const de of F.keys())I.set(de,F.get(de));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(I.keys()).find(de=>de.toLowerCase()=="content-type"),ne=c.FormData&&y instanceof c.FormData,!(0<=Array.prototype.indexOf.call(tc,N,void 0))||F||ne||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Te]of I)this.g.setRequestHeader(de,Te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nc(this),this.u=!0,this.g.send(y),this.u=!1}catch(de){Vp(this,de)}};function Vp(y,N){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=N,y.m=5,Au(y),Za(y)}function Au(y){y.A||(y.A=!0,Xe(y,"complete"),Xe(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,Xe(this,"complete"),Xe(this,"abort"),Za(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Za(this,!0)),kt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Nu(this):this.bb())},t.bb=function(){Nu(this)};function Nu(y){if(y.h&&typeof o<"u"&&(!y.v[1]||qi(y)!=4||y.Z()!=2)){if(y.u&&qi(y)==4)Et(y.Ea,0,y);else if(Xe(y,"readystatechange"),qi(y)==4){y.h=!1;try{const Te=y.Z();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var I;if(!(I=N)){var F;if(F=Te===0){var ne=String(y.D).match(Yl)[1]||null;!ne&&c.self&&c.self.location&&(ne=c.self.location.protocol.slice(0,-1)),F=!Tu.test(ne?ne.toLowerCase():"")}I=F}if(I)Xe(y,"complete"),Xe(y,"success");else{y.m=6;try{var de=2<qi(y)?y.g.statusText:""}catch{de=""}y.l=de+" ["+y.Z()+"]",Au(y)}}finally{Za(y)}}}}function Za(y,N){if(y.g){nc(y);const I=y.g,F=y.v[0]?()=>{}:null;y.g=null,y.v=null,N||Xe(y,"ready");try{I.onreadystatechange=F}catch{}}}function nc(y){y.I&&(c.clearTimeout(y.I),y.I=null)}t.isActive=function(){return!!this.g};function qi(y){return y.g?y.g.readyState:0}t.Z=function(){try{return 2<qi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(y){if(this.g){var N=this.g.responseText;return y&&N.indexOf(y)==0&&(N=N.substring(y.length)),Zr(N)}};function $p(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function hb(y){const N={};y=(y.g&&2<=qi(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<y.length;F++){if(k(y[F]))continue;var I=V(y[F]);const ne=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const de=N[ne]||[];N[ne]=de,de.push(I)}P(N,function(F){return F.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rc(y,N,I){return I&&I.internalChannelParams&&I.internalChannelParams[y]||N}function ku(y){this.Aa=0,this.i=[],this.j=new wr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rc("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rc("baseRetryDelayMs",5e3,y),this.cb=rc("retryDelaySeedMs",1e4,y),this.Wa=rc("forwardChannelMaxRetries",2,y),this.wa=rc("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new Is(y&&y.concurrentRequestLimit),this.Da=new ec,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ku.prototype,t.la=8,t.G=1,t.connect=function(y,N,I,F){Kt(0),this.W=y,this.H=N||{},I&&F!==void 0&&(this.H.OSID=I,this.H.OAID=F),this.F=this.X,this.I=Kp(this,null,this.W),Cu(this)};function Pf(y){if(Bp(y),y.G==3){var N=y.U++,I=mi(y.I);if($t(I,"SID",y.K),$t(I,"RID",N),$t(I,"TYPE","terminate"),ic(y,I),N=new Pr(y,y.j,N),N.L=2,N.v=Ql(mi(I)),I=!1,c.navigator&&c.navigator.sendBeacon)try{I=c.navigator.sendBeacon(N.v.toString(),"")}catch{}!I&&c.Image&&(new Image().src=N.v,I=!0),I||(N.g=Wp(N.j,null),N.g.ea(N.v)),N.F=Date.now(),Kl(N)}Gp(y)}function ju(y){y.g&&(ac(y),y.g.cancel(),y.g=null)}function Bp(y){ju(y),y.u&&(c.clearTimeout(y.u),y.u=null),Ou(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&c.clearTimeout(y.s),y.s=null)}function Cu(y){if(!bu(y.h)&&!y.s){y.s=!0;var N=y.Ga;K||$(),ee||(K(),ee=!0),Q.add(N,y),y.B=0}}function mb(y,N){return wu(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=N.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=wt(v(y.Ga,y,N),Lf(y,y.B)),y.B++,!0)}t.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const ne=new Pr(this,this.j,y);let de=this.o;if(this.S&&(de?(de=C(de),z(de,this.S)):de=this.S),this.m!==null||this.O||(ne.H=de,de=null),this.P)e:{for(var N=0,I=0;I<this.i.length;I++){t:{var F=this.i[I];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(N+=F,4096<N){N=I;break e}if(N===4096||I===this.i.length-1){N=I+1;break e}}N=1e3}else N=1e3;N=zp(this,ne,N),I=mi(this.I),$t(I,"RID",y),$t(I,"CVER",22),this.D&&$t(I,"X-HTTP-Session-Id",this.D),ic(this,I),de&&(this.O?N="headers="+encodeURIComponent(String(Rf(de)))+"&"+N:this.m&&Yn(I,this.m,de)),_u(this.h,ne),this.Ua&&$t(I,"TYPE","init"),this.P?($t(I,"$req",N),$t(I,"SID","null"),ne.T=!0,xa(ne,I,null)):xa(ne,I,N),this.G=2}}else this.G==3&&(y?Df(this,y):this.i.length==0||bu(this.h)||Df(this))};function Df(y,N){var I;N?I=N.l:I=y.U++;const F=mi(y.I);$t(F,"SID",y.K),$t(F,"RID",I),$t(F,"AID",y.T),ic(y,F),y.m&&y.o&&Yn(F,y.m,y.o),I=new Pr(y,y.j,I,y.B+1),y.m===null&&(I.H=y.o),N&&(y.i=N.D.concat(y.i)),N=zp(y,I,1e3),I.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),_u(y.h,I),xa(I,F,N)}function ic(y,N){y.H&&L(y.H,function(I,F){$t(N,F,I)}),y.l&&kf({},function(I,F){$t(N,F,I)})}function zp(y,N,I){I=Math.min(y.i.length,I);var F=y.l?v(y.l.Na,y.l,y):null;e:{var ne=y.i;let de=-1;for(;;){const Te=["count="+I];de==-1?0<I?(de=ne[0].g,Te.push("ofs="+de)):de=0:Te.push("ofs="+de);let vt=!0;for(let Pn=0;Pn<I;Pn++){let yt=ne[Pn].g;const Xn=ne[Pn].map;if(yt-=de,0>yt)de=Math.max(0,ne[Pn].g-100),vt=!1;else try{Ya(Xn,Te,"req"+yt+"_")}catch{F&&F(Xn)}}if(vt){F=Te.join("&");break e}}}return y=y.i.splice(0,I),N.D=y,F}function Fp(y){if(!y.g&&!y.u){y.Y=1;var N=y.Fa;K||$(),ee||(K(),ee=!0),Q.add(N,y),y.v=0}}function Mf(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=wt(v(y.Fa,y),Lf(y,y.v)),y.v++,!0)}t.Fa=function(){if(this.u=null,qp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=wt(v(this.ab,this),y)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),ju(this),qp(this))};function ac(y){y.A!=null&&(c.clearTimeout(y.A),y.A=null)}function qp(y){y.g=new Pr(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var N=mi(y.qa);$t(N,"RID","rpc"),$t(N,"SID",y.K),$t(N,"AID",y.T),$t(N,"CI",y.F?"0":"1"),!y.F&&y.ja&&$t(N,"TO",y.ja),$t(N,"TYPE","xmlhttp"),ic(y,N),y.m&&y.o&&Yn(N,y.m,y.o),y.L&&(y.g.I=y.L);var I=y.g;y=y.ia,I.L=1,I.v=Ql(mi(N)),I.m=null,I.P=!0,Os(I,y)}t.Za=function(){this.C!=null&&(this.C=null,ju(this),Mf(this),Kt(19))};function Ou(y){y.C!=null&&(c.clearTimeout(y.C),y.C=null)}function Hp(y,N){var I=null;if(y.g==N){Ou(y),ac(y),y.g=null;var F=2}else if(Af(y.h,N))I=N.D,Dr(y.h,N),F=1;else return;if(y.G!=0){if(N.o)if(F==1){I=N.m?N.m.length:0,N=Date.now()-N.F;var ne=y.B;F=Pe(),Xe(F,new gt(F,I)),Cu(y)}else Fp(y);else if(ne=N.s,ne==3||ne==0&&0<N.X||!(F==1&&mb(y,N)||F==2&&Mf(y)))switch(I&&0<I.length&&(N=y.h,N.i=N.i.concat(I)),ne){case 1:Us(y,5);break;case 4:Us(y,10);break;case 3:Us(y,6);break;default:Us(y,2)}}}function Lf(y,N){let I=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(I*=2),I*N}function Us(y,N){if(y.j.info("Error code "+N),N==2){var I=v(y.fb,y),F=y.Xa;const ne=!F;F=new Nn(F||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Xl(F,"https"),Ql(F),ne?Jl(F.toString(),I):ba(F.toString(),I)}else Kt(2);y.G=0,y.l&&y.l.sa(N),Gp(y),Bp(y)}t.fb=function(y){y?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Gp(y){if(y.G=0,y.ka=[],y.l){const N=Nf(y.h);(N.length!=0||y.i.length!=0)&&(E(y.ka,N),E(y.ka,y.i),y.h.i.length=0,T(y.i),y.i.length=0),y.l.ra()}}function Kp(y,N,I){var F=I instanceof Nn?mi(I):new Nn(I);if(F.g!="")N&&(F.g=N+"."+F.g),zo(F,F.s);else{var ne=c.location;F=ne.protocol,N=N?N+"."+ne.hostname:ne.hostname,ne=+ne.port;var de=new Nn(null);F&&Xl(de,F),N&&(de.g=N),ne&&zo(de,ne),I&&(de.l=I),F=de}return I=y.D,N=y.ya,I&&N&&$t(F,I,N),$t(F,"VER",y.la),ic(y,F),F}function Wp(y,N,I){if(N&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return N=y.Ca&&!y.pa?new kt(new Fo({eb:I})):new kt(y.pa),N.Ha(y.J),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yp(){}t=Yp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Iu(){}Iu.prototype.g=function(y,N){return new Mr(y,N)};function Mr(y,N){Be.call(this),this.g=new ku(N),this.l=y,this.h=N&&N.messageUrlParams||null,y=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(y?y["X-WebChannel-Content-Type"]=N.messageContentType:y={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.va&&(y?y["X-WebChannel-Client-Profile"]=N.va:y={"X-WebChannel-Client-Profile":N.va}),this.g.S=y,(y=N&&N.Sb)&&!k(y)&&(this.g.m=y),this.v=N&&N.supportsCrossDomainXhr||!1,this.u=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!k(N)&&(this.g.D=N,y=this.h,y!==null&&N in y&&(y=this.h,N in y&&delete y[N])),this.j=new Ja(this)}w(Mr,Be),Mr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mr.prototype.close=function(){Pf(this.g)},Mr.prototype.o=function(y){var N=this.g;if(typeof y=="string"){var I={};I.__data__=y,y=I}else this.u&&(I={},I.__data__=It(y),y=I);N.i.push(new Mp(N.Ya++,y)),N.G==3&&Cu(N)},Mr.prototype.N=function(){this.g.l=null,delete this.j,Pf(this.g),delete this.g,Mr.aa.N.call(this)};function Xp(y){je.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var N=y.__sm__;if(N){e:{for(const I in N){y=I;break e}y=void 0}(this.i=y)&&(y=this.i,N=N!==null&&y in N?N[y]:void 0),this.data=N}else this.data=y}w(Xp,je);function Qp(){it.call(this),this.status=1}w(Qp,it);function Ja(y){this.g=y}w(Ja,Yp),Ja.prototype.ua=function(){Xe(this.g,"a")},Ja.prototype.ta=function(y){Xe(this.g,new Xp(y))},Ja.prototype.sa=function(y){Xe(this.g,new Qp)},Ja.prototype.ra=function(){Xe(this.g,"b")},Iu.prototype.createWebChannel=Iu.prototype.g,Mr.prototype.send=Mr.prototype.o,Mr.prototype.open=Mr.prototype.m,Mr.prototype.close=Mr.prototype.close,Q6=function(){return new Iu},X6=function(){return Pe()},Y6=ke,B2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$o.NO_ERROR=0,$o.TIMEOUT=8,$o.HTTP_ERROR=6,U0=$o,Cs.COMPLETE="complete",W6=Cs,fe.EventType=we,we.OPEN="a",we.CLOSE="b",we.ERROR="c",we.MESSAGE="d",Be.prototype.listen=Be.prototype.K,Bh=fe,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,K6=kt}).apply(typeof e0<"u"?e0:typeof self<"u"?self:typeof window<"u"?window:{});const w4="@firebase/firestore",_4="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nr.UNAUTHENTICATED=new Nr(null),Nr.GOOGLE_CREDENTIALS=new Nr("google-credentials-uid"),Nr.FIRST_PARTY=new Nr("first-party-uid"),Nr.MOCK_USER=new Nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Xy("@firebase/firestore");function dd(){return Gc.logLevel}function Ce(t,...e){if(Gc.logLevel<=ft.DEBUG){const n=e.map(GS);Gc.debug(`Firestore (${of}): ${t}`,...n)}}function yo(t,...e){if(Gc.logLevel<=ft.ERROR){const n=e.map(GS);Gc.error(`Firestore (${of}): ${t}`,...n)}}function Cd(t,...e){if(Gc.logLevel<=ft.WARN){const n=e.map(GS);Gc.warn(`Firestore (${of}): ${t}`,...n)}}function GS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Z6(t,r,n)}function Z6(t,e,n){let r=`FIRESTORE (${of}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw yo(r),new Error(r)}function Ot(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Z6(e,i,r)}function rt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nr.UNAUTHENTICATED))}shutdown(){}}class gK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vK{constructor(e){this.t=e,this.currentUser=Nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ot(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new fo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new fo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new fo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ot(typeof r.accessToken=="string",31837,{l:r}),new J6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ot(e===null||typeof e=="string",2055,{h:e}),new Nr(e)}}class yK{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Nr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xK{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new yK(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bK{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ot(this.o===void 0,3512);const r=a=>{a.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new E4(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new E4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=wK(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function lt(t,e){return t<e?-1:t>e?1:0}function z2(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return lt(r,i);{const a=e9(),o=_K(a.encode(S4(t,n)),a.encode(S4(e,n)));return o!==0?o:lt(r,i)}}n+=r>65535?2:1}return lt(t.length,e.length)}function S4(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function _K(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return lt(t[n],e[n]);return lt(t.length,e.length)}function Od(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=-62135596800,A4=1e6;class $n{static now(){return $n.fromMillis(Date.now())}static fromDate(e){return $n.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*A4);return new $n(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Oe(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<T4)throw new Oe(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/A4}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-T4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new $n(0,0))}static max(){return new tt(new $n(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="__name__";class ss{constructor(e,n,r){n===void 0?n=0:n>e.length&&Qe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Qe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ss.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ss?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ss.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return lt(e.length,n.length)}static compareSegments(e,n){const r=ss.isNumericId(e),i=ss.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ss.extractNumericId(e).compare(ss.extractNumericId(n)):z2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sl.fromString(e.substring(4,e.length-2))}}class en extends ss{construct(e,n,r){return new en(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new en(n)}static emptyPath(){return new en([])}}const EK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends ss{construct(e,n,r){return new yr(e,n,r)}static isValidIdentifier(e){return EK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N4}static keyField(){return new yr([N4])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Oe(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Oe(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Oe(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(a(),i++)}if(a(),o)throw new Oe(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(n)}static emptyPath(){return new yr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(en.fromString(e))}static fromName(e){return new qe(en.fromString(e).popFirst(5))}static empty(){return new qe(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&en.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return en.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new en(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=-1;function SK(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(r===1e9?new $n(n+1,0):new $n(n,r));return new kl(i,qe.empty(),e)}function TK(t){return new kl(t.readTime,t.key,ym)}class kl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kl(tt.min(),qe.empty(),ym)}static max(){return new kl(tt.max(),qe.empty(),ym)}}function AK(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:lt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lf(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==NK)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.reject(n)}static resolve(e){return new ye((n,r)=>{n(e)})}static reject(e){return new ye((n,r)=>{r(e)})}static waitFor(e){return new ye((n,r)=>{let i=0,a=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++a,o&&a===i&&n()},d=>r(d))}),o=!0,a===i&&n()})}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next(i=>i?ye.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new ye((r,i)=>{const a=e.length,o=new Array(a);let c=0;for(let d=0;d<a;d++){const f=d;n(e[f]).next(m=>{o[f]=m,++c,c===a&&r(o)},m=>i(m))}})}static doWhile(e,n){return new ye((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function jK(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Qy.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=-1;function Zy(t){return t==null}function ov(t){return t===0&&1/t==-1/0}function CK(t){return typeof t=="number"&&Number.isInteger(t)&&!ov(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9="";function OK(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=k4(e)),e=IK(t.get(n),e);return k4(e)}function IK(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case n9:n+="";break;default:n+=a}}return n}function k4(t){return t+n9+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ul(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function r9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){this.comparator=e,this.root=n||mr.EMPTY}insert(e,n){return new fn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new t0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new t0(this.root,e,this.comparator,!1)}getReverseIterator(){return new t0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new t0(this.root,e,this.comparator,!0)}}class t0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??mr.RED,this.left=i??mr.EMPTY,this.right=a??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new mr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qe(27949);return e+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1;mr.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe(57766)}get value(){throw Qe(16141)}get color(){throw Qe(16727)}get left(){throw Qe(29726)}get right(){throw Qe(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.comparator=e,this.data=new fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new C4(this.data.getIterator())}getIteratorFrom(e){return new C4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bn(this.comparator);return n.data=e,n}}class C4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new ji([])}unionWith(e){let n=new Bn(yr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ji(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Od(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new i9("Invalid base64 string: "+a):a}}(e);return new xr(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new xr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xr.EMPTY_BYTE_STRING=new xr("");const RK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jl(t){if(Ot(!!t,39018),typeof t=="string"){let e=0;const n=RK.exec(t);if(Ot(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Sn(t.seconds),nanos:Sn(t.nanos)}}function Sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cl(t){return typeof t=="string"?xr.fromBase64String(t):xr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9="server_timestamp",s9="__type__",o9="__previous_value__",l9="__local_write_time__";function WS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[s9])===null||n===void 0?void 0:n.stringValue)===a9}function Jy(t){const e=t.mapValue.fields[o9];return WS(e)?Jy(e):e}function xm(t){const e=jl(t.mapValue.fields[l9].timestampValue);return new $n(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{constructor(e,n,r,i,a,o,c,d,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=m}}const lv="(default)";class bm{constructor(e,n){this.projectId=e,this.database=n||lv}static empty(){return new bm("","")}get isDefaultDatabase(){return this.database===lv}isEqual(e){return e instanceof bm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9="__type__",DK="__max__",n0={mapValue:{}},u9="__vector__",cv="value";function Ol(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?WS(t)?4:LK(t)?9007199254740991:MK(t)?10:11:Qe(28295,{value:t})}function ys(t,e){if(t===e)return!0;const n=Ol(t);if(n!==Ol(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xm(t).isEqual(xm(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=jl(i.timestampValue),c=jl(a.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Cl(i.bytesValue).isEqual(Cl(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Sn(i.geoPointValue.latitude)===Sn(a.geoPointValue.latitude)&&Sn(i.geoPointValue.longitude)===Sn(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Sn(i.integerValue)===Sn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Sn(i.doubleValue),c=Sn(a.doubleValue);return o===c?ov(o)===ov(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Od(t.arrayValue.values||[],e.arrayValue.values||[],ys);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},c=a.mapValue.fields||{};if(j4(o)!==j4(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(c[d]===void 0||!ys(o[d],c[d])))return!1;return!0}(t,e);default:return Qe(52216,{left:t})}}function wm(t,e){return(t.values||[]).find(n=>ys(n,e))!==void 0}function Id(t,e){if(t===e)return 0;const n=Ol(t),r=Ol(e);if(n!==r)return lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(t.booleanValue,e.booleanValue);case 2:return function(a,o){const c=Sn(a.integerValue||a.doubleValue),d=Sn(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return O4(t.timestampValue,e.timestampValue);case 4:return O4(xm(t),xm(e));case 5:return z2(t.stringValue,e.stringValue);case 6:return function(a,o){const c=Cl(a),d=Cl(o);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const c=a.split("/"),d=o.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=lt(c[f],d[f]);if(m!==0)return m}return lt(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const c=lt(Sn(a.latitude),Sn(o.latitude));return c!==0?c:lt(Sn(a.longitude),Sn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return I4(t.arrayValue,e.arrayValue);case 10:return function(a,o){var c,d,f,m;const g=a.fields||{},v=o.fields||{},x=(c=g[cv])===null||c===void 0?void 0:c.arrayValue,w=(d=v[cv])===null||d===void 0?void 0:d.arrayValue,T=lt(((f=x==null?void 0:x.values)===null||f===void 0?void 0:f.length)||0,((m=w==null?void 0:w.values)===null||m===void 0?void 0:m.length)||0);return T!==0?T:I4(x,w)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===n0.mapValue&&o===n0.mapValue)return 0;if(a===n0.mapValue)return 1;if(o===n0.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),f=o.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const v=z2(d[g],m[g]);if(v!==0)return v;const x=Id(c[d[g]],f[m[g]]);if(x!==0)return x}return lt(d.length,m.length)}(t.mapValue,e.mapValue);default:throw Qe(23264,{Pe:n})}}function O4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lt(t,e);const n=jl(t),r=jl(e),i=lt(n.seconds,r.seconds);return i!==0?i:lt(n.nanos,r.nanos)}function I4(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Id(n[i],r[i]);if(a)return a}return lt(n.length,r.length)}function Rd(t){return F2(t)}function F2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=jl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Cl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return qe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=F2(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${F2(n.fields[o])}`;return i+"}"}(t.mapValue):Qe(61005,{value:t})}function V0(t){switch(Ol(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jy(t);return e?16+V0(e):16;case 5:return 2*t.stringValue.length;case 6:return Cl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+V0(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ul(r.fields,(a,o)=>{i+=a.length+V0(o)}),i}(t.mapValue);default:throw Qe(13486,{value:t})}}function R4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function q2(t){return!!t&&"integerValue"in t}function YS(t){return!!t&&"arrayValue"in t}function P4(t){return!!t&&"nullValue"in t}function D4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $0(t){return!!t&&"mapValue"in t}function MK(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[c9])===null||n===void 0?void 0:n.stringValue)===u9}function tm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ul(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tm(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tm(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LK(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===DK}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.value=e}static empty(){return new si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tm(n)}setAll(e){let n=yr.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=tm(o):i.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());$0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ys(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ul(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new si(tm(this.value))}}function d9(t){const e=[];return Ul(t.fields,(n,r)=>{const i=new yr([n]);if($0(r)){const a=d9(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new ji(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n,r,i,a,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=c}static newInvalidDocument(e){return new kr(e,0,tt.min(),tt.min(),tt.min(),si.empty(),0)}static newFoundDocument(e,n,r,i){return new kr(e,1,n,tt.min(),r,i,0)}static newNoDocument(e,n){return new kr(e,2,n,tt.min(),tt.min(),si.empty(),0)}static newUnknownDocument(e,n){return new kr(e,3,n,tt.min(),tt.min(),si.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n){this.position=e,this.inclusive=n}}function M4(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=qe.comparator(qe.fromName(o.referenceValue),n.key):r=Id(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function L4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ys(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n="asc"){this.field=e,this.dir=n}}function UK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{}class On extends f9{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $K(e,n,r):n==="array-contains"?new FK(e,r):n==="in"?new qK(e,r):n==="not-in"?new HK(e,r):n==="array-contains-any"?new GK(e,r):new On(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BK(e,r):new zK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Id(n,this.value)):n!==null&&Ol(this.value)===Ol(n)&&this.matchesComparison(Id(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ua extends f9{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ua(e,n)}matches(e){return h9(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function h9(t){return t.op==="and"}function m9(t){return VK(t)&&h9(t)}function VK(t){for(const e of t.filters)if(e instanceof Ua)return!1;return!0}function H2(t){if(t instanceof On)return t.field.canonicalString()+t.op.toString()+Rd(t.value);if(m9(t))return t.filters.map(e=>H2(e)).join(",");{const e=t.filters.map(n=>H2(n)).join(",");return`${t.op}(${e})`}}function p9(t,e){return t instanceof On?function(r,i){return i instanceof On&&r.op===i.op&&r.field.isEqual(i.field)&&ys(r.value,i.value)}(t,e):t instanceof Ua?function(r,i){return i instanceof Ua&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,c)=>a&&p9(o,i.filters[c]),!0):!1}(t,e):void Qe(19439)}function g9(t){return t instanceof On?function(n){return`${n.field.canonicalString()} ${n.op} ${Rd(n.value)}`}(t):t instanceof Ua?function(n){return n.op.toString()+" {"+n.getFilters().map(g9).join(" ,")+"}"}(t):"Filter"}class $K extends On{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class BK extends On{constructor(e,n){super(e,"in",n),this.keys=v9("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zK extends On{constructor(e,n){super(e,"not-in",n),this.keys=v9("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function v9(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>qe.fromName(r.referenceValue))}class FK extends On{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return YS(n)&&wm(n.arrayValue,this.value)}}class qK extends On{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wm(this.value.arrayValue,n)}}class HK extends On{constructor(e,n){super(e,"not-in",n)}matches(e){if(wm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wm(this.value.arrayValue,n)}}class GK extends On{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!YS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wm(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KK{constructor(e,n=null,r=[],i=[],a=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=c,this.Ie=null}}function U4(t,e=null,n=[],r=[],i=null,a=null,o=null){return new KK(t,e,n,r,i,a,o)}function XS(t){const e=rt(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>H2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Zy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Rd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Rd(r)).join(",")),e.Ie=n}return e.Ie}function QS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!p9(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!L4(t.startAt,e.startAt)&&L4(t.endAt,e.endAt)}function G2(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n=null,r=[],i=[],a=null,o="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=c,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function WK(t,e,n,r,i,a,o,c){return new uf(t,e,n,r,i,a,o,c)}function ex(t){return new uf(t)}function V4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function y9(t){return t.collectionGroup!==null}function nm(t){const e=rt(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Bn(yr.comparator);return o.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new _m(a,r))}),n.has(yr.keyField().canonicalString())||e.Ee.push(new _m(yr.keyField(),r))}return e.Ee}function fs(t){const e=rt(t);return e.de||(e.de=YK(e,nm(t))),e.de}function YK(t,e){if(t.limitType==="F")return U4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new _m(i.field,a)});const n=t.endAt?new uv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uv(t.startAt.position,t.startAt.inclusive):null;return U4(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function K2(t,e){const n=t.filters.concat([e]);return new uf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dv(t,e,n){return new uf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tx(t,e){return QS(fs(t),fs(e))&&t.limitType===e.limitType}function x9(t){return`${XS(fs(t))}|lt:${t.limitType}`}function fd(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>g9(i)).join(", ")}]`),Zy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Rd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Rd(i)).join(",")),`Target(${r})`}(fs(t))}; limitType=${t.limitType})`}function nx(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):qe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of nm(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,d){const f=M4(o,c,d);return o.inclusive?f<=0:f<0}(r.startAt,nm(r),i)||r.endAt&&!function(o,c,d){const f=M4(o,c,d);return o.inclusive?f>=0:f>0}(r.endAt,nm(r),i))}(t,e)}function XK(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function b9(t){return(e,n)=>{let r=!1;for(const i of nm(t)){const a=QK(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function QK(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):function(a,o,c){const d=o.data.field(a),f=c.data.field(a);return d!==null&&f!==null?Id(d,f):Qe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ul(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return r9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZK=new fn(qe.comparator);function xo(){return ZK}const w9=new fn(qe.comparator);function zh(...t){let e=w9;for(const n of t)e=e.insert(n.key,n);return e}function _9(t){let e=w9;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Cc(){return rm()}function E9(){return rm()}function rm(){return new du(t=>t.toString(),(t,e)=>t.isEqual(e))}const JK=new fn(qe.comparator),eW=new Bn(qe.comparator);function ht(...t){let e=eW;for(const n of t)e=e.add(n);return e}const tW=new Bn(lt);function nW(){return tW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ov(e)?"-0":e}}function S9(t){return{integerValue:""+t}}function rW(t,e){return CK(e)?S9(e):ZS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this._=void 0}}function iW(t,e,n){return t instanceof Em?function(i,a){const o={fields:{[s9]:{stringValue:a9},[l9]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&WS(a)&&(a=Jy(a)),a&&(o.fields[o9]=a),{mapValue:o}}(n,e):t instanceof Sm?A9(t,e):t instanceof Tm?N9(t,e):function(i,a){const o=T9(i,a),c=$4(o)+$4(i.Re);return q2(o)&&q2(i.Re)?S9(c):ZS(i.serializer,c)}(t,e)}function aW(t,e,n){return t instanceof Sm?A9(t,e):t instanceof Tm?N9(t,e):n}function T9(t,e){return t instanceof fv?function(r){return q2(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Em extends rx{}class Sm extends rx{constructor(e){super(),this.elements=e}}function A9(t,e){const n=k9(e);for(const r of t.elements)n.some(i=>ys(i,r))||n.push(r);return{arrayValue:{values:n}}}class Tm extends rx{constructor(e){super(),this.elements=e}}function N9(t,e){let n=k9(e);for(const r of t.elements)n=n.filter(i=>!ys(i,r));return{arrayValue:{values:n}}}class fv extends rx{constructor(e,n){super(),this.serializer=e,this.Re=n}}function $4(t){return Sn(t.integerValue||t.doubleValue)}function k9(t){return YS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e,n){this.field=e,this.transform=n}}function oW(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Sm&&i instanceof Sm||r instanceof Tm&&i instanceof Tm?Od(r.elements,i.elements,ys):r instanceof fv&&i instanceof fv?ys(r.Re,i.Re):r instanceof Em&&i instanceof Em}(t.transform,e.transform)}class lW{constructor(e,n){this.version=e,this.transformResults=n}}class Da{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Da}static exists(e){return new Da(void 0,e)}static updateTime(e){return new Da(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function B0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ix{}function j9(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new JS(t.key,Da.none()):new Xm(t.key,t.data,Da.none());{const n=t.data,r=si.empty();let i=new Bn(yr.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new Vl(t.key,r,new ji(i.toArray()),Da.none())}}function cW(t,e,n){t instanceof Xm?function(i,a,o){const c=i.value.clone(),d=z4(i.fieldTransforms,a,o.transformResults);c.setAll(d),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Vl?function(i,a,o){if(!B0(i.precondition,a))return void a.convertToUnknownDocument(o.version);const c=z4(i.fieldTransforms,a,o.transformResults),d=a.data;d.setAll(C9(i)),d.setAll(c),a.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function im(t,e,n,r){return t instanceof Xm?function(a,o,c,d){if(!B0(a.precondition,o))return c;const f=a.value.clone(),m=F4(a.fieldTransforms,d,o);return f.setAll(m),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vl?function(a,o,c,d){if(!B0(a.precondition,o))return c;const f=F4(a.fieldTransforms,d,o),m=o.data;return m.setAll(C9(a)),m.setAll(f),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(a,o,c){return B0(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function uW(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=T9(r.transform,i||null);a!=null&&(n===null&&(n=si.empty()),n.set(r.field,a))}return n||null}function B4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Od(r,i,(a,o)=>oW(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xm extends ix{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vl extends ix{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function C9(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function z4(t,e,n){const r=new Map;Ot(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,c=e.data.field(a.field);r.set(a.field,aW(o,c,n[i]))}return r}function F4(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,iW(a,o,e))}return r}class JS extends ix{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dW extends ix{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&cW(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=im(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=im(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=E9();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let c=this.applyToLocalView(o,a.mutatedFields);c=n.has(i.key)?null:c;const d=j9(o,c);d!==null&&r.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(tt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ht())}isEqual(e){return this.batchId===e.batchId&&Od(this.mutations,e.mutations,(n,r)=>B4(n,r))&&Od(this.baseMutations,e.baseMutations,(n,r)=>B4(n,r))}}class eT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ot(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return JK}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new eT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cn,bt;function pW(t){switch(t){case ve.OK:return Qe(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return Qe(15467,{code:t})}}function O9(t){if(t===void 0)return yo("GRPC error has no .code"),ve.UNKNOWN;switch(t){case Cn.OK:return ve.OK;case Cn.CANCELLED:return ve.CANCELLED;case Cn.UNKNOWN:return ve.UNKNOWN;case Cn.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Cn.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Cn.INTERNAL:return ve.INTERNAL;case Cn.UNAVAILABLE:return ve.UNAVAILABLE;case Cn.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Cn.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Cn.NOT_FOUND:return ve.NOT_FOUND;case Cn.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Cn.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Cn.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Cn.ABORTED:return ve.ABORTED;case Cn.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Cn.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Cn.DATA_LOSS:return ve.DATA_LOSS;default:return Qe(39323,{code:t})}}(bt=Cn||(Cn={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gW=new Sl([4294967295,4294967295],0);function q4(t){const e=e9().encode(t),n=new G6;return n.update(e),new Uint8Array(n.digest())}function H4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Sl([n,r],0),new Sl([i,a],0)]}class tT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fh(`Invalid padding: ${n}`);if(r<0)throw new Fh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fh(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Sl.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Sl.fromNumber(r)));return i.compare(gW)===1&&(i=new Sl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=q4(e),[r,i]=H4(n);for(let a=0;a<this.hashCount;a++){const o=this.we(r,i,a);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new tT(a,i,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.pe===0)return;const n=q4(e),[r,i]=H4(n);for(let a=0;a<this.hashCount;a++){const o=this.we(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Qm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ax(tt.min(),i,new fn(lt),xo(),ht())}}class Qm{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qm(r,n,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class I9{constructor(e,n){this.targetId=e,this.Ce=n}}class R9{constructor(e,n,r=xr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class G4{constructor(){this.Fe=0,this.Me=K4(),this.xe=xr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ht(),n=ht(),r=ht();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Qe(38017,{changeType:a})}}),new Qm(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=K4()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ot(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class vW{constructor(e){this.ze=e,this.je=new Map,this.He=xo(),this.Je=r0(),this.Ye=r0(),this.Ze=new fn(lt)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Qe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const a=i.target;if(G2(a))if(r===0){const o=new qe(a.path);this.tt(n,o,kr.newNoDocument(o,tt.min()))}else Ot(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const c=this.ct(e),d=c?this.lt(c,e,o):1;if(d!==0){this.st(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,c;try{o=Cl(r).toUint8Array()}catch(d){if(d instanceof i9)return Cd("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new tT(o,i,a)}catch(d){return Cd(d instanceof Fh?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.pe===0?null:c}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.ze.Pt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,a,null),i++)}),i}It(e){const n=new Map;this.je.forEach((a,o)=>{const c=this._t(o);if(c){if(a.current&&G2(c.target)){const d=new qe(c.target.path);this.Et(d).has(o)||this.dt(o,d)||this.tt(o,d,kr.newNoDocument(d,e))}a.Le&&(n.set(o,a.qe()),a.Qe())}});let r=ht();this.Ye.forEach((a,o)=>{let c=!0;o.forEachWhile(d=>{const f=this._t(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.He.forEach((a,o)=>o.setReadTime(e));const i=new ax(e,n,this.Ze,this.He,r);return this.He=xo(),this.Je=r0(),this.Ye=r0(),this.Ze=new fn(lt),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new G4,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Bn(lt),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Bn(lt),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new G4),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function r0(){return new fn(qe.comparator)}function K4(){return new fn(qe.comparator)}const yW={asc:"ASCENDING",desc:"DESCENDING"},xW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bW={and:"AND",or:"OR"};class wW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function W2(t,e){return t.useProto3Json||Zy(e)?e:{value:e}}function hv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P9(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _W(t,e){return hv(t,e.toTimestamp())}function hs(t){return Ot(!!t,49232),tt.fromTimestamp(function(n){const r=jl(n);return new $n(r.seconds,r.nanos)}(t))}function nT(t,e){return Y2(t,e).canonicalString()}function Y2(t,e){const n=function(i){return new en(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function D9(t){const e=en.fromString(t);return Ot($9(e),10190,{key:e.toString()}),e}function X2(t,e){return nT(t.databaseId,e.path)}function Sw(t,e){const n=D9(e);if(n.get(1)!==t.databaseId.projectId)throw new Oe(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Oe(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(L9(n))}function M9(t,e){return nT(t.databaseId,e)}function EW(t){const e=D9(t);return e.length===4?en.emptyPath():L9(e)}function Q2(t){return new en(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function L9(t){return Ot(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function W4(t,e,n){return{name:X2(t,e),fields:n.value.mapValue.fields}}function SW(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Qe(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,m){return f.useProto3Json?(Ot(m===void 0||typeof m=="string",58123),xr.fromBase64String(m||"")):(Ot(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),xr.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(f){const m=f.code===void 0?ve.UNKNOWN:O9(f.code);return new Oe(m,f.message||"")}(o);n=new R9(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Sw(t,r.document.name),a=hs(r.document.updateTime),o=r.document.createTime?hs(r.document.createTime):tt.min(),c=new si({mapValue:{fields:r.document.fields}}),d=kr.newFoundDocument(i,a,o,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new z0(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Sw(t,r.document),a=r.readTime?hs(r.readTime):tt.min(),o=kr.newNoDocument(i,a),c=r.removedTargetIds||[];n=new z0([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Sw(t,r.document),a=r.removedTargetIds||[];n=new z0([],a,i,null)}else{if(!("filter"in e))return Qe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new mW(i,a),c=r.targetId;n=new I9(c,o)}}return n}function TW(t,e){let n;if(e instanceof Xm)n={update:W4(t,e.key,e.value)};else if(e instanceof JS)n={delete:X2(t,e.key)};else if(e instanceof Vl)n={update:W4(t,e.key,e.data),updateMask:PW(e.fieldMask)};else{if(!(e instanceof dW))return Qe(16599,{ft:e.type});n={verify:X2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const c=o.transform;if(c instanceof Em)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Sm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Tm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof fv)return{fieldPath:o.field.canonicalString(),increment:c.Re};throw Qe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:_W(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Qe(27497)}(t,e.precondition)),n}function AW(t,e){return t&&t.length>0?(Ot(e!==void 0,14353),t.map(n=>function(i,a){let o=i.updateTime?hs(i.updateTime):hs(a);return o.isEqual(tt.min())&&(o=hs(a)),new lW(o,i.transformResults||[])}(n,e))):[]}function NW(t,e){return{documents:[M9(t,e.path)]}}function kW(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=M9(t,i);const a=function(f){if(f.length!==0)return V9(Ua.create(f,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(f){if(f.length!==0)return f.map(m=>function(v){return{field:hd(v.field),direction:OW(v.dir)}}(m))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=W2(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:n,parent:i}}function jW(t){let e=EW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ot(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=function(g){const v=U9(g);return v instanceof Ua&&m9(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(v=>function(w){return new _m(md(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(v))}(n.orderBy));let c=null;n.limit&&(c=function(g){let v;return v=typeof g=="object"?g.value:g,Zy(v)?null:v}(n.limit));let d=null;n.startAt&&(d=function(g){const v=!!g.before,x=g.values||[];return new uv(x,v)}(n.startAt));let f=null;return n.endAt&&(f=function(g){const v=!g.before,x=g.values||[];return new uv(x,v)}(n.endAt)),WK(e,i,o,a,c,"F",d,f)}function CW(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function U9(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=md(n.unaryFilter.field);return On.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=md(n.unaryFilter.field);return On.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=md(n.unaryFilter.field);return On.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=md(n.unaryFilter.field);return On.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qe(61313);default:return Qe(60726)}}(t):t.fieldFilter!==void 0?function(n){return On.create(md(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qe(58110);default:return Qe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ua.create(n.compositeFilter.filters.map(r=>U9(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Qe(1026)}}(n.compositeFilter.op))}(t):Qe(30097,{filter:t})}function OW(t){return yW[t]}function IW(t){return xW[t]}function RW(t){return bW[t]}function hd(t){return{fieldPath:t.canonicalString()}}function md(t){return yr.fromServerFormat(t.fieldPath)}function V9(t){return t instanceof On?function(n){if(n.op==="=="){if(D4(n.value))return{unaryFilter:{field:hd(n.field),op:"IS_NAN"}};if(P4(n.value))return{unaryFilter:{field:hd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(D4(n.value))return{unaryFilter:{field:hd(n.field),op:"IS_NOT_NAN"}};if(P4(n.value))return{unaryFilter:{field:hd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hd(n.field),op:IW(n.op),value:n.value}}}(t):t instanceof Ua?function(n){const r=n.getFilters().map(i=>V9(i));return r.length===1?r[0]:{compositeFilter:{op:RW(n.op),filters:r}}}(t):Qe(54877,{filter:t})}function PW(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $9(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n,r,i,a=tt.min(),o=tt.min(),c=xr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new wl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(e){this.wt=e}}function MW(t){const e=jW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(){this.Cn=new UW}addToCollectionParentIndex(e,n){return this.Cn.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(kl.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(kl.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class UW{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bn(en.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bn(en.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},B9=41943040;class ri{static withCacheSize(e){return new ri(e,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri.DEFAULT_COLLECTION_PERCENTILE=10,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ri.DEFAULT=new ri(B9,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ri.DISABLED=new ri(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Pd(0)}static lr(){return new Pd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="LruGarbageCollector",VW=1048576;function Q4([t,e],[n,r]){const i=lt(t,n);return i===0?lt(e,r):i}class $W{constructor(e){this.Er=e,this.buffer=new Bn(Q4),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Q4(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class BW{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ce(X4,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cf(n)?Ce(X4,"Ignoring IndexedDB error during garbage collection: ",n):await lf(n)}await this.mr(3e5)})}}class zW{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(Qy.le);const r=new $W(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(Y4)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y4):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,a,o,c,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,n))).next(g=>(a=g,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(f=Date.now(),dd()<=ft.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-m}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${g} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g})))}}function FW(t,e){return new zW(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(){this.changes=new du(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&im(r.mutation,i,ji.empty(),$n.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ht()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ht()){const i=Cc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=zh();return a.forEach((c,d)=>{o=o.insert(c,d.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Cc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ht()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let a=xo();const o=rm(),c=function(){return rm()}();return n.forEach((d,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Vl)?a=a.insert(f.key,f):m!==void 0?(o.set(f.key,m.mutation.getFieldMask()),im(m.mutation,f,m.mutation.getFieldMask(),$n.now())):o.set(f.key,ji.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((f,m)=>o.set(f,m)),n.forEach((f,m)=>{var g;return c.set(f,new HW(m,(g=o.get(f))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){const r=rm();let i=new fn((o,c)=>o-c),a=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const c of o)c.keys().forEach(d=>{const f=n.get(d);if(f===null)return;let m=r.get(d)||ji.empty();m=c.applyToLocalView(f,m),r.set(d,m);const g=(i.get(c.batchId)||ht()).add(d);i=i.insert(c.batchId,g)})}).next(()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,m=d.value,g=E9();m.forEach(v=>{if(!a.has(v)){const x=j9(n.get(v),r.get(v));x!==null&&g.set(v,x),a=a.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,g))}return ye.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return qe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):y9(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ye.resolve(Cc());let c=ym,d=a;return o.next(f=>ye.forEach(f,(m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),a.get(m)?ye.resolve():this.remoteDocumentCache.getEntry(e,m).next(v=>{d=d.insert(m,v)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,d,f,ht())).next(m=>({batchId:c,changes:_9(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next(r=>{let i=zh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=zh();return this.indexManager.getCollectionParents(e,a).next(c=>ye.forEach(c,d=>{const f=function(g,v){return new uf(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((g,v)=>{o=o.insert(g,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((d,f)=>{const m=f.getKey();o.get(m)===null&&(o=o.insert(m,kr.newInvalidDocument(m)))});let c=zh();return o.forEach((d,f)=>{const m=a.get(d);m!==void 0&&im(m.mutation,f,ji.empty(),$n.now()),nx(n,f)&&(c=c.insert(d,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ye.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hs(i.createTime)}}(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:MW(i.bundledQuery),readTime:hs(i.readTime)}}(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(){this.overlays=new fn(qe.comparator),this.Qr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Cc();return ye.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),ye.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const i=Cc(),a=n.length+1,o=new qe(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new fn((f,m)=>f-m);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=a.get(f.largestBatchId);m===null&&(m=Cc(),a=a.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=Cc(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,m)=>c.set(f,m)),!(c.size()>=i)););return ye.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new hW(n,r));let a=this.Qr.get(n);a===void 0&&(a=ht(),this.Qr.set(n,a)),this.Qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(){this.sessionToken=xr.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.$r=new Bn(er.Ur),this.Kr=new Bn(er.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new er(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new er(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new qe(new en([])),r=new er(n,e),i=new er(n,e+1),a=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),a.push(o.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new qe(new en([])),r=new er(n,e),i=new er(n,e+1);let a=ht();return this.Kr.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new er(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class er{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return qe.comparator(e.key,n.key)||lt(e.Zr,n.Zr)}static Wr(e,n){return lt(e.Zr,n.Zr)||qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Bn(er.Ur)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new fW(a,n,r,i);this.mutationQueue.push(o);for(const c of i)this.Xr=this.Xr.add(new er(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ye.resolve(o)}lookupMutationBatch(e,n){return ye.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),a=i<0?0:i;return ye.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?KS:this.nr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new er(n,0),i=new er(n,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],o=>{const c=this.ei(o.Zr);a.push(c)}),ye.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bn(lt);return n.forEach(i=>{const a=new er(i,0),o=new er(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,o],c=>{r=r.add(c.Zr)})}),ye.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;qe.isDocumentKey(a)||(a=a.child(""));const o=new er(new qe(a),0);let c=new Bn(lt);return this.Xr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Zr)),!0)},o),ye.resolve(this.ni(c))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ot(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ye.forEach(n.mutations,i=>{const a=new er(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new er(n,0),i=this.Xr.firstAfterOrEqual(r);return ye.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e){this.ii=e,this.docs=function(){return new fn(qe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():kr.newInvalidDocument(n))}getEntries(e,n){let r=xo();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():kr.newInvalidDocument(i))}),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=xo();const o=n.path,c=new qe(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||AK(TK(m),r)<=0||(i.has(m.key)||nx(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return ye.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Qe(9500)}si(e,n){return ye.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZW(this)}getSize(e){return ye.resolve(this.size)}}class ZW extends qW{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),ye.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(e){this.persistence=e,this.oi=new du(n=>XS(n),QS),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this._i=0,this.ai=new rT,this.targetCount=0,this.ui=Pd.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ye.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Pd(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.Tr(n),ye.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.oi.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.oi.delete(o),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),ye.waitFor(a).next(()=>i)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),ye.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,n){this.ci={},this.overlays={},this.li=new Qy(0),this.hi=!1,this.hi=!0,this.Pi=new YW,this.referenceDelegate=e(this),this.Ti=new JW(this),this.indexManager=new LW,this.remoteDocumentCache=function(i){return new QW(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new DW(n),this.Ei=new KW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new XW(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const i=new eY(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,n){return ye.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class eY extends kK{constructor(e){super(),this.currentSequenceNumber=e}}class iT{constructor(e){this.persistence=e,this.Vi=new rT,this.mi=null}static fi(e){return new iT(e)}get gi(){if(this.mi)return this.mi;throw Qe(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.gi,r=>{const i=qe.fromPath(r);return this.pi(e,i).next(a=>{a||n.removeEntry(i,tt.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ye.or([()=>ye.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class mv{constructor(e,n){this.persistence=e,this.yi=new du(r=>OK(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=FW(this,n)}static fi(e,n){return new mv(e,n)}di(){}Ai(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ye.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?ye.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(c=>{c||(r++,a.removeEntry(o,tt.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ye.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=V0(e.data.value)),n}Dr(e,n,r){return ye.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return ye.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=ht(),i=ht();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new aT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return KH()?8:jK(Rr())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ws(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.bs(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new tY;return this.Ss(e,n,o).next(c=>{if(a.result=c,this.fs)return this.Ds(e,n,o,c.size)})}).next(()=>a.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(dd()<=ft.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",fd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ye.resolve()):(dd()<=ft.DEBUG&&Ce("QueryEngine","Query:",fd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(dd()<=ft.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",fd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fs(n))):ye.resolve())}ws(e,n){if(V4(n))return ye.resolve(null);let r=fs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dv(n,null,"F"),r=fs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=ht(...a);return this.ys.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.vs(n,c);return this.Cs(n,f,o,d.readTime)?this.ws(e,dv(n,null,"F")):this.Fs(e,f,n,d)}))})))}bs(e,n,r,i){return V4(n)||i.isEqual(tt.min())?ye.resolve(null):this.ys.getDocuments(e,r).next(a=>{const o=this.vs(n,a);return this.Cs(n,o,r,i)?ye.resolve(null):(dd()<=ft.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fd(n)),this.Fs(e,o,n,SK(i,ym)).next(c=>c))})}vs(e,n){let r=new Bn(b9(e));return n.forEach((i,a)=>{nx(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return dd()<=ft.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",fd(n)),this.ys.getDocumentsMatchingQuery(e,n,kl.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="LocalStore",rY=3e8;class iY{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new fn(lt),this.Os=new du(a=>XS(a),QS),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GW(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function aY(t,e,n,r){return new iY(t,e,n,r)}async function F9(t,e){const n=rt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],c=[];let d=ht();for(const f of i){o.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of a){c.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next(f=>({ks:f,removedBatchIds:o,addedBatchIds:c}))})})}function sY(t,e){const n=rt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(c,d,f,m){const g=f.batch,v=g.keys();let x=ye.resolve();return v.forEach(w=>{x=x.next(()=>m.getEntry(d,w)).next(T=>{const E=f.docVersions.get(w);Ot(E!==null,48541),T.version.compareTo(E)<0&&(g.applyToRemoteDocument(T,f),T.isValidDocument()&&(T.setReadTime(f.commitVersion),m.addEntry(T)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(d,g))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=ht();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function q9(t){const e=rt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function oY(t,e){const n=rt(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const c=[];e.targetChanges.forEach((m,g)=>{const v=i.get(g);if(!v)return;c.push(n.Ti.removeMatchingKeys(a,m.removedDocuments,g).next(()=>n.Ti.addMatchingKeys(a,m.addedDocuments,g)));let x=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?x=x.withResumeToken(xr.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,r)),i=i.insert(g,x),function(T,E,A){return T.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=rY?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(v,x,m)&&c.push(n.Ti.updateTargetData(a,x))});let d=xo(),f=ht();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))}),c.push(lY(a,o,e.documentUpdates).next(m=>{d=m.qs,f=m.Qs})),!r.isEqual(tt.min())){const m=n.Ti.getLastRemoteSnapshotVersion(a).next(g=>n.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(m)}return ye.waitFor(c).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,d,f)).next(()=>d)}).then(a=>(n.xs=i,a))}function lY(t,e,n){let r=ht(),i=ht();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=xo();return n.forEach((c,d)=>{const f=a.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(tt.min())?(e.removeEntry(c,d.readTime),o=o.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),o=o.insert(c,d)):Ce(sT,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)}),{qs:o,Qs:i}})}function cY(t,e){const n=rt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=KS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uY(t,e){const n=rt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(a=>a?(i=a,ye.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new wl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Z2(t,e,n){const r=rt(t),i=r.xs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!cf(o))throw o;Ce(sT,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Z4(t,e,n){const r=rt(t);let i=tt.min(),a=ht();return r.persistence.runTransaction("Execute query","readwrite",o=>function(d,f,m){const g=rt(d),v=g.Os.get(m);return v!==void 0?ye.resolve(g.xs.get(v)):g.Ti.getTargetData(f,m)}(r,o,fs(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,c.targetId).next(d=>{a=d})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:tt.min(),n?a:ht())).next(c=>(dY(r,XK(e),c),{documents:c,$s:a})))}function dY(t,e,n){let r=t.Ns.get(e)||tt.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ns.set(e,r)}class J4{constructor(){this.activeTargetIds=nW()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fY{constructor(){this.xo=new J4,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new J4,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="ConnectivityMonitor";class tO{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ce(eO,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ce(eO,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i0=null;function J2(){return i0===null?i0=function(){return 268435456+Math.round(2147483648*Math.random())}():i0++,"0x"+i0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="RestConnection",mY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pY{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===lv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,a){const o=J2(),c=this.jo(e,n.toUriEncodedString());Ce(Tw,`Sending RPC '${e}' ${o}:`,c,r);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,i,a);const{host:f}=new URL(c),m=Ll(f);return this.Jo(e,c,d,r,m).then(g=>(Ce(Tw,`Received RPC '${e}' ${o}: `,g),g),g=>{throw Cd(Tw,`RPC '${e}' ${o} failed with error: `,g,"url: ",c,"request:",r),g})}Yo(e,n,r,i,a,o){return this.zo(e,n,r,i,a)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+of}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,n){const r=mY[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="WebChannelConnection";class vY extends pY{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=J2();return new Promise((c,d)=>{const f=new K6;f.setWithCredentials(!0),f.listenOnce(W6.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case U0.NO_ERROR:const g=f.getResponseJson();Ce(Sr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),c(g);break;case U0.TIMEOUT:Ce(Sr,`RPC '${e}' ${o} timed out`),d(new Oe(ve.DEADLINE_EXCEEDED,"Request time out"));break;case U0.HTTP_ERROR:const v=f.getStatus();if(Ce(Sr,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const w=x==null?void 0:x.error;if(w&&w.status&&w.message){const T=function(A){const k=A.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(k)>=0?k:ve.UNKNOWN}(w.status);d(new Oe(T,w.message))}else d(new Oe(ve.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Oe(ve.UNAVAILABLE,"Connection failed."));break;default:Qe(9055,{h_:e,streamId:o,P_:f.getLastErrorCode(),T_:f.getLastError()})}}finally{Ce(Sr,`RPC '${e}' ${o} completed.`)}});const m=JSON.stringify(i);Ce(Sr,`RPC '${e}' ${o} sending request:`,i),f.send(n,"POST",m,r,15)})}I_(e,n,r){const i=J2(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Q6(),c=X6(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=a.join("");Ce(Sr,`Creating RPC '${e}' stream ${i}: ${m}`,d);const g=o.createWebChannel(m,d);this.E_(g);let v=!1,x=!1;const w=new gY({Zo:E=>{x?Ce(Sr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(v||(Ce(Sr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),Ce(Sr,`RPC '${e}' stream ${i} sending:`,E),g.send(E))},Xo:()=>g.close()}),T=(E,A,k)=>{E.listen(A,j=>{try{k(j)}catch(D){setTimeout(()=>{throw D},0)}})};return T(g,Bh.EventType.OPEN,()=>{x||(Ce(Sr,`RPC '${e}' stream ${i} transport opened.`),w.__())}),T(g,Bh.EventType.CLOSE,()=>{x||(x=!0,Ce(Sr,`RPC '${e}' stream ${i} transport closed`),w.u_(),this.d_(g))}),T(g,Bh.EventType.ERROR,E=>{x||(x=!0,Cd(Sr,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),w.u_(new Oe(ve.UNAVAILABLE,"The operation could not be completed")))}),T(g,Bh.EventType.MESSAGE,E=>{var A;if(!x){const k=E.data[0];Ot(!!k,16349);const j=k,D=(j==null?void 0:j.error)||((A=j[0])===null||A===void 0?void 0:A.error);if(D){Ce(Sr,`RPC '${e}' stream ${i} received error:`,D);const O=D.status;let L=function(M){const z=Cn[M];if(z!==void 0)return O9(z)}(O),P=D.message;L===void 0&&(L=ve.INTERNAL,P="Unknown error status: "+O+" with message "+D.message),x=!0,w.u_(new Oe(L,P)),g.close()}else Ce(Sr,`RPC '${e}' stream ${i} received:`,k),w.c_(k)}}),T(c,Y6.STAT_EVENT,E=>{E.stat===B2.PROXY?Ce(Sr,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===B2.NOPROXY&&Ce(Sr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Aw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t){return new wW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,n,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="PersistentStream";class G9{constructor(e,n,r,i,a,o,c,d){this.xi=e,this.S_=r,this.D_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new H9(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(yo(n.toString()),yo("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new Oe(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Ce(nO,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Ce(nO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yY extends G9{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=SW(this.serializer,e),r=function(a){if(!("targetChange"in a))return tt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?tt.min():o.readTime?hs(o.readTime):tt.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Q2(this.serializer),n.addTarget=function(a,o){let c;const d=o.target;if(c=G2(d)?{documents:NW(a,d)}:{query:kW(a,d).gt},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=P9(a,o.resumeToken);const f=W2(a,o.expectedCount);f!==null&&(c.expectedCount=f)}else if(o.snapshotVersion.compareTo(tt.min())>0){c.readTime=hv(a,o.snapshotVersion.toTimestamp());const f=W2(a,o.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const r=CW(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Q2(this.serializer),n.removeTarget=e,this.Q_(n)}}class xY extends G9{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=AW(e.writeResults,e.commitTime),r=hs(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Q2(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>TW(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bY{}class wY extends bY{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new Oe(ve.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.zo(e,Y2(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Oe(ve.UNKNOWN,a.toString())})}Yo(e,n,r,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Yo(e,Y2(n,r),i,o,c,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Oe(ve.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class _Y{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(yo(n),this.ua=!1):Ce("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc="RemoteStore";class EY{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(o=>{r.enqueueAndForget(async()=>{fu(this)&&(Ce(Kc,"Restarting streams for network reachability change."),await async function(d){const f=rt(d);f.da.add(4),await Zm(f),f.Va.set("Unknown"),f.da.delete(4),await ox(f)}(this))})}),this.Va=new _Y(r,i)}}async function ox(t){if(fu(t))for(const e of t.Aa)await e(!0)}async function Zm(t){for(const e of t.Aa)await e(!1)}function K9(t,e){const n=rt(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),uT(n)?cT(n):df(n).N_()&&lT(n,e))}function oT(t,e){const n=rt(t),r=df(n);n.Ea.delete(e),r.N_()&&W9(n,e),n.Ea.size===0&&(r.N_()?r.k_():fu(n)&&n.Va.set("Unknown"))}function lT(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}df(t).Z_(e)}function W9(t,e){t.ma.Ke(e),df(t).X_(e)}function cT(t){t.ma=new vW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),df(t).start(),t.Va.ca()}function uT(t){return fu(t)&&!df(t).O_()&&t.Ea.size>0}function fu(t){return rt(t).da.size===0}function Y9(t){t.ma=void 0}async function SY(t){t.Va.set("Online")}async function TY(t){t.Ea.forEach((e,n)=>{lT(t,e)})}async function AY(t,e){Y9(t),uT(t)?(t.Va.Pa(e),cT(t)):t.Va.set("Unknown")}async function NY(t,e,n){if(t.Va.set("Online"),e instanceof R9&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const c of a.targetIds)i.Ea.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ea.delete(c),i.ma.removeTarget(c))}(t,e)}catch(r){Ce(Kc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pv(t,r)}else if(e instanceof z0?t.ma.Xe(e):e instanceof I9?t.ma.ot(e):t.ma.nt(e),!n.isEqual(tt.min()))try{const r=await q9(t.localStore);n.compareTo(r)>=0&&await function(a,o){const c=a.ma.It(o);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.Ea.get(f);m&&a.Ea.set(f,m.withResumeToken(d.resumeToken,o))}}),c.targetMismatches.forEach((d,f)=>{const m=a.Ea.get(d);if(!m)return;a.Ea.set(d,m.withResumeToken(xr.EMPTY_BYTE_STRING,m.snapshotVersion)),W9(a,d);const g=new wl(m.target,d,f,m.sequenceNumber);lT(a,g)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){Ce(Kc,"Failed to raise snapshot:",r),await pv(t,r)}}async function pv(t,e,n){if(!cf(e))throw e;t.da.add(1),await Zm(t),t.Va.set("Offline"),n||(n=()=>q9(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ce(Kc,"Retrying IndexedDB access"),await n(),t.da.delete(1),await ox(t)})}function X9(t,e){return e().catch(n=>pv(t,n,e))}async function lx(t){const e=rt(t),n=Il(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:KS;for(;kY(e);)try{const i=await cY(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,jY(e,i)}catch(i){await pv(e,i)}Q9(e)&&Z9(e)}function kY(t){return fu(t)&&t.Ia.length<10}function jY(t,e){t.Ia.push(e);const n=Il(t);n.N_()&&n.ea&&n.ta(e.mutations)}function Q9(t){return fu(t)&&!Il(t).O_()&&t.Ia.length>0}function Z9(t){Il(t).start()}async function CY(t){Il(t).ia()}async function OY(t){const e=Il(t);for(const n of t.Ia)e.ta(n.mutations)}async function IY(t,e,n){const r=t.Ia.shift(),i=eT.from(r,e,n);await X9(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await lx(t)}async function RY(t,e){e&&Il(t).ea&&await async function(r,i){if(function(o){return pW(o)&&o!==ve.ABORTED}(i.code)){const a=r.Ia.shift();Il(r).L_(),await X9(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await lx(r)}}(t,e),Q9(t)&&Z9(t)}async function rO(t,e){const n=rt(t);n.asyncQueue.verifyOperationInProgress(),Ce(Kc,"RemoteStore received new credentials");const r=fu(n);n.da.add(3),await Zm(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await ox(n)}async function PY(t,e){const n=rt(t);e?(n.da.delete(2),await ox(n)):e||(n.da.add(2),await Zm(n),n.Va.set("Unknown"))}function df(t){return t.fa||(t.fa=function(n,r,i){const a=rt(n);return a.oa(),new yY(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{e_:SY.bind(null,t),n_:TY.bind(null,t),i_:AY.bind(null,t),Y_:NY.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),uT(t)?cT(t):t.Va.set("Unknown")):(await t.fa.stop(),Y9(t))})),t.fa}function Il(t){return t.ga||(t.ga=function(n,r,i){const a=rt(n);return a.oa(),new xY(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:CY.bind(null,t),i_:RY.bind(null,t),na:OY.bind(null,t),ra:IY.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await lx(t)):(await t.ga.stop(),t.Ia.length>0&&(Ce(Kc,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,c=new dT(e,n,o,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fT(t,e){if(yo("AsyncQueue",`${e}: ${t}`),cf(t))return new Oe(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{static emptySet(e){return new _d(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=zh(),this.sortedSet=new fn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _d)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _d;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.pa=new fn(qe.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Qe(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Dd{constructor(e,n,r,i,a,o,c,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new Dd(e,n,_d.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class MY{constructor(){this.queries=aO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=rt(n),a=i.queries;i.queries=aO(),a.forEach((o,c)=>{for(const d of c.Sa)d.onError(r)})})(this,new Oe(ve.ABORTED,"Firestore shutting down"))}}function aO(){return new du(t=>x9(t),tx)}async function hT(t,e){const n=rt(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Da()&&e.va()&&(r=2):(a=new DY,r=e.va()?0:1);try{switch(r){case 0:a.ba=await n.onListen(i,!0);break;case 1:a.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const c=fT(o,`Initialization of query '${fd(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.Sa.push(e),e.Fa(n.onlineState),a.ba&&e.Ma(a.ba)&&pT(n)}async function mT(t,e){const n=rt(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.va()?0:1:!a.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function LY(t,e){const n=rt(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const c of o.Sa)c.Ma(i)&&(r=!0);o.ba=i}}r&&pT(n)}function UY(t,e,n){const r=rt(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function pT(t){t.Ca.forEach(e=>{e.next()})}var eE,sO;(sO=eE||(eE={})).xa="default",sO.Cache="cache";class gT{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Dd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Dd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==eE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e){this.key=e}}class eM{constructor(e){this.key=e}}class VY{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ht(),this.mutatedKeys=ht(),this.Za=b9(e),this.Xa=new _d(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new iO,i=n?n.Xa:this.Xa;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const v=i.get(m),x=nx(this.query,g)?g:null,w=!!v&&this.mutatedKeys.has(v.key),T=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let E=!1;v&&x?v.data.isEqual(x.data)?w!==T&&(r.track({type:3,doc:x}),E=!0):this.ru(v,x)||(r.track({type:2,doc:x}),E=!0,(d&&this.Za(x,d)>0||f&&this.Za(x,f)<0)&&(c=!0)):!v&&x?(r.track({type:0,doc:x}),E=!0):v&&!x&&(r.track({type:1,doc:v}),E=!0,(d||f)&&(c=!0)),E&&(x?(o=o.add(x),a=T?a.add(m):a.delete(m)):(o=o.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{Xa:o,nu:r,Cs:c,mutatedKeys:a}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((m,g)=>function(x,w){const T=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe(20277,{Vt:E})}};return T(x)-T(w)}(m.type,g.type)||this.Za(m.doc,g.doc)),this.iu(r),i=i!=null&&i;const c=n&&!i?this.su():[],d=this.Ya.size===0&&this.current&&!i?1:0,f=d!==this.Ja;return this.Ja=d,o.length!==0||f?{snapshot:new Dd(this.query,e.Xa,a,o,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new iO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ht(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new eM(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new J9(r))}),n}au(e){this.Ha=e.$s,this.Ya=ht();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Dd.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const vT="SyncEngine";class $Y{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class BY{constructor(e){this.key=e,this.cu=!1}}class zY{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new du(c=>x9(c),tx),this.Pu=new Map,this.Tu=new Set,this.Iu=new fn(qe.comparator),this.Eu=new Map,this.du=new rT,this.Au={},this.Ru=new Map,this.Vu=Pd.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function FY(t,e,n=!0){const r=sM(t);let i;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await tM(r,e,n,!0),i}async function qY(t,e){const n=sM(t);await tM(n,e,!0,!1)}async function tM(t,e,n,r){const i=await uY(t.localStore,fs(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await HY(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&K9(t.remoteStore,i),c}async function HY(t,e,n,r,i){t.fu=(g,v,x)=>async function(T,E,A,k){let j=E.view.tu(A);j.Cs&&(j=await Z4(T.localStore,E.query,!1).then(({documents:P})=>E.view.tu(P,j)));const D=k&&k.targetChanges.get(E.targetId),O=k&&k.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(j,T.isPrimaryClient,D,O);return lO(T,E.targetId,L.ou),L.snapshot}(t,g,v,x);const a=await Z4(t.localStore,e,!0),o=new VY(e,a.$s),c=o.tu(a.documents),d=Qm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=o.applyChanges(c,t.isPrimaryClient,d);lO(t,n,f.ou);const m=new $Y(e,n,o);return t.hu.set(e,m),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),f.snapshot}async function GY(t,e,n){const r=rt(t),i=r.hu.get(e),a=r.Pu.get(i.targetId);if(a.length>1)return r.Pu.set(i.targetId,a.filter(o=>!tx(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Z2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&oT(r.remoteStore,i.targetId),tE(r,i.targetId)}).catch(lf)):(tE(r,i.targetId),await Z2(r.localStore,i.targetId,!0))}async function KY(t,e){const n=rt(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),oT(n.remoteStore,r.targetId))}async function WY(t,e,n){const r=tX(t);try{const i=await function(o,c){const d=rt(o),f=$n.now(),m=c.reduce((x,w)=>x.add(w.key),ht());let g,v;return d.persistence.runTransaction("Locally write mutations","readwrite",x=>{let w=xo(),T=ht();return d.Bs.getEntries(x,m).next(E=>{w=E,w.forEach((A,k)=>{k.isValidDocument()||(T=T.add(A))})}).next(()=>d.localDocuments.getOverlayedDocuments(x,w)).next(E=>{g=E;const A=[];for(const k of c){const j=uW(k,g.get(k.key).overlayedDocument);j!=null&&A.push(new Vl(k.key,j,d9(j.value.mapValue),Da.exists(!0)))}return d.mutationQueue.addMutationBatch(x,f,A,c)}).next(E=>{v=E;const A=E.applyToLocalDocumentSet(g,T);return d.documentOverlayCache.saveOverlays(x,E.batchId,A)})}).then(()=>({batchId:v.batchId,changes:_9(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,d){let f=o.Au[o.currentUser.toKey()];f||(f=new fn(lt)),f=f.insert(c,d),o.Au[o.currentUser.toKey()]=f}(r,i.batchId,n),await Jm(r,i.changes),await lx(r.remoteStore)}catch(i){const a=fT(i,"Failed to persist write");n.reject(a)}}async function nM(t,e){const n=rt(t);try{const r=await oY(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Eu.get(a);o&&(Ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?Ot(o.cu,14607):i.removedDocuments.size>0&&(Ot(o.cu,42227),o.cu=!1))}),await Jm(n,r,e)}catch(r){await lf(r)}}function oO(t,e,n){const r=rt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((a,o)=>{const c=o.view.Fa(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){const d=rt(o);d.onlineState=c;let f=!1;d.queries.forEach((m,g)=>{for(const v of g.Sa)v.Fa(c)&&(f=!0)}),f&&pT(d)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YY(t,e,n){const r=rt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),a=i&&i.key;if(a){let o=new fn(qe.comparator);o=o.insert(a,kr.newNoDocument(a,tt.min()));const c=ht().add(a),d=new ax(tt.min(),new Map,new fn(lt),o,c);await nM(r,d),r.Iu=r.Iu.remove(a),r.Eu.delete(e),yT(r)}else await Z2(r.localStore,e,!1).then(()=>tE(r,e,n)).catch(lf)}async function XY(t,e){const n=rt(t),r=e.batch.batchId;try{const i=await sY(n.localStore,e);iM(n,r,null),rM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jm(n,i)}catch(i){await lf(i)}}async function QY(t,e,n){const r=rt(t);try{const i=await function(o,c){const d=rt(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next(g=>(Ot(g!==null,37113),m=g.keys(),d.mutationQueue.removeMutationBatch(f,g))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>d.localDocuments.getDocuments(f,m))})}(r.localStore,e);iM(r,e,n),rM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Jm(r,i)}catch(i){await lf(i)}}function rM(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function iM(t,e,n){const r=rt(t);let i=r.Au[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function tE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||aM(t,r)})}function aM(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(oT(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),yT(t))}function lO(t,e,n){for(const r of n)r instanceof J9?(t.du.addReference(r.key,e),ZY(t,r)):r instanceof eM?(Ce(vT,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||aM(t,r.key)):Qe(19791,{pu:r})}function ZY(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(Ce(vT,"New document in limbo: "+n),t.Tu.add(r),yT(t))}function yT(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new qe(en.fromString(e)),r=t.Vu.next();t.Eu.set(r,new BY(n)),t.Iu=t.Iu.insert(n,r),K9(t.remoteStore,new wl(fs(ex(n.path)),r,"TargetPurposeLimboResolution",Qy.le))}}async function Jm(t,e,n){const r=rt(t),i=[],a=[],o=[];r.hu.isEmpty()||(r.hu.forEach((c,d)=>{o.push(r.fu(d,e,n).then(f=>{var m;if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){i.push(f);const g=aT.Rs(d.targetId,f);a.push(g)}}))}),await Promise.all(o),r.lu.Y_(i),await async function(d,f){const m=rt(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ye.forEach(f,v=>ye.forEach(v.ds,x=>m.persistence.referenceDelegate.addReference(g,v.targetId,x)).next(()=>ye.forEach(v.As,x=>m.persistence.referenceDelegate.removeReference(g,v.targetId,x)))))}catch(g){if(!cf(g))throw g;Ce(sT,"Failed to update sequence numbers: "+g)}for(const g of f){const v=g.targetId;if(!g.fromCache){const x=m.xs.get(v),w=x.snapshotVersion,T=x.withLastLimboFreeSnapshotVersion(w);m.xs=m.xs.insert(v,T)}}}(r.localStore,a))}async function JY(t,e){const n=rt(t);if(!n.currentUser.isEqual(e)){Ce(vT,"User change. New user:",e.toKey());const r=await F9(n.localStore,e);n.currentUser=e,function(a,o){a.Ru.forEach(c=>{c.forEach(d=>{d.reject(new Oe(ve.CANCELLED,o))})}),a.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jm(n,r.ks)}}function eX(t,e){const n=rt(t),r=n.Eu.get(e);if(r&&r.cu)return ht().add(r.key);{let i=ht();const a=n.Pu.get(e);if(!a)return i;for(const o of a){const c=n.hu.get(o);i=i.unionWith(c.view.eu)}return i}}function sM(t){const e=rt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YY.bind(null,e),e.lu.Y_=LY.bind(null,e.eventManager),e.lu.gu=UY.bind(null,e.eventManager),e}function tX(t){const e=rt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QY.bind(null,e),e}class gv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sx(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return aY(this.persistence,new nY,e.initialUser,this.serializer)}Su(e){return new z9(iT.fi,this.serializer)}bu(e){return new fY}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gv.provider={build:()=>new gv};class nX extends gv{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Ot(this.persistence.referenceDelegate instanceof mv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new BW(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?ri.withCacheSize(this.cacheSizeBytes):ri.DEFAULT;return new z9(r=>mv.fi(r,n),this.serializer)}}class nE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>oO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JY.bind(null,this.syncEngine),await PY(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MY}()}createDatastore(e){const n=sx(e.databaseInfo.databaseId),r=function(a){return new vY(a)}(e.databaseInfo);return function(a,o,c,d){return new wY(a,o,c,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,c){return new EY(r,i,a,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>oO(this.syncEngine,n,0),function(){return tO.C()?new tO:new hY}())}createSyncEngine(e,n){return function(i,a,o,c,d,f,m){const g=new zY(i,a,o,c,d,f);return m&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=rt(i);Ce(Kc,"RemoteStore shutting down."),a.da.add(5),await Zm(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}nE.provider={build:()=>new nE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):yo("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl="FirestoreClient";class rX{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nr.UNAUTHENTICATED,this.clientId=t9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{Ce(Rl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ce(Rl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=fT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Nw(t,e){t.asyncQueue.verifyOperationInProgress(),Ce(Rl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await F9(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await iX(t);Ce(Rl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rO(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>rO(e.remoteStore,i)),t._onlineComponents=e}async function iX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce(Rl,"Using user provided OfflineComponentProvider");try{await Nw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Cd("Error using user provided cache. Falling back to memory cache: "+n),await Nw(t,new gv)}}else Ce(Rl,"Using default OfflineComponentProvider"),await Nw(t,new nX(void 0));return t._offlineComponents}async function oM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce(Rl,"Using user provided OnlineComponentProvider"),await cO(t,t._uninitializedComponentsProvider._online)):(Ce(Rl,"Using default OnlineComponentProvider"),await cO(t,new nE))),t._onlineComponents}function aX(t){return oM(t).then(e=>e.syncEngine)}async function vv(t){const e=await oM(t),n=e.eventManager;return n.onListen=FY.bind(null,e.syncEngine),n.onUnlisten=GY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KY.bind(null,e.syncEngine),n}function sX(t,e,n={}){const r=new fo;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,c,d,f){const m=new xT({next:v=>{m.xu(),o.enqueueAndForget(()=>mT(a,g));const x=v.docs.has(c);!x&&v.fromCache?f.reject(new Oe(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&v.fromCache&&d&&d.source==="server"?f.reject(new Oe(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),g=new gT(ex(c.path),m,{includeMetadataChanges:!0,Qa:!0});return hT(a,g)}(await vv(t),t.asyncQueue,e,n,r)),r.promise}function oX(t,e,n={}){const r=new fo;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,c,d,f){const m=new xT({next:v=>{m.xu(),o.enqueueAndForget(()=>mT(a,g)),v.fromCache&&d.source==="server"?f.reject(new Oe(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),g=new gT(c,m,{includeMetadataChanges:!0,Qa:!0});return hT(a,g)}(await vv(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(t,e,n){if(!n)throw new Oe(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lX(t,e,n,r){if(e===!0&&r===!0)throw new Oe(ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dO(t){if(!qe.isDocumentKey(t))throw new Oe(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fO(t){if(qe.isDocumentKey(t))throw new Oe(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Qe(12329,{type:typeof t})}function sa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Oe(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cx(t);throw new Oe(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="firestore.googleapis.com",hO=!0;class mO{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uM,this.ssl=hO}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:hO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=B9;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VW)throw new Oe(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Oe(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Oe(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Oe(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ux{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pK;switch(r.type){case"firstParty":return new xK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Oe(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uO.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),uO.delete(n),r.terminate())}(this),Promise.resolve()}}function cX(t,e,n,r={}){var i;t=sa(t,ux);const a=Ll(e),o=t._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;a&&(Wy(`https://${d}`),Yy("Firestore",!0)),o.host!==uM&&o.host!==d&&Cd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:d,ssl:a,emulatorOptions:r});if(!Nl(f,c)&&(t._setSettings(f),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=Nr.MOCK_USER;else{m=M6(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Oe(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Nr(v)}t._authCredentials=new gK(new J6(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oo(this.firestore,e,this._query)}}class qr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qr(this.firestore,e,this._key)}}class Tl extends Oo{constructor(e,n,r){super(e,n,ex(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qr(this.firestore,null,new qe(e))}withConverter(e){return new Tl(this.firestore,e,this._path)}}function qt(t,e,...n){if(t=Lt(t),cM("collection","path",e),t instanceof ux){const r=en.fromString(e,...n);return fO(r),new Tl(t,null,r)}{if(!(t instanceof qr||t instanceof Tl))throw new Oe(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(en.fromString(e,...n));return fO(r),new Tl(t.firestore,null,r)}}function Vn(t,e,...n){if(t=Lt(t),arguments.length===1&&(e=t9.newId()),cM("doc","path",e),t instanceof ux){const r=en.fromString(e,...n);return dO(r),new qr(t,null,new qe(r))}{if(!(t instanceof qr||t instanceof Tl))throw new Oe(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(en.fromString(e,...n));return dO(r),new qr(t.firestore,t instanceof Tl?t.converter:null,new qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="AsyncQueue";class gO{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new H9(this,"async_queue_retry"),this.rc=()=>{const r=Aw();r&&Ce(pO,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Aw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Aw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new fo;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!cf(e))throw e;Ce(pO,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,yo("INTERNAL UNHANDLED ERROR: ",vO(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=dT.createAndSchedule(this,e,n,r,a=>this.uc(a));return this.Zu.push(i),i}oc(){this.Xu&&Qe(47125,{cc:vO(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function vO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Pl extends ux{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new gO,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gO(e),this._firestoreClient=void 0,await e}}}function uX(t,e){const n=typeof t=="object"?t:Ym(),r=typeof t=="string"?t:lv,i=Co(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=qS("firestore");a&&cX(i,...a)}return i}function dx(t){if(t._terminated)throw new Oe(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||dX(t),t._firestoreClient}function dX(t){var e,n,r;const i=t._freezeSettings(),a=function(c,d,f,m){return new PK(c,d,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,lM(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new rX(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Md(xr.fromBase64String(e))}catch(n){throw new Oe(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Md(xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Oe(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Oe(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Oe(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fX=/^__.*__$/;class hX{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xm(e,this.data,n,this.fieldTransforms)}}class dM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe(40011,{Ic:t})}}class _T{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new _T(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return yv(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(fM(this.Ic)&&fX.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class mX{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sx(e)}bc(e,n,r,i=!1){return new _T({Ic:e,methodName:n,wc:r,path:yr.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ET(t){const e=t._freezeSettings(),n=sx(t._databaseId);return new mX(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pX(t,e,n,r,i,a={}){const o=t.bc(a.merge||a.mergeFields?2:0,e,n,i);TT("Data must be an object, but it was:",o,r);const c=hM(r,o);let d,f;if(a.merge)d=new ji(o.fieldMask),f=o.fieldTransforms;else if(a.mergeFields){const m=[];for(const g of a.mergeFields){const v=rE(e,g,n);if(!o.contains(v))throw new Oe(ve.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);pM(m,v)||m.push(v)}d=new ji(m),f=o.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,f=o.fieldTransforms;return new hX(new si(c),d,f)}class mx extends hx{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mx}}class ST extends hx{_toFieldTransform(e){return new sW(e.path,new Em)}isEqual(e){return e instanceof ST}}function gX(t,e,n,r){const i=t.bc(1,e,n);TT("Data must be an object, but it was:",i,r);const a=[],o=si.empty();Ul(r,(d,f)=>{const m=AT(e,d,n);f=Lt(f);const g=i.mc(m);if(f instanceof mx)a.push(m);else{const v=ep(f,g);v!=null&&(a.push(m),o.set(m,v))}});const c=new ji(a);return new dM(o,c,i.fieldTransforms)}function vX(t,e,n,r,i,a){const o=t.bc(1,e,n),c=[rE(e,r,n)],d=[i];if(a.length%2!=0)throw new Oe(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)c.push(rE(e,a[v])),d.push(a[v+1]);const f=[],m=si.empty();for(let v=c.length-1;v>=0;--v)if(!pM(f,c[v])){const x=c[v];let w=d[v];w=Lt(w);const T=o.mc(x);if(w instanceof mx)f.push(x);else{const E=ep(w,T);E!=null&&(f.push(x),m.set(x,E))}}const g=new ji(f);return new dM(m,g,o.fieldTransforms)}function yX(t,e,n,r=!1){return ep(n,t.bc(r?4:3,e))}function ep(t,e){if(mM(t=Lt(t)))return TT("Unsupported field value:",e,t),hM(t,e);if(t instanceof hx)return function(r,i){if(!fM(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const c of r){let d=ep(c,i.fc(o));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rW(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=$n.fromDate(r);return{timestampValue:hv(i.serializer,a)}}if(r instanceof $n){const a=new $n(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hv(i.serializer,a)}}if(r instanceof bT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Md)return{bytesValue:P9(i.serializer,r._byteString)};if(r instanceof qr){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:nT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof wT)return function(o,c){return{mapValue:{fields:{[c9]:{stringValue:u9},[cv]:{arrayValue:{values:o.toArray().map(f=>{if(typeof f!="number")throw c.gc("VectorValues must only contain numeric values.");return ZS(c.serializer,f)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${cx(r)}`)}(t,e)}function hM(t,e){const n={};return r9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ul(t,(r,i)=>{const a=ep(i,e.Ac(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function mM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $n||t instanceof bT||t instanceof Md||t instanceof qr||t instanceof hx||t instanceof wT)}function TT(t,e,n){if(!mM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=cx(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function rE(t,e,n){if((e=Lt(e))instanceof fx)return e._internalPath;if(typeof e=="string")return AT(t,e);throw yv("Field path arguments must be of type string or ",t,!1,void 0,n)}const xX=new RegExp("[~\\*/\\[\\]]");function AT(t,e,n){if(e.search(xX)>=0)throw yv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fx(...e.split("."))._internalPath}catch{throw yv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yv(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||o)&&(d+=" (found",a&&(d+=` in field ${r}`),o&&(d+=` in document ${i}`),d+=")"),new Oe(ve.INVALID_ARGUMENT,c+t+d)}function pM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(px("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bX extends gM{data(){return super.data()}}function px(t,e){return typeof e=="string"?AT(t,e):e instanceof fx?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Oe(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NT{}class kT extends NT{}function Va(t,e,...n){let r=[];e instanceof NT&&r.push(e),r=r.concat(n),function(a){const o=a.filter(d=>d instanceof jT).length,c=a.filter(d=>d instanceof gx).length;if(o>1||o>0&&c>0)throw new Oe(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class gx extends kT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gx(e,n,r)}_apply(e){const n=this._parse(e);return yM(e._query,n),new Oo(e.firestore,e.converter,K2(e._query,n))}_parse(e){const n=ET(e.firestore);return function(a,o,c,d,f,m,g){let v;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Oe(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){bO(g,m);const w=[];for(const T of g)w.push(xO(d,a,T));v={arrayValue:{values:w}}}else v=xO(d,a,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||bO(g,m),v=yX(c,o,g,m==="in"||m==="not-in");return On.create(f,m,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Wc(t,e,n){const r=e,i=px("where",t);return gx._create(i,r,n)}class jT extends NT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jT(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ua.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const c=a.getFlattenedFilters();for(const d of c)yM(o,d),o=K2(o,d)}(e._query,n),new Oo(e.firestore,e.converter,K2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class CT extends kT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new CT(e,n)}_apply(e){const n=function(i,a,o){if(i.startAt!==null)throw new Oe(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Oe(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _m(a,o)}(e._query,this._field,this._direction);return new Oo(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new uf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Yc(t,e="asc"){const n=e,r=px("orderBy",t);return CT._create(r,n)}class OT extends kT{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new OT(e,n,r)}_apply(e){return new Oo(e.firestore,e.converter,dv(e._query,this._limit,this._limitType))}}function wX(t){return OT._create("limit",t,"F")}function xO(t,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new Oe(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y9(e)&&n.indexOf("/")!==-1)throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(en.fromString(n));if(!qe.isDocumentKey(r))throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return R4(t,new qe(r))}if(n instanceof qr)return R4(t,n._key);throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cx(n)}.`)}function bO(t,e){if(!Array.isArray(t)||t.length===0)throw new Oe(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yM(t,e){const n=function(i,a){for(const o of i)for(const c of o.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Oe(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Oe(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _X{convertValue(e,n="none"){switch(Ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ul(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[cv].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Sn(o.doubleValue));return new wT(a)}convertGeoPoint(e){return new bT(Sn(e.latitude),Sn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Jy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xm(e));default:return null}}convertTimestamp(e){const n=jl(e);return new $n(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=en.fromString(e);Ot($9(r),9688,{name:e});const i=new bm(r.get(1),r.get(3)),a=new qe(r.popFirst(5));return i.isEqual(n)||yo(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EX(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xM extends gM{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new F0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(px("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class F0 extends xM{data(e={}){return super.data(e)}}class bM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new F0(this._firestore,this._userDataWriter,r.key,r,new qh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Oe(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{const d=new F0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new qh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const d=new F0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new qh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),m=o.indexOf(c.doc.key)),{type:SX(c.type),doc:d,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function SX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t){t=sa(t,qr);const e=sa(t.firestore,Pl);return sX(dx(e),t._key).then(n=>wM(e,t,n))}class IT extends _X{constructor(e){super(),this.firestore=e}convertBytes(e){return new Md(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qr(this.firestore,null,n)}}function zn(t){t=sa(t,Oo);const e=sa(t.firestore,Pl),n=dx(e),r=new IT(e);return vM(t._query),oX(n,t._query).then(i=>new bM(e,r,t,i))}function Ld(t,e,n,...r){t=sa(t,qr);const i=sa(t.firestore,Pl),a=ET(i);let o;return o=typeof(e=Lt(e))=="string"||e instanceof fx?vX(a,"updateDoc",t._key,e,n,r):gX(a,"updateDoc",t._key,e),RT(i,[o.toMutation(t._key,Da.exists(!0))])}function Am(t){return RT(sa(t.firestore,Pl),[new JS(t._key,Da.none())])}function Uc(t,e){const n=sa(t.firestore,Pl),r=Vn(t),i=EX(t.converter,e);return RT(n,[pX(ET(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Da.exists(!1))]).then(()=>r)}function xv(t,...e){var n,r,i;t=Lt(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||yO(e[o])||(a=e[o],o++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(yO(e[o])){const g=e[o];e[o]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[o+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[o+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let d,f,m;if(t instanceof qr)f=sa(t.firestore,Pl),m=ex(t._key.path),d={next:g=>{e[o]&&e[o](wM(f,t,g))},error:e[o+1],complete:e[o+2]};else{const g=sa(t,Oo);f=sa(g.firestore,Pl),m=g._query;const v=new IT(f);d={next:x=>{e[o]&&e[o](new bM(f,v,g,x))},error:e[o+1],complete:e[o+2]},vM(t._query)}return function(v,x,w,T){const E=new xT(T),A=new gT(x,E,w);return v.asyncQueue.enqueueAndForget(async()=>hT(await vv(v),A)),()=>{E.xu(),v.asyncQueue.enqueueAndForget(async()=>mT(await vv(v),A))}}(dx(f),m,c,d)}function RT(t,e){return function(r,i){const a=new fo;return r.asyncQueue.enqueueAndForget(async()=>WY(await aX(r),i,a)),a.promise}(dx(t),e)}function wM(t,e,n){const r=n.docs.get(e._key),i=new IT(t);return new xM(t,i,e._key,r,new qh(n.hasPendingWrites,n.fromCache),e.converter)}function Ar(){return new ST("serverTimestamp")}(function(e,n=!0){(function(i){of=i})(uu),la(new Pi("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),c=new Pl(new vK(r.getProvider("auth-internal")),new bK(o,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Oe(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bm(f.options.projectId,m)}(o,i),o);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Cr(w4,_4,e),Cr(w4,_4,"esm2017")})();function PT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _M(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TX=_M,EM=new cu("auth","Firebase",_M());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=new Xy("@firebase/auth");function AX(t,...e){bv.logLevel<=ft.WARN&&bv.warn(`Auth (${uu}): ${t}`,...e)}function q0(t,...e){bv.logLevel<=ft.ERROR&&bv.error(`Auth (${uu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(t,...e){throw MT(t,...e)}function Ma(t,...e){return MT(t,...e)}function DT(t,e,n){const r=Object.assign(Object.assign({},TX()),{[e]:n});return new cu("auth","Firebase",r).create(e,{appName:t.name})}function Vc(t){return DT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NX(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&xs(t,"argument-error"),DT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function MT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EM.create(t,...e)}function et(t,e,...n){if(!t)throw MT(e,...n)}function ao(t){const e="INTERNAL ASSERTION FAILED: "+t;throw q0(e),new Error(e)}function bo(t,e){t||ao(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kX(){return wO()==="http:"||wO()==="https:"}function wO(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kX()||L6()||"connection"in navigator)?navigator.onLine:!0}function CX(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n){this.shortDelay=e,this.longDelay=n,bo(n>e,"Short delay should be less than long delay!"),this.isMobile=zH()||HH()}get(){return jX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t,e){bo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ao("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ao("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ao("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IX=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RX=new np(3e4,6e4);function UT(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function hu(t,e,n,r,i={}){return TM(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const c=Wm(Object.assign({key:t.config.apiKey},o)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:d},a);return qH()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Ll(t.emulatorConfig.host)&&(f.credentials="include"),SM.fetch()(await AM(t,t.config.apiHost,n,c),f)})}async function TM(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},OX),e);try{const i=new DX(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw a0(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const c=a.ok?o.errorMessage:o.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw a0(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw a0(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw a0(t,"user-disabled",o);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw DT(t,m,f);xs(t,m)}}catch(i){if(i instanceof Ui)throw i;xs(t,"network-request-failed",{message:String(i)})}}async function PX(t,e,n,r,i={}){const a=await hu(t,e,n,r,i);return"mfaPendingCredential"in a&&xs(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function AM(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?LT(t.config,i):`${t.config.apiScheme}://${i}`;return IX.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class DX{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ma(this.auth,"network-request-failed")),RX.get())})}}function a0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ma(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MX(t,e){return hu(t,"POST","/v1/accounts:delete",e)}async function wv(t,e){return hu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LX(t,e=!1){const n=Lt(t),r=await n.getIdToken(e),i=VT(r);et(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:am(kw(i.auth_time)),issuedAtTime:am(kw(i.iat)),expirationTime:am(kw(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function kw(t){return Number(t)*1e3}function VT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return q0("JWT malformed, contained fewer than 3 sections"),null;try{const i=I6(n);return i?JSON.parse(i):(q0("Failed to decode base64 JWT payload"),null)}catch(i){return q0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _O(t){const e=VT(t);return et(e,"internal-error"),et(typeof e.exp<"u","internal-error"),et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ui&&UX(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UX({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VX{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=am(this.lastLoginAt),this.creationTime=am(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _v(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ud(t,wv(n,{idToken:r}));et(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?NM(a.providerUserInfo):[],c=BX(t.providerData,o),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),m=d?f:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new aE(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function $X(t){const e=Lt(t);await _v(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BX(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function NM(t){return t.map(e=>{var{providerId:n}=e,r=PT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zX(t,e){const n=await TM(t,{},async()=>{const r=Wm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await AM(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",SM.fetch()(o,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FX(t,e){return hu(t,"POST","/v2/accounts:revokeToken",UT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){et(e.idToken,"internal-error"),et(typeof e.idToken<"u","internal-error"),et(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_O(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){et(e.length!==0,"internal-error");const n=_O(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await zX(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Ed;return r&&(et(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(et(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(et(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ed,this.toJSON())}_performRefresh(){return ao("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(t,e){et(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ia{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=PT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new aE(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Ud(this,this.stsTokenManager.getToken(this.auth,e));return et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LX(this,e)}reload(){return $X(this)}_assign(e){this!==e&&(et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ia(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _v(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ni(this.auth.app))return Promise.reject(Vc(this.auth));const e=await this.getIdToken();return await Ud(this,MX(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,o,c,d,f,m;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,x=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(c=n.tenantId)!==null&&c!==void 0?c:void 0,E=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,A=(f=n.createdAt)!==null&&f!==void 0?f:void 0,k=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:j,emailVerified:D,isAnonymous:O,providerData:L,stsTokenManager:P}=n;et(j&&P,e,"internal-error");const C=Ed.fromJSON(this.name,P);et(typeof j=="string",e,"internal-error"),dl(g,e.name),dl(v,e.name),et(typeof D=="boolean",e,"internal-error"),et(typeof O=="boolean",e,"internal-error"),dl(x,e.name),dl(w,e.name),dl(T,e.name),dl(E,e.name),dl(A,e.name),dl(k,e.name);const M=new Ia({uid:j,auth:e,email:v,emailVerified:D,displayName:g,isAnonymous:O,photoURL:w,phoneNumber:x,tenantId:T,stsTokenManager:C,createdAt:A,lastLoginAt:k});return L&&Array.isArray(L)&&(M.providerData=L.map(z=>Object.assign({},z))),E&&(M._redirectEventId=E),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ed;i.updateFromServerResponse(n);const a=new Ia({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await _v(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];et(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?NM(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Ed;c.updateFromIdToken(r);const d=new Ia({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new aE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=new Map;function so(t){bo(t instanceof Function,"Expected a class definition");let e=EO.get(t);return e?(bo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EO.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kM.type="NONE";const SO=kM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(t,e,n){return`firebase:${t}:${e}:${n}`}class Sd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=H0(this.userKey,i.apiKey,a),this.fullPersistenceKey=H0("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wv(this.auth,{idToken:e}).catch(()=>{});return n?Ia._fromGetAccountInfoResponse(this.auth,n,e):null}return Ia._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sd(so(SO),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||so(SO);const o=H0(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(o);if(m){let g;if(typeof m=="string"){const v=await wv(e,{idToken:m}).catch(()=>{});if(!v)break;g=await Ia._fromGetAccountInfoResponse(e,v,m)}else g=Ia._fromJSON(e,m);f!==a&&(c=g),a=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Sd(a,e,r):(a=d[0],c&&await a._set(o,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(o)}catch{}})),new Sd(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PM(e))return"Blackberry";if(DM(e))return"Webos";if(CM(e))return"Safari";if((e.includes("chrome/")||OM(e))&&!e.includes("edge/"))return"Chrome";if(RM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jM(t=Rr()){return/firefox\//i.test(t)}function CM(t=Rr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OM(t=Rr()){return/crios\//i.test(t)}function IM(t=Rr()){return/iemobile/i.test(t)}function RM(t=Rr()){return/android/i.test(t)}function PM(t=Rr()){return/blackberry/i.test(t)}function DM(t=Rr()){return/webos/i.test(t)}function $T(t=Rr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qX(t=Rr()){var e;return $T(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HX(){return GH()&&document.documentMode===10}function MM(t=Rr()){return $T(t)||RM(t)||DM(t)||PM(t)||/windows phone/i.test(t)||IM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(t,e=[]){let n;switch(t){case"Browser":n=TO(Rr());break;case"Worker":n=`${TO(Rr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,c)=>{try{const d=e(a);o(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KX(t,e={}){return hu(t,"GET","/v2/passwordPolicy",UT(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WX=6;class YX{constructor(e){var n,r,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:WX,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,o,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(o=d.containsNumericCharacter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XX{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AO(this),this.idTokenSubscription=new AO(this),this.beforeStateQueue=new GX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=so(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Sd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wv(this,{idToken:e}),r=await Ia._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ni(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&(d!=null&&d.user)&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _v(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CX()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ni(this.app))return Promise.reject(Vc(this));const n=e?Lt(e):null;return n&&et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ni(this.app)?Promise.reject(Vc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ni(this.app)?Promise.reject(Vc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(so(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KX(this),n=new YX(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FX(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&so(e)||this._popupRedirectResolver;et(n,this,"argument-error"),this.redirectPersistenceManager=await Sd.create(this,[so(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(c,this,"internal-error"),c.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{o=!0,d()}}else{const d=e.addObserver(n);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&AX(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function vx(t){return Lt(t)}class AO{constructor(e){this.auth=e,this.observer=null,this.addObserver=JH(n=>this.observer=n)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BT={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QX(t){BT=t}function ZX(t){return BT.loadJS(t)}function JX(){return BT.gapiScript}function eQ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tQ(t,e){const n=Co(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Nl(a,e??{}))return i;xs(i,"already-initialized")}return n.initialize({options:e})}function nQ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(so);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rQ(t,e,n){const r=vx(t);et(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=UM(e),{host:o,port:c}=iQ(e),d=c===null?"":`:${c}`,f={url:`${a}//${o}${d}/`},m=Object.freeze({host:o,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),et(Nl(f,r.config.emulator)&&Nl(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Ll(o)?(Wy(`${a}//${o}${d}`),Yy("Auth",!0)):aQ()}function UM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iQ(t){const e=UM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:NO(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:NO(o)}}}function NO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aQ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ao("not implemented")}_getIdTokenResponse(e){return ao("not implemented")}_linkToIdToken(e,n){return ao("not implemented")}_getReauthenticationResolver(e){return ao("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(t,e){return PX(t,"POST","/v1/accounts:signInWithIdp",UT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sQ="http://localhost";class Xc extends VM{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=PT(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Xc(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Td(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Td(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Td(e,n)}buildRequest(){const e={requestUri:sQ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wm(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends zT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends rp{constructor(){super("facebook.com")}static credential(e){return Xc._fromParams({providerId:gl.PROVIDER_ID,signInMethod:gl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gl.credentialFromTaggedObject(e)}static credentialFromError(e){return gl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gl.credential(e.oauthAccessToken)}catch{return null}}}gl.FACEBOOK_SIGN_IN_METHOD="facebook.com";gl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends rp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xc._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return eo.credential(n,r)}catch{return null}}}eo.GOOGLE_SIGN_IN_METHOD="google.com";eo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends rp{constructor(){super("github.com")}static credential(e){return Xc._fromParams({providerId:vl.PROVIDER_ID,signInMethod:vl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vl.credentialFromTaggedObject(e)}static credentialFromError(e){return vl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vl.credential(e.oauthAccessToken)}catch{return null}}}vl.GITHUB_SIGN_IN_METHOD="github.com";vl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends rp{constructor(){super("twitter.com")}static credential(e,n){return Xc._fromParams({providerId:yl.PROVIDER_ID,signInMethod:yl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return yl.credentialFromTaggedObject(e)}static credentialFromError(e){return yl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return yl.credential(n,r)}catch{return null}}}yl.TWITTER_SIGN_IN_METHOD="twitter.com";yl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Ia._fromIdTokenResponse(e,r,i),o=kO(r);return new Vd({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=kO(r);return new Vd({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function kO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev extends Ui{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ev.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ev(e,n,r,i)}}function $M(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ev._fromErrorAndOperation(t,a,e,r):a})}async function oQ(t,e,n=!1){const r=await Ud(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vd._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lQ(t,e,n=!1){const{auth:r}=t;if(Ni(r.app))return Promise.reject(Vc(r));const i="reauthenticate";try{const a=await Ud(t,$M(r,i,e,t),n);et(a.idToken,r,"internal-error");const o=VT(a.idToken);et(o,r,"internal-error");const{sub:c}=o;return et(t.uid===c,r,"user-mismatch"),Vd._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&xs(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cQ(t,e,n=!1){if(Ni(t.app))return Promise.reject(Vc(t));const r="signIn",i=await $M(t,r,e),a=await Vd._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uQ(t,e){return hu(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dQ(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Lt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ud(r,uQ(r.auth,a));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function fQ(t,e,n,r){return Lt(t).onIdTokenChanged(e,n,r)}function hQ(t,e,n){return Lt(t).beforeAuthStateChanged(e,n)}function mQ(t,e,n,r){return Lt(t).onAuthStateChanged(e,n,r)}function pQ(t){return Lt(t).signOut()}async function gQ(t){return Lt(t).delete()}const Sv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sv,"1"),this.storage.removeItem(Sv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vQ=1e3,yQ=10;class zM extends BM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,d)=>{this.notifyListeners(o,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);HX()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yQ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zM.type="LOCAL";const xQ=zM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM extends BM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FM.type="SESSION";const qM=FM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new yx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(o).map(async f=>f(n.origin,a)),d=await bQ(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((c,d)=>{const f=FT("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(v.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(){return window}function _Q(t){ms().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(){return typeof ms().WorkerGlobalScope<"u"&&typeof ms().importScripts=="function"}async function EQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SQ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TQ(){return HM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="firebaseLocalStorageDb",AQ=1,Tv="firebaseLocalStorage",KM="fbase_key";class ip{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xx(t,e){return t.transaction([Tv],e?"readwrite":"readonly").objectStore(Tv)}function NQ(){const t=indexedDB.deleteDatabase(GM);return new ip(t).toPromise()}function sE(){const t=indexedDB.open(GM,AQ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tv,{keyPath:KM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tv)?e(r):(r.close(),await NQ(),e(await sE()))})})}async function jO(t,e,n){const r=xx(t,!0).put({[KM]:e,value:n});return new ip(r).toPromise()}async function kQ(t,e){const n=xx(t,!1).get(e),r=await new ip(n).toPromise();return r===void 0?null:r.value}function CO(t,e){const n=xx(t,!0).delete(e);return new ip(n).toPromise()}const jQ=800,CQ=3;class WM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>CQ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yx._getInstance(TQ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await EQ(),!this.activeServiceWorker)return;this.sender=new wQ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sE();return await jO(e,Sv,"1"),await CO(e,Sv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>jO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kQ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>CO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=xx(i,!1).getAll();return new ip(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WM.type="LOCAL";const OQ=WM;new np(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t,e){return e?so(e):(et(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends VM{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Td(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Td(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Td(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IQ(t){return cQ(t.auth,new qT(t),t.bypassAuthState)}function RQ(t){const{auth:e,user:n}=t;return et(n,e,"internal-error"),lQ(n,new qT(t),t.bypassAuthState)}async function PQ(t){const{auth:e,user:n}=t;return et(n,e,"internal-error"),oQ(n,new qT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:c}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IQ;case"linkViaPopup":case"linkViaRedirect":return PQ;case"reauthViaPopup":case"reauthViaRedirect":return RQ;default:xs(this.auth,"internal-error")}}resolve(e){bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DQ=new np(2e3,1e4);async function MQ(t,e,n){if(Ni(t.app))return Promise.reject(Ma(t,"operation-not-supported-in-this-environment"));const r=vx(t);NX(t,e,zT);const i=YM(r,n);return new Oc(r,"signInViaPopup",e,i).executeNotNull()}class Oc extends XM{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Oc.currentPopupAction&&Oc.currentPopupAction.cancel(),Oc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return et(e,this.auth,"internal-error"),e}async onExecution(){bo(this.filter.length===1,"Popup operations only handle one event");const e=FT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ma(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ma(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ma(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DQ.get())};e()}}Oc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LQ="pendingRedirect",G0=new Map;class UQ extends XM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=G0.get(this.auth._key());if(!e){try{const r=await VQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}G0.set(this.auth._key(),e)}return this.bypassAuthState||G0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VQ(t,e){const n=zQ(e),r=BQ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $Q(t,e){G0.set(t._key(),e)}function BQ(t){return so(t._redirectPersistence)}function zQ(t){return H0(LQ,t.config.apiKey,t.name)}async function FQ(t,e,n=!1){if(Ni(t.app))return Promise.reject(Vc(t));const r=vx(t),i=YM(r,e),o=await new UQ(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qQ=10*60*1e3;class HQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QM(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ma(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(OO(e))}saveEventToCache(e){this.cachedEventUids.add(OO(e)),this.lastProcessedEventTime=Date.now()}}function OO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KQ(t,e={}){return hu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YQ=/^https?/;async function XQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await KQ(t);for(const n of e)try{if(QQ(n))return}catch{}xs(t,"unauthorized-domain")}function QQ(t){const e=iE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!YQ.test(n))return!1;if(WQ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZQ=new np(3e4,6e4);function IO(){const t=ms().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JQ(t){return new Promise((e,n)=>{var r,i,a;function o(){IO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IO(),n(Ma(t,"network-request-failed"))},timeout:ZQ.get()})}if(!((i=(r=ms().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ms().gapi)===null||a===void 0)&&a.load)o();else{const c=eQ("iframefcb");return ms()[c]=()=>{gapi.load?o():n(Ma(t,"network-request-failed"))},ZX(`${JX()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw K0=null,e})}let K0=null;function eZ(t){return K0=K0||JQ(t),K0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tZ=new np(5e3,15e3),nZ="__/auth/iframe",rZ="emulator/auth/iframe",iZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sZ(t){const e=t.config;et(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?LT(e,rZ):`https://${t.config.authDomain}/${nZ}`,r={apiKey:e.apiKey,appName:t.name,v:uu},i=aZ.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Wm(r).slice(1)}`}async function oZ(t){const e=await eZ(t),n=ms().gapi;return et(n,t,"internal-error"),e.open({where:document.body,url:sZ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iZ,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Ma(t,"network-request-failed"),c=ms().setTimeout(()=>{a(o)},tZ.get());function d(){ms().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cZ=500,uZ=600,dZ="_blank",fZ="http://localhost";class RO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hZ(t,e,n,r=cZ,i=uZ){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},lZ),{width:r.toString(),height:i.toString(),top:a,left:o}),f=Rr().toLowerCase();n&&(c=OM(f)?dZ:n),jM(f)&&(e=e||fZ,d.scrollbars="yes");const m=Object.entries(d).reduce((v,[x,w])=>`${v}${x}=${w},`,"");if(qX(f)&&c!=="_self")return mZ(e||"",c),new RO(null);const g=window.open(e||"",c,m);et(g,t,"popup-blocked");try{g.focus()}catch{}return new RO(g)}function mZ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pZ="__/auth/handler",gZ="emulator/auth/handler",vZ=encodeURIComponent("fac");async function PO(t,e,n,r,i,a){et(t.config.authDomain,t,"auth-domain-config-required"),et(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:uu,eventId:i};if(e instanceof zT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ZH(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))o[m]=g}if(e instanceof rp){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),f=d?`#${vZ}=${encodeURIComponent(d)}`:"";return`${yZ(t)}?${Wm(c).slice(1)}${f}`}function yZ({config:t}){return t.emulator?LT(t,gZ):`https://${t.authDomain}/${pZ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="webStorageSupport";class xZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qM,this._completeRedirectFn=FQ,this._overrideRedirectResult=$Q}async _openPopup(e,n,r,i){var a;bo((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await PO(e,n,r,iE(),i);return hZ(e,o,FT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await PO(e,n,r,iE(),i);return _Q(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(bo(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oZ(e),r=new HQ(e);return n.register("authEvent",i=>(et(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jw,{type:jw},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[jw];o!==void 0&&n(!!o),xs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MM()||CM()||$T()}}const bZ=xZ;var DO="@firebase/auth",MO="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Z(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EZ(t){la(new Pi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;et(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LM(t)},f=new XX(r,i,a,d);return nQ(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),la(new Pi("auth-internal",e=>{const n=vx(e.getProvider("auth").getImmediate());return(r=>new wZ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(DO,MO,_Z(t)),Cr(DO,MO,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SZ=5*60,TZ=D6("authIdTokenMaxAge")||SZ;let LO=null;const AZ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>TZ)return;const i=n==null?void 0:n.token;LO!==i&&(LO=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function NZ(t=Ym()){const e=Co(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tQ(t,{popupRedirectResolver:bZ,persistence:[OQ,xQ,qM]}),r=D6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=AZ(a.toString());hQ(n,o,()=>o(n.currentUser)),fQ(n,c=>o(c))}}const i=R6("auth");return i&&rQ(n,`http://${i}`),n}function kZ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}QX({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ma("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",kZ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EZ("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM="firebasestorage.googleapis.com",JM="storageBucket",jZ=2*60*1e3,CZ=10*60*1e3,OZ=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn extends Ui{constructor(e,n,r=0){super(Cw(e),`Firebase Storage: ${n} (${Cw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,hn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var tn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tn||(tn={}));function Cw(t){return"storage/"+t}function HT(){const t="An unknown error occurred, please check the error payload for server response.";return new hn(tn.UNKNOWN,t)}function IZ(t){return new hn(tn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function RZ(t){return new hn(tn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function PZ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new hn(tn.UNAUTHENTICATED,t)}function DZ(){return new hn(tn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function MZ(t){return new hn(tn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function e8(){return new hn(tn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function t8(){return new hn(tn.CANCELED,"User canceled the upload/download.")}function LZ(t){return new hn(tn.INVALID_URL,"Invalid URL '"+t+"'.")}function UZ(t){return new hn(tn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function VZ(){return new hn(tn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+JM+"' property when initializing the app?")}function n8(){return new hn(tn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $Z(){return new hn(tn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function BZ(){return new hn(tn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zZ(t){return new hn(tn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function oE(t){return new hn(tn.INVALID_ARGUMENT,t)}function r8(){return new hn(tn.APP_DELETED,"The Firebase app was deleted.")}function FZ(t){return new hn(tn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sm(t,e){return new hn(tn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ch(t){throw new hn(tn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ci.makeFromUrl(e,n)}catch{return new Ci(e,"")}if(r.path==="")return r;throw UZ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+i+o,"i"),d={bucket:1,path:3};function f(D){D.path_=decodeURIComponent(D.path)}const m="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",x=new RegExp(`^https?://${g}/${m}/b/${i}/o${v}`,"i"),w={bucket:1,path:3},T=n===ZM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",A=new RegExp(`^https?://${T}/${i}/${E}`,"i"),j=[{regex:c,indices:d,postModify:a},{regex:x,indices:w,postModify:f},{regex:A,indices:{bucket:1,path:2},postModify:f}];for(let D=0;D<j.length;D++){const O=j[D],L=O.regex.exec(e);if(L){const P=L[O.indices.bucket];let C=L[O.indices.path];C||(C=""),r=new Ci(P,C),O.postModify(r);break}}if(r==null)throw LZ(e);return r}}class qZ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HZ(t,e,n){let r=1,i=null,a=null,o=!1,c=0;function d(){return c===2}let f=!1;function m(...E){f||(f=!0,e.apply(null,E))}function g(E){i=setTimeout(()=>{i=null,t(x,d())},E)}function v(){a&&clearTimeout(a)}function x(E,...A){if(f){v();return}if(E){v(),m.call(null,E,...A);return}if(d()||o){v(),m.call(null,E,...A);return}r<64&&(r*=2);let j;c===1?(c=2,j=0):j=(r+Math.random())*1e3,g(j)}let w=!1;function T(E){w||(w=!0,v(),!f&&(i!==null?(E||(c=2),clearTimeout(i),g(0)):E||(c=1)))}return g(0),a=setTimeout(()=>{o=!0,T(!0)},n),T}function GZ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KZ(t){return t!==void 0}function WZ(t){return typeof t=="function"}function YZ(t){return typeof t=="object"&&!Array.isArray(t)}function bx(t){return typeof t=="string"||t instanceof String}function UO(t){return GT()&&t instanceof Blob}function GT(){return typeof Blob<"u"}function VO(t,e,n,r){if(r<e)throw oE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw oE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function i8(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var $c;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($c||($c={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XZ{constructor(e,n,r,i,a,o,c,d,f,m,g,v=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,T)=>{this.resolve_=w,this.reject_=T,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new s0(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=c=>{const d=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const c=a.getErrorCode()===$c.NO_ERROR,d=a.getStatus();if(!c||a8(d,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===$c.ABORT;r(!1,new s0(!1,null,m));return}const f=this.successCodes_.indexOf(d)!==-1;r(!0,new s0(f,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());KZ(d)?a(d):a()}catch(d){o(d)}else if(c!==null){const d=HT();d.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,d)):o(d)}else if(i.canceled){const d=this.appDelete_?r8():t8();o(d)}else{const d=e8();o(d)}};this.canceled_?n(!1,new s0(!1,null,!0)):this.backoffId_=HZ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GZ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class s0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function QZ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ZZ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JZ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function eJ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function tJ(t,e,n,r,i,a,o=!0,c=!1){const d=i8(t.urlParams),f=t.url+d,m=Object.assign({},t.headers);return JZ(m,e),QZ(m,n),ZZ(m,a),eJ(m,r),new XZ(f,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nJ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function rJ(...t){const e=nJ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(GT())return new Blob(t);throw new hn(tn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function iJ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aJ(t){if(typeof atob>"u")throw zZ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ow{constructor(e,n){this.data=e,this.contentType=n||null}}function sJ(t,e){switch(t){case us.RAW:return new Ow(s8(e));case us.BASE64:case us.BASE64URL:return new Ow(o8(t,e));case us.DATA_URL:return new Ow(lJ(e),cJ(e))}throw HT()}function s8(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function oJ(t){let e;try{e=decodeURIComponent(t)}catch{throw sm(us.DATA_URL,"Malformed data URL.")}return s8(e)}function o8(t,e){switch(t){case us.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw sm(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case us.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw sm(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=aJ(e)}catch(i){throw i.message.includes("polyfill")?i:sm(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class l8{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw sm(us.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=uJ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function lJ(t){const e=new l8(t);return e.base64?o8(us.BASE64,e.rest):oJ(e.rest)}function cJ(t){return new l8(t).contentType}function uJ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){let r=0,i="";UO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(UO(this.data_)){const r=this.data_,i=iJ(r,e,n);return i===null?null:new xl(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new xl(r,!0)}}static getBlob(...e){if(GT()){const n=e.map(r=>r instanceof xl?r.data_:r);return new xl(rJ.apply(null,n))}else{const n=e.map(o=>bx(o)?sJ(us.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let c=0;c<o.length;c++)i[a++]=o[c]}),new xl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t){let e;try{e=JSON.parse(t)}catch{return null}return YZ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dJ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function fJ(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function u8(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hJ(t,e){return e}class Ur{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||hJ}}let o0=null;function mJ(t){return!bx(t)||t.length<2?t:u8(t)}function d8(){if(o0)return o0;const t=[];t.push(new Ur("bucket")),t.push(new Ur("generation")),t.push(new Ur("metageneration")),t.push(new Ur("name","fullPath",!0));function e(a,o){return mJ(o)}const n=new Ur("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new Ur("size");return i.xform=r,t.push(i),t.push(new Ur("timeCreated")),t.push(new Ur("updated")),t.push(new Ur("md5Hash",null,!0)),t.push(new Ur("cacheControl",null,!0)),t.push(new Ur("contentDisposition",null,!0)),t.push(new Ur("contentEncoding",null,!0)),t.push(new Ur("contentLanguage",null,!0)),t.push(new Ur("contentType",null,!0)),t.push(new Ur("metadata","customMetadata",!0)),o0=t,o0}function pJ(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Ci(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function gJ(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return pJ(r,t),r}function f8(t,e,n){const r=c8(e);return r===null?null:gJ(t,r,n)}function vJ(t,e,n,r){const i=c8(e);if(i===null||!bx(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(f=>{const m=t.bucket,g=t.fullPath,v="/b/"+o(m)+"/o/"+o(g),x=ap(v,n,r),w=i8({alt:"media",token:f});return x+w})[0]}function h8(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class ff{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t){if(!t)throw HT()}function KT(t,e){function n(r,i){const a=f8(t,i,e);return ho(a!==null),a}return n}function yJ(t,e){function n(r,i){const a=f8(t,i,e);return ho(a!==null),vJ(a,i,t.host,t._protocol)}return n}function sp(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=DZ():i=PZ():n.getStatus()===402?i=RZ(t.bucket):n.getStatus()===403?i=MZ(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function m8(t){const e=sp(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=IZ(t.path)),a.serverResponse=i.serverResponse,a}return n}function xJ(t,e,n){const r=e.fullServerUrl(),i=ap(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,c=new ff(i,a,KT(t,n),o);return c.errorHandler=m8(e),c}function bJ(t,e,n){const r=e.fullServerUrl(),i=ap(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,c=new ff(i,a,yJ(t,n),o);return c.errorHandler=m8(e),c}function wJ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function p8(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=wJ(null,e)),r}function _J(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let j="";for(let D=0;D<2;D++)j=j+Math.random().toString().slice(2);return j}const d=c();o["Content-Type"]="multipart/related; boundary="+d;const f=p8(e,r,i),m=h8(f,n),g="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+d+"--",x=xl.getBlob(g,r,v);if(x===null)throw n8();const w={name:f.fullPath},T=ap(a,t.host,t._protocol),E="POST",A=t.maxUploadRetryTime,k=new ff(T,E,KT(t,n),A);return k.urlParams=w,k.headers=o,k.body=x.uploadData(),k.errorHandler=sp(e),k}class Av{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function WT(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ho(!1)}return ho(!!n&&(e||["active"]).indexOf(n)!==-1),n}function EJ(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o=p8(e,r,i),c={name:o.fullPath},d=ap(a,t.host,t._protocol),f="POST",m={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},g=h8(o,n),v=t.maxUploadRetryTime;function x(T){WT(T);let E;try{E=T.getResponseHeader("X-Goog-Upload-URL")}catch{ho(!1)}return ho(bx(E)),E}const w=new ff(d,f,x,v);return w.urlParams=c,w.headers=m,w.body=g,w.errorHandler=sp(e),w}function SJ(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function a(f){const m=WT(f,["active","final"]);let g=null;try{g=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ho(!1)}g||ho(!1);const v=Number(g);return ho(!isNaN(v)),new Av(v,r.size(),m==="final")}const o="POST",c=t.maxUploadRetryTime,d=new ff(n,o,a,c);return d.headers=i,d.errorHandler=sp(e),d}const $O=256*1024;function TJ(t,e,n,r,i,a,o,c){const d=new Av(0,0);if(o?(d.current=o.current,d.total=o.total):(d.current=0,d.total=r.size()),r.size()!==d.total)throw $Z();const f=d.total-d.current;let m=f;i>0&&(m=Math.min(m,i));const g=d.current,v=g+m;let x="";m===0?x="finalize":f===m?x="upload, finalize":x="upload";const w={"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":`${d.current}`},T=r.slice(g,v);if(T===null)throw n8();function E(D,O){const L=WT(D,["active","final"]),P=d.current+m,C=r.size();let M;return L==="final"?M=KT(e,a)(D,O):M=null,new Av(P,C,L==="final",M)}const A="POST",k=e.maxUploadRetryTime,j=new ff(n,A,E,k);return j.headers=w,j.body=T.uploadData(),j.progressCallback=c||null,j.errorHandler=sp(t),j}const ii={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Iw(t){switch(t){case"running":case"pausing":case"canceling":return ii.RUNNING;case"paused":return ii.PAUSED;case"success":return ii.SUCCESS;case"canceled":return ii.CANCELED;case"error":return ii.ERROR;default:return ii.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{constructor(e,n,r){if(WZ(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class NJ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$c.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$c.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$c.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw Ch("cannot .send() more than once");if(Ll(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ch("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ch("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ch("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ch("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class kJ extends NJ{initXhr(){this.xhr_.responseType="text"}}function pd(){return new kJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=d8(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(tn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(a8(i.status,[]))if(a)i=e8();else{this.sleepTime=Math.max(this.sleepTime*2,OZ),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(tn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=EJ(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,pd,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=SJ(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,pd,n,r);this._request=a,a.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=$O*this._chunkMultiplier,n=new Av(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let o;try{o=TJ(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(d){this._error=d,this._transition("error");return}const c=this._ref.storage._makeRequest(o,pd,i,a,!1);this._request=c,c.getPromise().then(d=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(d.current),d.finalized?(this._metadata=d.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){$O*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=xJ(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,pd,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=_J(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,pd,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=t8(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Iw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const a=new AJ(n||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Iw(this._state)){case ii.SUCCESS:ld(this._resolve.bind(null,this.snapshot))();break;case ii.CANCELED:case ii.ERROR:const n=this._reject;ld(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Iw(this._state)){case ii.RUNNING:case ii.PAUSED:e.next&&ld(e.next.bind(e,this.snapshot))();break;case ii.SUCCESS:e.complete&&ld(e.complete.bind(e))();break;case ii.CANCELED:case ii.ERROR:e.error&&ld(e.error.bind(e,this._error))();break;default:e.error&&ld(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n){this._service=e,n instanceof Ci?this._location=n:this._location=Ci.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qc(e,n)}get root(){const e=new Ci(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return u8(this._location.path)}get storage(){return this._service}get parent(){const e=dJ(this._location.path);if(e===null)return null;const n=new Ci(this._location.bucket,e);return new Qc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw FZ(e)}}function CJ(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new jJ(t,new xl(e),n)}function OJ(t){t._throwIfRoot("getDownloadURL");const e=bJ(t.storage,t._location,d8());return t.storage.makeRequestWithTokens(e,pd).then(n=>{if(n===null)throw BZ();return n})}function IJ(t,e){const n=fJ(t._location.path,e),r=new Ci(t._location.bucket,n);return new Qc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RJ(t){return/^[A-Za-z]+:\/\//.test(t)}function PJ(t,e){return new Qc(t,e)}function g8(t,e){if(t instanceof YT){const n=t;if(n._bucket==null)throw VZ();const r=new Qc(n,n._bucket);return e!=null?g8(r,e):r}else return e!==void 0?IJ(t,e):t}function DJ(t,e){if(e&&RJ(e)){if(t instanceof YT)return PJ(t,e);throw oE("To use ref(service, url), the first argument must be a Storage instance.")}else return g8(t,e)}function BO(t,e){const n=e==null?void 0:e[JM];return n==null?null:Ci.makeFromBucketSpec(n,t)}function MJ(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ll(e);i&&(Wy(`https://${t.host}`),Yy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:M6(a,t.app.options.projectId))}class YT{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=ZM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jZ,this._maxUploadRetryTime=CZ,this._requests=new Set,i!=null?this._bucket=Ci.makeFromBucketSpec(i,this._host):this._bucket=BO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ci.makeFromBucketSpec(this._url,e):this._bucket=BO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){VO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){VO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qc(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new qZ(r8());{const o=tJ(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const zO="@firebase/storage",FO="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8="storage";function LJ(t,e,n){return t=Lt(t),CJ(t,e,n)}function UJ(t){return t=Lt(t),OJ(t)}function VJ(t,e){return t=Lt(t),DJ(t,e)}function $J(t=Ym(),e){t=Lt(t);const r=Co(t,v8).getImmediate({identifier:e}),i=qS("storage");return i&&BJ(r,...i),r}function BJ(t,e,n,r={}){MJ(t,e,n,r)}function zJ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new YT(n,r,i,e,uu)}function FJ(){la(new Pi(v8,zJ,"PUBLIC").setMultipleInstances(!0)),Cr(zO,FO,""),Cr(zO,FO,"esm2017")}FJ();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qJ="type.googleapis.com/google.protobuf.Int64Value",HJ="type.googleapis.com/google.protobuf.UInt64Value";function y8(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Nv(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Nv(e));if(typeof t=="function"||typeof t=="object")return y8(t,e=>Nv(e));throw new Error("Data cannot be encoded in JSON: "+t)}function $d(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case qJ:case HJ:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>$d(e)):typeof t=="function"||typeof t=="object"?y8(t,e=>$d(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oi extends Ui{constructor(e,n,r){super(`${XT}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,oi.prototype)}}function GJ(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function kv(t,e){let n=GJ(t),r=n,i;try{const a=e&&e.error;if(a){const o=a.status;if(typeof o=="string"){if(!qO[o])return new oi("internal","internal");n=qO[o],r=o}const c=a.message;typeof c=="string"&&(r=c),i=a.details,i!==void 0&&(i=$d(i))}}catch{}return n==="ok"?null:new oi(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Ni(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i==null||i.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="us-central1",WJ=/^data: (.*?)(?:\n|$)/;function YJ(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new oi("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class XJ{constructor(e,n,r,i,a=lE,o=(...c)=>fetch(...c)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new KJ(e,n,r,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(a);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=lE}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function QJ(t,e,n){const r=Ll(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Wy(t.emulatorOrigin),Yy("Functions",!0))}function ZJ(t,e,n){const r=i=>eee(t,e,i,{});return r.stream=(i,a)=>nee(t,e,i,a),r}async function JJ(t,e,n,r){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let a=null;try{a=await i.json()}catch{}return{status:i.status,json:a}}async function x8(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function eee(t,e,n,r){const i=t._url(e);return tee(t,i,n,r)}async function tee(t,e,n,r){n=Nv(n);const i={data:n},a=await x8(t,r),o=r.timeout||7e4,c=YJ(o),d=await Promise.race([JJ(e,i,a,t.fetchImpl),c.promise,t.cancelAllRequests]);if(c.cancel(),!d)throw new oi("cancelled","Firebase Functions instance was deleted.");const f=kv(d.status,d.json);if(f)throw f;if(!d.json)throw new oi("internal","Response is not valid JSON object.");let m=d.json.data;if(typeof m>"u"&&(m=d.json.result),typeof m>"u")throw new oi("internal","Response is missing data field.");return{data:$d(m)}}function nee(t,e,n,r){const i=t._url(e);return ree(t,i,n,r||{})}async function ree(t,e,n,r){var i;n=Nv(n);const a={data:n},o=await x8(t,r);o["Content-Type"]="application/json",o.Accept="text/event-stream";let c;try{c=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:o,signal:r==null?void 0:r.signal})}catch(x){if(x instanceof Error&&x.name==="AbortError"){const T=new oi("cancelled","Request was cancelled.");return{data:Promise.reject(T),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(T)}}}}}}const w=kv(0,null);return{data:Promise.reject(w),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(w)}}}}}}let d,f;const m=new Promise((x,w)=>{d=x,f=w});(i=r==null?void 0:r.signal)===null||i===void 0||i.addEventListener("abort",()=>{const x=new oi("cancelled","Request was cancelled.");f(x)});const g=c.body.getReader(),v=iee(g,d,f,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const x=v.getReader();return{async next(){const{value:w,done:T}=await x.read();return{value:w,done:T}},async return(){return await x.cancel(),{done:!0,value:void 0}}}}},data:m}}function iee(t,e,n,r){const i=(o,c)=>{const d=o.match(WJ);if(!d)return;const f=d[1];try{const m=JSON.parse(f);if("result"in m){e($d(m.result));return}if("message"in m){c.enqueue($d(m.message));return}if("error"in m){const g=kv(0,m);c.error(g),n(g);return}}catch(m){if(m instanceof oi){c.error(m),n(m);return}}},a=new TextDecoder;return new ReadableStream({start(o){let c="";return d();async function d(){if(r!=null&&r.aborted){const f=new oi("cancelled","Request was cancelled");return o.error(f),n(f),Promise.resolve()}try{const{value:f,done:m}=await t.read();if(m){c.trim()&&i(c.trim(),o),o.close();return}if(r!=null&&r.aborted){const v=new oi("cancelled","Request was cancelled");o.error(v),n(v),await t.cancel();return}c+=a.decode(f,{stream:!0});const g=c.split(`
`);c=g.pop()||"";for(const v of g)v.trim()&&i(v.trim(),o);return d()}catch(f){const m=f instanceof oi?f:kv(0,null);o.error(m),n(m)}}},cancel(){return t.cancel()}})}const HO="@firebase/functions",GO="0.12.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aee="auth-internal",see="app-check-internal",oee="messaging-internal";function lee(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),a=n.getProvider(aee),o=n.getProvider(oee),c=n.getProvider(see);return new XJ(i,a,o,c,r)};la(new Pi(XT,e,"PUBLIC").setMultipleInstances(!0)),Cr(HO,GO,t),Cr(HO,GO,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t=Ym(),e=lE){const r=Co(Lt(t),XT).getImmediate({identifier:e}),i=qS("functions");return i&&cee(r,...i),r}function cee(t,e,n){QJ(Lt(t),e,n)}function La(t,e,n){return ZJ(Lt(t),e)}lee();const b8="@firebase/installations",QT="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=1e4,_8=`w:${QT}`,E8="FIS_v2",uee="https://firebaseinstallations.googleapis.com/v1",dee=60*60*1e3,fee="installations",hee="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mee={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Zc=new cu(fee,hee,mee);function S8(t){return t instanceof Ui&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8({projectId:t}){return`${uee}/projects/${t}/installations`}function A8(t){return{token:t.token,requestStatus:2,expiresIn:gee(t.expiresIn),creationTime:Date.now()}}async function N8(t,e){const r=(await e.json()).error;return Zc.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function k8({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function pee(t,{refreshToken:e}){const n=k8(t);return n.append("Authorization",vee(e)),n}async function j8(t){const e=await t();return e.status>=500&&e.status<600?t():e}function gee(t){return Number(t.replace("s","000"))}function vee(t){return`${E8} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yee({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=T8(t),i=k8(t),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={fid:n,authVersion:E8,appId:t.appId,sdkVersion:_8},c={method:"POST",headers:i,body:JSON.stringify(o)},d=await j8(()=>fetch(r,c));if(d.ok){const f=await d.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:A8(f.authToken)}}else throw await N8("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xee(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bee=/^[cdef][\w-]{21}$/,cE="";function wee(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=_ee(t);return bee.test(n)?n:cE}catch{return cE}}function _ee(t){return xee(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8=new Map;function I8(t,e){const n=wx(t);R8(n,e),Eee(n,e)}function R8(t,e){const n=O8.get(t);if(n)for(const r of n)r(e)}function Eee(t,e){const n=See();n&&n.postMessage({key:t,fid:e}),Tee()}let Ic=null;function See(){return!Ic&&"BroadcastChannel"in self&&(Ic=new BroadcastChannel("[Firebase] FID Change"),Ic.onmessage=t=>{R8(t.data.key,t.data.fid)}),Ic}function Tee(){O8.size===0&&Ic&&(Ic.close(),Ic=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aee="firebase-installations-database",Nee=1,Jc="firebase-installations-store";let Rw=null;function ZT(){return Rw||(Rw=z6(Aee,Nee,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Jc)}}})),Rw}async function Cv(t,e){const n=wx(t),i=(await ZT()).transaction(Jc,"readwrite"),a=i.objectStore(Jc),o=await a.get(n);return await a.put(e,n),await i.done,(!o||o.fid!==e.fid)&&I8(t,e.fid),e}async function P8(t){const e=wx(t),r=(await ZT()).transaction(Jc,"readwrite");await r.objectStore(Jc).delete(e),await r.done}async function _x(t,e){const n=wx(t),i=(await ZT()).transaction(Jc,"readwrite"),a=i.objectStore(Jc),o=await a.get(n),c=e(o);return c===void 0?await a.delete(n):await a.put(c,n),await i.done,c&&(!o||o.fid!==c.fid)&&I8(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JT(t){let e;const n=await _x(t.appConfig,r=>{const i=kee(r),a=jee(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===cE?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function kee(t){const e=t||{fid:wee(),registrationStatus:0};return D8(e)}function jee(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Zc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Cee(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Oee(t)}:{installationEntry:e}}async function Cee(t,e){try{const n=await yee(t,e);return Cv(t.appConfig,n)}catch(n){throw S8(n)&&n.customData.serverCode===409?await P8(t.appConfig):await Cv(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Oee(t){let e=await KO(t.appConfig);for(;e.registrationStatus===1;)await C8(100),e=await KO(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await JT(t);return r||n}return e}function KO(t){return _x(t,e=>{if(!e)throw Zc.create("installation-not-found");return D8(e)})}function D8(t){return Iee(t)?{fid:t.fid,registrationStatus:0}:t}function Iee(t){return t.registrationStatus===1&&t.registrationTime+w8<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ree({appConfig:t,heartbeatServiceProvider:e},n){const r=Pee(t,n),i=pee(t,n),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={installation:{sdkVersion:_8,appId:t.appId}},c={method:"POST",headers:i,body:JSON.stringify(o)},d=await j8(()=>fetch(r,c));if(d.ok){const f=await d.json();return A8(f)}else throw await N8("Generate Auth Token",d)}function Pee(t,{fid:e}){return`${T8(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(t,e=!1){let n;const r=await _x(t.appConfig,a=>{if(!M8(a))throw Zc.create("not-registered");const o=a.authToken;if(!e&&Lee(o))return a;if(o.requestStatus===1)return n=Dee(t,e),a;{if(!navigator.onLine)throw Zc.create("app-offline");const c=Vee(a);return n=Mee(t,c),c}});return n?await n:r.authToken}async function Dee(t,e){let n=await WO(t.appConfig);for(;n.authToken.requestStatus===1;)await C8(100),n=await WO(t.appConfig);const r=n.authToken;return r.requestStatus===0?eA(t,e):r}function WO(t){return _x(t,e=>{if(!M8(e))throw Zc.create("not-registered");const n=e.authToken;return $ee(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Mee(t,e){try{const n=await Ree(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Cv(t.appConfig,r),n}catch(n){if(S8(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await P8(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Cv(t.appConfig,r)}throw n}}function M8(t){return t!==void 0&&t.registrationStatus===2}function Lee(t){return t.requestStatus===2&&!Uee(t)}function Uee(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+dee}function Vee(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function $ee(t){return t.requestStatus===1&&t.requestTime+w8<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bee(t){const e=t,{installationEntry:n,registrationPromise:r}=await JT(e);return r?r.catch(console.error):eA(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zee(t,e=!1){const n=t;return await Fee(n),(await eA(n,e)).token}async function Fee(t){const{registrationPromise:e}=await JT(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qee(t){if(!t||!t.options)throw Pw("App Configuration");if(!t.name)throw Pw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Pw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Pw(t){return Zc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8="installations",Hee="installations-internal",Gee=t=>{const e=t.getProvider("app").getImmediate(),n=qee(e),r=Co(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Kee=t=>{const e=t.getProvider("app").getImmediate(),n=Co(e,L8).getImmediate();return{getId:()=>Bee(n),getToken:i=>zee(n,i)}};function Wee(){la(new Pi(L8,Gee,"PUBLIC")),la(new Pi(Hee,Kee,"PRIVATE"))}Wee();Cr(b8,QT);Cr(b8,QT,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="analytics",Yee="firebase_id",Xee="origin",Qee=60*1e3,Zee="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tA="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Xy("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jee={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ii=new cu("analytics","Analytics",Jee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ete(t){if(!t.startsWith(tA)){const e=Ii.create("invalid-gtag-resource",{gtagURL:t});return ci.warn(e.message),""}return t}function U8(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function tte(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function nte(t,e){const n=tte("firebase-js-sdk-policy",{createScriptURL:ete}),r=document.createElement("script"),i=`${tA}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function rte(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function ite(t,e,n,r,i,a){const o=r[i];try{if(o)await e[o];else{const d=(await U8(n)).find(f=>f.measurementId===i);d&&await e[d.appId]}}catch(c){ci.error(c)}t("config",i,a)}async function ate(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const c=await U8(n);for(const d of o){const f=c.find(g=>g.measurementId===d),m=f&&e[f.appId];if(m)a.push(m);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){ci.error(a)}}function ste(t,e,n,r){async function i(a,...o){try{if(a==="event"){const[c,d]=o;await ate(t,e,n,c,d)}else if(a==="config"){const[c,d]=o;await ite(t,e,n,r,c,d)}else if(a==="consent"){const[c,d]=o;t("consent",c,d)}else if(a==="get"){const[c,d,f]=o;t("get",c,d,f)}else if(a==="set"){const[c]=o;t("set",c)}else t(a,...o)}catch(c){ci.error(c)}}return i}function ote(t,e,n,r,i){let a=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=ste(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function lte(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(tA)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cte=30,ute=1e3;class dte{constructor(e={},n=ute){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const V8=new dte;function fte(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function hte(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:fte(r)},a=Zee.replace("{app-id}",n),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let c="";try{const d=await o.json();!((e=d.error)===null||e===void 0)&&e.message&&(c=d.error.message)}catch{}throw Ii.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function mte(t,e=V8,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Ii.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Ii.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new vte;return setTimeout(async()=>{c.abort()},Qee),$8({appId:r,apiKey:i,measurementId:a},o,c,e)}async function $8(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=V8){var a;const{appId:o,measurementId:c}=t;try{await pte(r,e)}catch(d){if(c)return ci.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:c};throw d}try{const d=await hte(t);return i.deleteThrottleMetadata(o),d}catch(d){const f=d;if(!gte(f)){if(i.deleteThrottleMetadata(o),c)return ci.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:o,measurementId:c};throw d}const m=Number((a=f==null?void 0:f.customData)===null||a===void 0?void 0:a.httpStatus)===503?d4(n,i.intervalMillis,cte):d4(n,i.intervalMillis),g={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return i.setThrottleMetadata(o,g),ci.debug(`Calling attemptFetch again in ${m} millis`),$8(t,g,r,i)}}function pte(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Ii.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function gte(t){if(!(t instanceof Ui)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class vte{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function yte(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,o=Object.assign(Object.assign({},r),{send_to:a});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xte(){if(U6())try{await V6()}catch(t){return ci.warn(Ii.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return ci.warn(Ii.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function bte(t,e,n,r,i,a,o){var c;const d=mte(t);d.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&ci.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>ci.error(x)),e.push(d);const f=xte().then(x=>{if(x)return r.getId()}),[m,g]=await Promise.all([d,f]);lte(a)||nte(a,m.measurementId),i("js",new Date);const v=(c=o==null?void 0:o.config)!==null&&c!==void 0?c:{};return v[Xee]="firebase",v.update=!0,g!=null&&(v[Yee]=g),i("config",m.measurementId,v),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wte{constructor(e){this.app=e}_delete(){return delete om[this.app.options.appId],Promise.resolve()}}let om={},YO=[];const XO={};let Dw="dataLayer",_te="gtag",QO,B8,ZO=!1;function Ete(){const t=[];if(L6()&&t.push("This is a browser extension environment."),WH()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ii.create("invalid-analytics-context",{errorInfo:e});ci.warn(n.message)}}function Ste(t,e,n){Ete();const r=t.options.appId;if(!r)throw Ii.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ci.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ii.create("no-api-key");if(om[r]!=null)throw Ii.create("already-exists",{id:r});if(!ZO){rte(Dw);const{wrappedGtag:a,gtagCore:o}=ote(om,YO,XO,Dw,_te);B8=a,QO=o,ZO=!0}return om[r]=bte(t,YO,XO,e,QO,Dw,n),new wte(t)}function Tte(t=Ym()){t=Lt(t);const e=Co(t,Ov);return e.isInitialized()?e.getImmediate():Ate(t)}function Ate(t,e={}){const n=Co(t,Ov);if(n.isInitialized()){const i=n.getImmediate();if(Nl(e,n.getOptions()))return i;throw Ii.create("already-initialized")}return n.initialize({options:e})}function Nte(t,e,n,r){t=Lt(t),yte(B8,om[t.app.options.appId],e,n,r).catch(i=>ci.error(i))}const JO="@firebase/analytics",eI="0.10.16";function kte(){la(new Pi(Ov,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Ste(r,i,n)},"PUBLIC")),la(new Pi("analytics-internal",t,"PRIVATE")),Cr(JO,eI),Cr(JO,eI,"esm2017");function t(e){try{const n=e.getProvider(Ov).getImmediate();return{logEvent:(r,i,a)=>Nte(n,r,i,a)}}catch(n){throw Ii.create("interop-component-reg-failed",{reason:n})}}}kte();const jte={apiKey:"AIzaSyAQ-umzRT1WQKPCWraGCjedkDYjcCc3iX8",authDomain:"orchis.app",projectId:"candelaai",storageBucket:"candelaai.firebasestorage.app",messagingSenderId:"548269259862",appId:"1:548269259862:web:158a73d2f63c96c8ce0ff7",measurementId:"G-52V17260NZ"},op=F6(jte),nt=uX(op),Bc=NZ(op),Cte=$J(op),W0=jv(op);Tte(op);const Ote=new eo,Ite=async()=>{try{return(await MQ(Bc,Ote)).user}catch(t){throw console.error("Error signing in with Google:",t),t}},Rte=t=>mQ(Bc,t),z8=S.createContext(),da=()=>{const t=S.useContext(z8);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Pte=({children:t})=>{const[e,n]=S.useState(null),[r,i]=S.useState(!0),a=async f=>{if(f)try{const m=Vn(nt,"users",f.uid),g=await tp(m);if(g.exists()){const v=g.data();n({...f,photoURL:v.photoURL||f.photoURL,displayName:v.displayName||f.displayName})}else console.log("🆕 New user detected, initializing in background..."),La(W0,"initializeUser")().then(x=>{console.log("🔥 User initialization complete:",x.data),a(f)}).catch(x=>{console.error("❌ Error initializing user:",x)}),n(f)}catch(m){console.error("❌ Error loading user data:",m),n(f)}else n(null)};S.useEffect(()=>{const f=Rte(async m=>{await a(m),i(!1)});return()=>f()},[]);const d={user:e,loading:r,logout:async()=>{await pQ(Bc)},refreshUser:async()=>{Bc.currentUser&&await a(Bc.currentUser)}};return u.jsx(z8.Provider,{value:d,children:!r&&t})};function nA(){const[t,e]=S.useState(!1),{user:n}=da(),r=Wr();return S.useEffect(()=>{const i=()=>{e(window.scrollY>0)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]),u.jsx("header",{className:"fixed top-0 left-0 right-0 z-50",children:u.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 relative",children:u.jsxs("div",{className:`flex items-center justify-between transition-all duration-200 ${t?"bg-white/90 backdrop-blur-xs border border-neutral-300 rounded-3xl px-3 sm:px-4 py-2 sm:py-3":"px-0 py-0"}`,children:[u.jsx(vn,{to:"/",className:"relative inline-block",children:u.jsx("img",{src:"/logo.webp",alt:"Orchis",className:"h-6 sm:h-8 w-auto"})}),u.jsxs("nav",{className:"hidden md:flex items-center space-x-6 lg:space-x-8",children:[u.jsx(vn,{to:"/roadmap",className:"text-sm text-neutral-600 hover:text-neutral-900 transition-colors",children:"Roadmap"}),u.jsx(vn,{to:"/blog",className:"text-sm text-neutral-600 hover:text-neutral-900 transition-colors",children:"Blog"})]}),u.jsx("button",{className:"btn-landing",onClick:()=>r(n?"/dashboard":"/signin"),children:n?"Dashboard":"Sign Up"})]})})})}function Dte(){const t=Wr();return u.jsx("section",{className:"relative min-h-screen flex items-center",children:u.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 w-full",children:u.jsxs("div",{className:"max-w-4xl",children:[u.jsx("div",{className:"inline-block border border-orange-600 rounded-sm px-3 py-2 mb-6",children:u.jsx("p",{className:"text-xs font-semibold text-orange-600 tracking-wide",children:"SMART SUPPORT. DYNAMIC CONTENT. AI SPEED."})}),u.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-semibold text-neutral-900 leading-none tracking-tight mb-4",children:"AI chatbot that converts your users"}),u.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-neutral-600 font-light mb-12 leading-snug tracking-tight max-w-3xl",children:"Turn your docs into an AI agent. Embed in minutes. Answer every question, 24/7."}),u.jsx("button",{onClick:()=>t("/signin"),className:"btn-landing mb-3",children:"Start Free →"}),u.jsx("p",{className:"text-xs text-neutral-500 mb-12",children:"100 free messages • No credit card • 2 minute setup"}),u.jsxs("div",{className:"mt-8 flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center -space-x-2",children:[u.jsx("img",{src:"/lungoai.webp",alt:"LungoAI",className:"h-10 w-10 rounded-xl border-2 border-white object-cover"}),u.jsx("img",{src:"/simplelister.webp",alt:"SimpleLister",className:"h-10 w-10 rounded-xl border-2 border-white object-cover"}),u.jsx("img",{src:"/toolslash.webp",alt:"ToolSlash",className:"h-10 w-10 rounded-xl border-2 border-white object-cover"}),u.jsx("img",{src:"/unit3media.webp",alt:"Unit3Media",className:"h-10 w-10 rounded-xl border-2 border-white object-cover"})]}),u.jsxs("p",{className:"text-xs font-normal text-neutral-400 tracking-wide leading-tight",children:["TRUSTED BY",u.jsx("br",{}),"100+ COMPANIES"]})]})]})})})}function Mte(){return u.jsx("section",{className:"relative py-16 lg:py-24",children:u.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-2 relative",children:u.jsxs("div",{className:"mx-4 sm:mx-6",children:[u.jsx("div",{className:"text-center mb-12",children:u.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-thin text-neutral-900 mb-4 leading-tight",children:"Before and after ORCHIS"})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xs text-orange-600 font-bold mb-6 tracking-wider",children:"THE REALITY"}),u.jsxs("h3",{className:"text-xl sm:text-2xl font-thin text-neutral-900 mb-8 leading-tight",children:["Your support team is drowning",u.jsx("br",{}),"in repetitive tickets"]}),u.jsx("div",{className:"bg-white rounded-2xl border border-neutral-200 p-6 sm:p-8",children:u.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-left",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-red-600 text-sm font-medium",children:"1"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-sm text-neutral-900 font-medium",children:"Customer needs help with integration"}),u.jsx("div",{className:"text-sm text-neutral-600",children:"Creates support ticket, waits for response"})]}),u.jsx("div",{className:"text-xs text-neutral-400 flex-shrink-0",children:"9:15 AM"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-left",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-orange-600 text-sm font-medium",children:"2"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-sm text-neutral-900 font-medium",children:"Support agent researches answer"}),u.jsx("div",{className:"text-sm text-neutral-600",children:"Spends 20 minutes finding the same info again"})]}),u.jsx("div",{className:"text-xs text-neutral-400 flex-shrink-0",children:"2:45 PM"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-left",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-red-600 text-sm font-medium",children:"3"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-sm text-neutral-900 font-medium",children:"Customer gets frustrated"}),u.jsx("div",{className:"text-sm text-neutral-600",children:"Considers switching to competitor's solution"})]}),u.jsx("div",{className:"text-xs text-neutral-400 flex-shrink-0",children:"Next day"})]})]})})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xs text-orange-600 font-bold mb-6 tracking-wider",children:"THE SOLUTION"}),u.jsxs("h3",{className:"text-xl sm:text-2xl font-thin text-neutral-900 mb-8 leading-tight",children:["AI agents that know your",u.jsx("br",{}),"SaaS inside and out"]}),u.jsx("div",{className:"bg-white rounded-2xl border border-neutral-200 p-6 sm:p-8",children:u.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-left",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-green-600 text-sm font-medium",children:"1"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-sm text-neutral-900 font-medium",children:"Customer asks about integration"}),u.jsx("div",{className:"text-sm text-neutral-600",children:"AI instantly provides step-by-step guide with links"})]}),u.jsx("div",{className:"text-xs text-neutral-400 flex-shrink-0",children:"9:15 AM"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-left",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-green-600 text-sm font-medium",children:"2"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-sm text-neutral-900 font-medium",children:"Follow-up question"}),u.jsx("div",{className:"text-sm text-neutral-600",children:"AI provides API documentation and code samples"})]}),u.jsx("div",{className:"text-xs text-neutral-400 flex-shrink-0",children:"9:16 AM"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-left",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-green-600 text-sm font-medium",children:"3"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-sm text-neutral-900 font-medium",children:"Customer successfully integrates"}),u.jsx("div",{className:"text-sm text-neutral-600",children:"Upgrades to higher plan, refers new customers"})]}),u.jsx("div",{className:"text-xs text-neutral-400 flex-shrink-0",children:"Same day"})]})]})}),u.jsx("div",{className:"mt-6 lg:mt-8 text-sm text-neutral-500",children:"Same question. Instant solution. Happy customer."})]})]})]})})})}function Lte(){const t=Wr();return u.jsxs("section",{className:"relative",children:[u.jsx("div",{className:"w-full h-px bg-transparent mb-24"}),u.jsx("div",{className:"max-w-6xl mx-auto px-2 py-24 relative",children:u.jsx("div",{className:"mx-6",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xs text-orange-600 font-bold mb-6 tracking-wider",children:"START AUTOMATING TODAY"}),u.jsxs("h2",{className:"text-3xl lg:text-4xl font-thin text-neutral-900 mb-6 leading-tight max-w-3xl mx-auto",children:["Start converting visitors",u.jsx("br",{}),"into ",u.jsx("span",{className:"text-neutral-500",children:"happy customers"})]}),u.jsx("p",{className:"text-neutral-600 text-base mb-8 leading-relaxed max-w-2xl mx-auto",children:"Join companies using AI that actually learns from gaps, not just logs messages."}),u.jsxs("div",{className:"mb-12",children:[u.jsxs("div",{className:"text-2xl font-thin text-neutral-900 mb-2",children:["Average response time: ",u.jsx("span",{className:"text-orange-600",children:"0.8 seconds"})]}),u.jsx("div",{className:"text-sm text-neutral-500",children:"While your competitors make customers wait hours"})]}),u.jsxs("div",{className:"max-w-md mx-auto mb-12",children:[u.jsx("button",{onClick:()=>t("/signin"),className:"btn-landing",children:"Get Started Free →"}),u.jsx("p",{className:"text-xs text-neutral-500 text-center mt-3",children:"No spam, no tricks. Just smart AI that works."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"text-lg font-medium text-neutral-900 mb-1",children:"✓"}),u.jsx("span",{className:"text-sm text-neutral-600",children:"No credit card"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"text-lg font-medium text-neutral-900 mb-1",children:"✓"}),u.jsx("span",{className:"text-sm text-neutral-600",children:"60s setup"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"text-lg font-medium text-neutral-900 mb-1",children:"✓"}),u.jsx("span",{className:"text-sm text-neutral-600",children:"Cancel anytime"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"text-lg font-medium text-neutral-900 mb-1",children:"✓"}),u.jsx("span",{className:"text-sm text-neutral-600",children:"100 free messages"})]})]})]})})})]})}function rA(){return u.jsx("footer",{className:"relative border-t border-neutral-100",children:u.jsxs("div",{className:"max-w-6xl mx-auto px-8 py-12 relative",children:[u.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-px bg-neutral-100"}),u.jsx("div",{className:"absolute right-6 top-0 bottom-0 w-px bg-neutral-100"}),u.jsxs("div",{className:"mx-6",children:[u.jsxs("div",{className:"grid md:grid-cols-5 gap-8",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("div",{className:"text-base font-bold text-neutral-900 mb-4",children:"ORCHIS AI"}),u.jsx("p",{className:"text-xs text-neutral-600 leading-relaxed max-w-md",children:"AI agents that actually understand context, learn from your business, and speak like humans do. Coming soon."})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-neutral-900 mb-4",children:"Blog"}),u.jsxs("ul",{className:"space-y-3",children:[u.jsx("li",{children:u.jsx(vn,{to:"/blog",className:"text-xs text-neutral-600 hover:text-neutral-900 transition-colors",children:"All Articles"})}),u.jsx("li",{children:u.jsx(vn,{to:"/blog/category/comparisons",className:"text-xs text-neutral-600 hover:text-neutral-900 transition-colors",children:"Comparisons"})}),u.jsx("li",{children:u.jsx(vn,{to:"/blog/category/insights",className:"text-xs text-neutral-600 hover:text-neutral-900 transition-colors",children:"Insights"})}),u.jsx("li",{children:u.jsx(vn,{to:"/blog/category/guides",className:"text-xs text-neutral-600 hover:text-neutral-900 transition-colors",children:"Guides"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-neutral-900 mb-4",children:"Get in Touch"}),u.jsx("p",{className:"text-xs text-neutral-600 mb-3",children:"Questions about ORCHIS?"}),u.jsx("a",{href:"mailto:hello@orchis.ai",className:"text-xs text-neutral-900 hover:underline",children:"hello@orchis.ai"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-neutral-900 mb-4",children:"Coming Soon"}),u.jsxs("ul",{className:"space-y-3",children:[u.jsx("li",{children:u.jsx("span",{className:"text-xs text-neutral-600",children:"Documentation"})}),u.jsx("li",{children:u.jsx("span",{className:"text-xs text-neutral-600",children:"Privacy Policy"})}),u.jsx("li",{children:u.jsx("span",{className:"text-xs text-neutral-600",children:"Terms of Service"})})]})]})]}),u.jsx("div",{className:"border-t border-neutral-100 mt-12 pt-8",children:u.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center",children:u.jsx("p",{className:"text-xs text-neutral-600",children:"© 2025 ORCHIS AI. All rights reserved."})})})]})]})})}function Ute(){const t=[{name:"Product Guide.pdf",icon:"📄"},{name:"FAQ.docx",icon:"📄"},{name:"Privacy Policy.pdf",icon:"📄"},{name:"Terms of Service.pdf",icon:"📄"}];return u.jsxs("div",{className:"w-full",children:[u.jsx("div",{className:"text-xs font-medium text-white mb-4 text-center",children:"Training Content"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-3",children:[u.jsx("div",{className:"text-xs font-medium text-white/90 mb-2",children:"📄 Documents"}),u.jsx("div",{className:"space-y-1.5",children:t.map((e,n)=>u.jsxs("div",{className:"text-xs text-white/70 flex items-center gap-1.5",children:[u.jsx("div",{className:"w-1 h-1 rounded-full bg-green-400"}),u.jsx("span",{className:"truncate",children:e.name})]},n))})]}),u.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-3",children:[u.jsx("div",{className:"text-xs font-medium text-white/90 mb-2",children:"📝 Training Text"}),u.jsx("div",{className:"text-xs text-white/70",children:"5,247 characters"})]}),u.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-3",children:[u.jsx("div",{className:"text-xs font-medium text-white/90 mb-2",children:"🔗 Policy Links"}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsxs("div",{className:"text-xs text-white/70 flex items-center gap-1.5",children:[u.jsx("div",{className:"w-1 h-1 rounded-full bg-blue-400"}),u.jsx("span",{className:"truncate",children:"Privacy Policy"})]}),u.jsxs("div",{className:"text-xs text-white/70 flex items-center gap-1.5",children:[u.jsx("div",{className:"w-1 h-1 rounded-full bg-blue-400"}),u.jsx("span",{className:"truncate",children:"Terms of Service"})]})]})]})]})]})}function Vte(){const t=[{type:"discount",title:"Special Offer",message:"Get 20% off with code",code:"SAVE20"},{type:"video",title:"Watch Our Demo",message:"See how it works in 2 minutes"},{type:"link",title:"New Feature Alert",message:"Check out our latest update",link:"orchis.app/features"}],[e,n]=S.useState(0),[r,i]=S.useState(!1);S.useEffect(()=>{const o=setInterval(()=>{i(!0),setTimeout(()=>{n(c=>(c+1)%t.length),i(!1)},400)},3e3);return()=>clearInterval(o)},[]);const a=t[e];return u.jsxs("div",{className:"w-full",children:[u.jsx("div",{className:"text-xs font-bold text-white mb-4 text-center",children:"Live Preview"}),u.jsxs("div",{className:"relative mx-auto bg-gradient-to-br from-stone-900/60 to-stone-800/40 backdrop-blur-md border border-stone-700/50 rounded-3xl p-4 shadow-2xl",style:{width:"380px"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-xl bg-stone-700/50 flex items-center justify-center overflow-hidden",children:u.jsx("img",{src:"/logo.webp",alt:"Orchis",className:"w-8 h-8 object-cover rounded-xl"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-xs font-semibold text-white truncate",children:"ORCHIS AI"}),u.jsx("div",{className:"text-xs text-stone-400",children:"Online now"})]}),u.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})]}),u.jsx("div",{className:`mb-3 px-3 py-2.5 transition-all duration-700 ease-in-out ${r?"opacity-0 scale-95":"opacity-100 scale-100"}`,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-0.5 h-8 bg-white rounded-full flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-white text-xs font-semibold mb-0.5 transition-all duration-700",children:a.title}),u.jsx("div",{className:"text-white/75 text-xs transition-all duration-700",children:a.type==="discount"?u.jsxs(u.Fragment,{children:[a.message," ",u.jsx("strong",{className:"text-white font-bold font-mono",children:a.code})]}):a.type==="video"?u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx("div",{className:"w-16 h-12 rounded flex-shrink-0 bg-cover bg-center",style:{backgroundImage:"url('/livepreview6.webp')"}}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-white text-xs font-semibold mb-0.5",children:"Watch Now"}),u.jsx("div",{className:"text-white/75 text-xs",children:a.message})]})]}):u.jsxs("div",{className:"mt-1",children:[u.jsx("div",{className:"mb-1",children:a.message}),u.jsxs("div",{className:"flex items-center gap-1 text-blue-400 text-xs",children:[u.jsxs("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:[u.jsx("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),u.jsx("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})]}),u.jsx("span",{className:"truncate",children:a.link})]})]})})]}),u.jsx("button",{className:"text-white/50 hover:text-white/80 text-lg leading-none flex-shrink-0",children:"×"})]})}),u.jsxs("div",{className:"bg-white/5 rounded-2xl p-2 flex items-center gap-2",children:[u.jsx("input",{type:"text",disabled:!0,placeholder:"Ask anything...",className:"flex-1 bg-transparent text-xs text-stone-300 placeholder:text-stone-500 border-none outline-none"}),u.jsx("div",{className:"px-3 py-1.5 bg-white/90 text-black rounded-full text-xs font-semibold",children:"send"})]}),u.jsxs("div",{className:"flex items-center justify-center gap-1 mt-2 text-xs text-stone-400",children:[u.jsx("img",{src:"https://orchis.app/logo.webp",alt:"Orchis",className:"w-3 h-3 rounded"}),u.jsxs("span",{children:["Powered by ",u.jsx("span",{className:"font-bold",children:"ORCHIS"})]})]})]})]})}function $te(){const[t,e]=S.useState(null),n=[{id:1,question:"What are your business hours?",timestamp:"2 min ago",status:"pending"},{id:2,question:"Do you offer international shipping?",timestamp:"15 min ago",status:"pending"},{id:3,question:"What's your refund policy?",timestamp:"1 hour ago",status:"filled"}],r=i=>{e(i),setTimeout(()=>{e(null)},2e3)};return u.jsxs("div",{className:"w-full",children:[u.jsx("div",{className:"text-xs font-medium text-white mb-4 text-center",children:"Knowledge Gaps Dashboard"}),u.jsx("div",{className:"space-y-3",children:n.map(i=>u.jsxs("div",{className:`bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-3 transition-all duration-300 ${t===i.id?"bg-green-500/10 border-green-500/20":""}`,children:[u.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-xs text-white/90 mb-1",children:i.question}),u.jsx("div",{className:"text-xs text-white/50",children:i.timestamp})]}),u.jsx("div",{className:`px-2 py-0.5 rounded text-xs font-medium flex-shrink-0 ${i.status==="filled"||t===i.id?"bg-green-500/20 text-green-400":"bg-white/10 text-white/60"}`,children:t===i.id?"Filling...":i.status==="filled"?"Filled":"Pending"})]}),i.status==="pending"&&t!==i.id&&u.jsx("button",{onClick:()=>r(i.id),className:"w-full mt-2 px-3 py-1.5 bg-white/90 hover:bg-white text-black rounded-lg text-xs font-semibold transition-colors",children:"Fill Gap"}),t===i.id&&u.jsxs("div",{className:"mt-2 text-xs text-green-400 flex items-center gap-1.5",children:[u.jsx("div",{className:"w-1 h-1 rounded-full bg-green-400 animate-pulse"}),u.jsx("span",{children:"Adding to knowledge base..."})]})]},i.id))}),u.jsxs("div",{className:"mt-4 text-xs font-bold text-white text-center",children:[n.filter(i=>i.status==="pending").length," pending · ",n.length," total"]})]})}function Bte(){return u.jsx("section",{id:"features",className:"relative py-16 lg:py-24 bg-transparent",children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-2",children:[u.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-8 sm:gap-12 lg:gap-32 mt-12 sm:mt-24 lg:mt-48",children:[u.jsxs("div",{className:"lg:w-1/2",children:[u.jsx("div",{className:"text-sm text-orange-500 font-semibold mb-2",children:"Brand-aligned AI"}),u.jsx("h3",{className:"text-3xl sm:text-4xl lg:text-5xl font-semibold text-neutral-900 mb-3",children:"Fully branded AI trained on your files"}),u.jsx("p",{className:"text-base text-neutral-700 font-light",children:"The AI answers users using only your uploaded and trained documents. When required (complaint, feedback, dissatisfaction, etc.) it politely asks the user for their email and details, creates a ticket immediately, and logs it to the dashboard so your team can follow up in real time."})]}),u.jsx("div",{className:"lg:w-1/2 w-full max-w-md sm:max-w-lg lg:max-w-none mx-auto",children:u.jsxs("div",{className:"relative bg-cover bg-center bg-no-repeat rounded-4xl p-10 min-h-[500px] flex items-center justify-center",style:{backgroundImage:"url('/livepreview.webp')"},children:[u.jsx("div",{className:"absolute inset-0 bg-stone-900/20 rounded-4xl"}),u.jsx("div",{className:"relative z-10 w-full max-w-[500px] mx-auto",children:u.jsx(Ute,{})})]})})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row-reverse items-center gap-8 sm:gap-12 lg:gap-32 my-12 sm:my-24 lg:my-32",children:[u.jsxs("div",{className:"lg:w-1/2",children:[u.jsx("div",{className:"text-sm text-orange-500 font-semibold mb-2",children:"Dynamic Offer"}),u.jsx("h3",{className:"text-3xl sm:text-4xl lg:text-5xl font-semibold text-neutral-900 mb-3",children:"In-chat dynamic offers that boost conversion"}),u.jsx("p",{className:"text-base text-neutral-700 font-light",children:"Our chatbot supports highly dynamic, context-aware offers — similar to Apple Live Activities. Configure offers for first-time visitors and returning users to increase conversions and engagement."})]}),u.jsx("div",{className:"lg:w-1/2 w-full max-w-md sm:max-w-lg lg:max-w-none mx-auto",children:u.jsxs("div",{className:"relative bg-cover bg-center bg-no-repeat rounded-4xl p-10 min-h-[500px] flex items-center justify-center",style:{backgroundImage:"url('/livepreview5.webp')"},children:[u.jsx("div",{className:"absolute inset-0 bg-stone-900/20 rounded-4xl"}),u.jsx("div",{className:"relative z-10 w-full max-w-[500px] mx-auto",children:u.jsx(Vte,{})})]})})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-8 sm:gap-12 lg:gap-32 mb-12 sm:mb-24 lg:mb-48",children:[u.jsxs("div",{className:"lg:w-1/2",children:[u.jsx("div",{className:"text-sm text-orange-500 font-semibold mb-2",children:"Knowledge Gap"}),u.jsx("h3",{className:"text-3xl sm:text-4xl lg:text-5xl font-semibold text-neutral-900 mb-3",children:"Instant knowledge-gap creation & single-click fill"}),u.jsx("p",{className:"text-base text-neutral-700 font-light",children:"If a user asks something our knowledge doesn't cover, the system creates a knowledge gap entry instantly — you can fill it from the dashboard with a single click so the AI learns and improves quickly."})]}),u.jsx("div",{className:"lg:w-1/2 w-full max-w-md sm:max-w-lg lg:max-w-none mx-auto",children:u.jsxs("div",{className:"relative bg-cover bg-center bg-no-repeat rounded-4xl p-10 min-h-[500px] flex items-center justify-center",style:{backgroundImage:"url('/livepreview6.webp')"},children:[u.jsx("div",{className:"absolute inset-0 bg-stone-900/20 rounded-4xl"}),u.jsx("div",{className:"relative z-10 w-full max-w-[500px] mx-auto",children:u.jsx($te,{})})]})})]})]})})}function zte(){const[t,e]=S.useState(0),n=[{question:"What makes Orchis different from other chatbots?",answer:"Most chatbots fail silently. Orchis tracks every question it can't answer as a 'knowledge gap'—you see exactly what docs to write, fill gaps with one click, and AI learns instantly. We also include built-in discount campaign systems (return user & first-time visitor offers) and advanced analytics that auto-categorize conversations by intent, sentiment, and urgency."},{question:"How does knowledge gap detection work?",answer:"When AI can't confidently answer a question, it automatically flags it as a knowledge gap in your dashboard. You see all unanswered questions, how many times each was asked, and can fill them with one click. Once filled, AI learns immediately and handles that question perfectly for every future customer."},{question:"What are discount campaigns?",answer:"Discount campaigns let you show time-limited discount popups to visitors. Set up return user discounts (triggers after 1+ hour gap) or first-time visitor offers. Each includes custom title, message, discount code, and countdown timer. No coding required—configure everything in your dashboard."},{question:"Can I customize the widget design?",answer:"Yes! Customize colors, logo, position, and messaging. Growth and Scale plans include white-label branding (removes all Orchis branding). The widget uses a modern Live Activity-style interface that feels native to your website, not like a traditional chatbot popup."},{question:"How does the 60-second setup work?",answer:"Upload your docs (PDF, DOCX, TXT), AI processes them in seconds. Optionally set up discount campaigns. Copy one line of code, paste it in your website. Done. Your AI agent is live and answering customer questions immediately."},{question:"What's included in the Free plan?",answer:"100 messages per month, 1 AI agent, 3 document uploads, basic analytics, and 7 days conversation history. Perfect for testing the platform. No credit card required."},{question:"How do the analytics work?",answer:"Every conversation is automatically analyzed by AI. You see category breakdowns (Question, Support, Sales, Bug Report, Feedback), sentiment scores (0-10), urgency levels (low/medium/high), topics, user locations, devices, browsers, languages, and return vs new user rates. All in real-time."},{question:"Will my data be secure?",answer:"Yes. Enterprise-grade encryption, GDPR compliant, 99.9% uptime SLA. Your documents are used only to train your AI agent—never shared with other customers or third parties. Scale plan includes custom widget domain and full data export."}];return u.jsxs("section",{className:"relative",children:[u.jsx("div",{className:"max-w-5xl mx-auto px-2 py-24 relative",children:u.jsx("div",{className:"mx-6",children:u.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-start",children:[u.jsxs("div",{className:"lg:sticky lg:top-28",children:[u.jsx("h2",{className:"text-4xl font-semibold text-neutral-900 mb-6",children:"Frequently Asked Questions"}),u.jsx("p",{className:"text-lg text-neutral-600 mb-8 leading-relaxed",children:"Everything you need to know about our AI customer support platform. Can't find what you're looking for?"})]}),u.jsx("div",{className:"space-y-4",children:n.map((r,i)=>u.jsxs("div",{className:"border-b border-neutral-200 last:border-b-0",children:[u.jsxs("button",{className:"w-full py-6 flex items-center justify-between text-left focus:outline-none",onClick:()=>e(t===i?-1:i),children:[u.jsx("span",{className:"font-semibold text-neutral-900 pr-4",children:r.question}),u.jsx("div",{className:"flex-shrink-0",children:u.jsxs("div",{className:`w-6 h-6 border border-neutral-400 rounded-full flex items-center justify-center transition-transform ${t===i?"rotate-45":""}`,children:[u.jsx("div",{className:"w-3 h-px bg-neutral-400"}),u.jsx("div",{className:`w-px h-3 bg-neutral-400 absolute transition-opacity ${t===i?"opacity-0":"opacity-100"}`})]})})]}),u.jsx("div",{className:`overflow-hidden transition-all duration-300 ${t===i?"max-h-96 pb-6":"max-h-0"}`,children:u.jsx("p",{className:"text-neutral-600 leading-relaxed",children:r.answer})})]},i))})]})})}),u.jsx(Na,{children:u.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"FAQPage",mainEntity:n.map(r=>({"@type":"Question",name:r.question,acceptedAnswer:{"@type":"Answer",text:r.answer}}))})})})]})}function Fte(){const t=Wr(),e=[{name:"Starter",price:"$20",period:"month",description:"For small businesses",features:["~1,500 messages/month","1 AI agent","Unlimited training data","Advanced analytics","Email support"],cta:"Get Started",highlighted:!1},{name:"Growth",price:"$60",period:"month",description:"Most popular choice",features:["~7,500 messages/month","5 AI agents","Unlimited training data","Advanced analytics","White-label branding","Priority support"],cta:"Get Started",highlighted:!0},{name:"Scale",price:"$200",period:"month",description:"For growing teams",features:["~50,000 messages/month","Unlimited AI agents","Unlimited training data","Advanced analytics","White-label branding","Priority support","Export data (CSV/JSON)"],cta:"Get Started",highlighted:!1}];return u.jsx("section",{className:"relative py-16 lg:py-24",children:u.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-2 relative",children:u.jsxs("div",{className:"mx-4 sm:mx-6",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("div",{className:"text-xs text-orange-600 font-bold mb-6 tracking-wider",children:"PRICING"}),u.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-thin text-neutral-900 mb-4 leading-tight",children:"Simple, transparent pricing"}),u.jsx("p",{className:"text-sm text-neutral-600 max-w-2xl mx-auto",children:"Start for free. Upgrade when you're ready."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:e.map((n,r)=>u.jsxs("div",{className:`relative bg-white rounded-2xl border p-6 transition-all flex flex-col ${n.highlighted?"border-orange-600 shadow-lg":"border-neutral-200 hover:border-neutral-300"}`,children:[n.highlighted&&u.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:u.jsx("span",{className:"bg-orange-600 text-white text-[10px] font-bold px-3 py-1 rounded-full tracking-wider",children:"MOST POPULAR"})}),u.jsxs("div",{className:"mb-4",children:[u.jsx("h3",{className:"text-base font-medium text-neutral-900 mb-1",children:n.name}),u.jsx("p",{className:"text-xs text-neutral-600",children:n.description})]}),u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"flex items-baseline gap-1",children:[u.jsx("span",{className:"text-3xl font-medium text-neutral-900",children:n.price}),u.jsxs("span",{className:"text-xs text-neutral-500",children:["/",n.period]})]})}),u.jsx("ul",{className:"space-y-3 mb-6 flex-grow",children:n.features.map((i,a)=>u.jsxs("li",{className:"flex items-start gap-2 text-left",children:[u.jsx("svg",{className:"w-4 h-4 flex-shrink-0 mt-0.5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),u.jsx("span",{className:"text-xs text-neutral-700",children:i})]},a))}),u.jsx("button",{onClick:()=>t("/signin"),className:`w-full py-2.5 px-5 rounded-lg font-medium text-xs transition-all ${n.highlighted?"bg-orange-600 text-white hover:bg-orange-700":"bg-neutral-900 text-white hover:bg-neutral-800"}`,children:n.cta})]},r))}),u.jsx("div",{className:"text-center space-y-3",children:u.jsx("p",{className:"text-xs text-neutral-500",children:"Free plan available with 100 message credits • All plans include unlimited training data"})})]})})})}function qte(){return u.jsxs(u.Fragment,{children:[u.jsxs(Na,{children:[u.jsx("title",{children:"Orchis - AI Customer Support | 0.8s Response Time"}),u.jsx("meta",{name:"description",content:"AI support agent that never sleeps, never forgets, and keeps learning. Track knowledge gaps, run discount campaigns, analyze every conversation. 60-second setup."}),u.jsx("meta",{name:"keywords",content:"AI customer support, chatbot, knowledge gap tracking, customer service automation, AI agents, conversational AI, support analytics"}),u.jsx("meta",{property:"og:title",content:"Orchis - AI Customer Support Platform"}),u.jsx("meta",{property:"og:description",content:"AI that learns from knowledge gaps, not just logs messages. 0.8s response time, 60-second setup."}),u.jsx("meta",{property:"og:image",content:"https://orchis.app/og-image.jpg"}),u.jsx("meta",{property:"og:type",content:"website"}),u.jsx("meta",{property:"og:url",content:"https://orchis.app"}),u.jsx("meta",{property:"og:site_name",content:"Orchis"}),u.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),u.jsx("meta",{name:"twitter:title",content:"Orchis - AI Customer Support Platform"}),u.jsx("meta",{name:"twitter:description",content:"AI that learns from knowledge gaps. 0.8s response time."}),u.jsx("meta",{name:"twitter:image",content:"https://orchis.app/og-image.jpg"}),u.jsx("meta",{name:"author",content:"Orchis"}),u.jsx("meta",{name:"robots",content:"index, follow"}),u.jsx("link",{rel:"canonical",href:"https://orchis.app"}),u.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"SoftwareApplication",name:"Orchis",description:"AI customer support platform with knowledge gap tracking and advanced analytics",url:"https://orchis.app",applicationCategory:"BusinessApplication",operatingSystem:"Web",offers:{"@type":"Offer",price:"0",priceCurrency:"USD",description:"Free tier available"}})})]}),u.jsx("div",{className:"min-h-screen bg-white relative",children:u.jsxs("div",{className:"relative z-10",children:[u.jsx(nA,{}),u.jsx(Dte,{}),u.jsx(Bte,{}),u.jsx(Mte,{}),u.jsx(Fte,{}),u.jsx(zte,{}),u.jsx(Lte,{}),u.jsx(rA,{})]})})]})}function Hte({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const tI=S.forwardRef(Hte);function Gte({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const l0=S.forwardRef(Gte);function Kte({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Wte=S.forwardRef(Kte);function Yte({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ta=S.forwardRef(Yte);function Xte({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const uE=S.forwardRef(Xte);function Qte({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const nI=S.forwardRef(Qte);function Zte({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const Jte=S.forwardRef(Zte);function ene({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const F8=S.forwardRef(ene);function tne({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const rI=S.forwardRef(tne);function nne({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const rne=S.forwardRef(nne);function ine({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 11.25v8.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5v-8.25M12 4.875A2.625 2.625 0 1 0 9.375 7.5H12m0-2.625V7.5m0-2.625A2.625 2.625 0 1 1 14.625 7.5H12m0 0V21m-8.625-9.75h18c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-18c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const ane=S.forwardRef(ine);function sne({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const iI=S.forwardRef(sne);function one({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const lne=S.forwardRef(one);function cne({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"}))}const q8=S.forwardRef(cne);function une({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Nm=S.forwardRef(une);function dne({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const aI=S.forwardRef(dne);function fne({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const lp=S.forwardRef(fne),H8=S.createContext(),hf=()=>{const t=S.useContext(H8);if(!t)throw new Error("useAgent must be used within an AgentProvider");return t},hne=({children:t})=>{const[e,n]=S.useState([]),[r,i]=S.useState(null),[a,o]=S.useState(!0),{user:c}=da(),d=async()=>{if(c){o(!0);try{const w=qt(nt,"users",c.uid,"agents"),E=(await zn(w)).docs.map(A=>({id:A.id,...A.data()}));n(E)}catch(w){console.error("Error fetching agents:",w)}finally{o(!1)}}},f=async w=>{if(!c)throw new Error("User not authenticated");try{const T={...w,userId:c.uid,createdAt:new Date,updatedAt:new Date,status:"active",documentCount:w.documentCount||0,trainingStatus:w.trainingStatus||"not_trained"};console.log("🔍 [AgentContext] Creating agent with data:",{hasReturnDiscount:!!T.returnUserDiscount,hasFirstTimeDiscount:!!T.firstTimeDiscount,returnDiscount:T.returnUserDiscount,firstTimeDiscount:T.firstTimeDiscount});const E=qt(nt,"users",c.uid,"agents"),A=await Uc(E,T),k={id:A.id,...T};return console.log("✅ [AgentContext] Agent created with ID:",A.id),n(j=>[...j,k]),k}catch(T){throw console.error("❌ [AgentContext] Error creating agent:",T),T}},m=async(w,T)=>{if(!c)throw new Error("User not authenticated");try{const E=Vn(nt,"users",c.uid,"agents",w),A={...T,updatedAt:new Date};await Ld(E,A),n(k=>k.map(j=>j.id===w?{...j,...A}:j)),(r==null?void 0:r.id)===w&&i(k=>({...k,...A}))}catch(E){throw console.error("Error updating agent:",E),E}},g=async w=>{if(!c)throw new Error("User not authenticated");try{await Am(Vn(nt,"users",c.uid,"agents",w)),n(T=>T.filter(E=>E.id!==w)),(r==null?void 0:r.id)===w&&i(null)}catch(T){throw console.error("Error deleting agent:",T),T}},v=w=>{i(w)};S.useEffect(()=>{c?d():(n([]),i(null),o(!1))},[c]);const x={agents:e,selectedAgent:r,loading:a,createAgent:f,updateAgent:m,deleteAgent:g,selectAgent:v,fetchAgents:d};return u.jsx(H8.Provider,{value:x,children:t})},mne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none"},Dt=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n,absoluteStrokeWidth:r=!1,className:i="",altIcon:a,showAlt:o=!1,icon:c,primaryColor:d,secondaryColor:f,disableSecondaryOpacity:m=!1,...g},v)=>{const x=n!==void 0?r?Number(n)*24/Number(e):n:void 0,w=x!==void 0?{strokeWidth:x,stroke:"currentColor"}:{},T={ref:v,...mne,width:e,height:e,color:d||t,className:i,...w,...g},A=[...o&&a?a:c].sort(([,k],[,j])=>{const D=k.opacity!==void 0;return j.opacity!==void 0?1:D?-1:0}).map(([k,j])=>{const D=j.opacity!==void 0,O=D&&!m?j.opacity:void 0,L=f?{...j.stroke!==void 0?{stroke:D?f:d||t}:{fill:D?f:d||t}}:{};return S.createElement(k,{...j,...w,...L,opacity:O,key:j.key})});return S.createElement("svg",T,A)});Dt.displayName="HugeiconsIcon";const Y0=[["path",{d:"M13.9248 21H10.0752C5.44476 21 3.12955 21 2.27636 19.4939C1.42317 17.9879 2.60736 15.9914 4.97574 11.9985L6.90057 8.75333C9.17559 4.91778 10.3131 3 12 3C13.6869 3 14.8244 4.91777 17.0994 8.75332L19.0243 11.9985C21.3926 15.9914 22.5768 17.9879 21.7236 19.4939C20.8704 21 18.5552 21 13.9248 21Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"0"}],["path",{d:"M12 9V13.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"1"}],["path",{d:"M12 16.9922V17.0022",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.8",key:"2"}]],pne=[["path",{d:"M18 9.00005C18 9.00005 13.5811 15 12 15C10.4188 15 6 9 6 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"0"}]],iA=[["path",{d:"M15 6C15 6 9.00001 10.4189 9 12C8.99999 13.5812 15 18 15 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"0"}]],sI=[["path",{d:"M2 6C2 5.05719 2 4.58579 2.29289 4.29289C2.58579 4 3.05719 4 4 4C4.94281 4 5.41421 4 5.70711 4.29289C6 4.58579 6 5.05719 6 6V8C6 8.94281 6 9.41421 5.70711 9.70711C5.41421 10 4.94281 10 4 10C3.05719 10 2.58579 10 2.29289 9.70711C2 9.41421 2 8.94281 2 8V6Z",stroke:"currentColor",strokeWidth:"1.5",key:"0"}],["path",{d:"M6.5 16C6.5 15.0572 6.5 14.5858 6.79289 14.2929C7.08579 14 7.55719 14 8.5 14C9.44281 14 9.91421 14 10.2071 14.2929C10.5 14.5858 10.5 15.0572 10.5 16V18C10.5 18.9428 10.5 19.4142 10.2071 19.7071C9.91421 20 9.44281 20 8.5 20C7.55719 20 7.08579 20 6.79289 19.7071C6.5 19.4142 6.5 18.9428 6.5 18V16Z",stroke:"currentColor",strokeWidth:"1.5",key:"1"}],["path",{d:"M13.5 6C13.5 5.05719 13.5 4.58579 13.7929 4.29289C14.0858 4 14.5572 4 15.5 4C16.4428 4 16.9142 4 17.2071 4.29289C17.5 4.58579 17.5 5.05719 17.5 6V8C17.5 8.94281 17.5 9.41421 17.2071 9.70711C16.9142 10 16.4428 10 15.5 10C14.5572 10 14.0858 10 13.7929 9.70711C13.5 9.41421 13.5 8.94281 13.5 8V6Z",stroke:"currentColor",strokeWidth:"1.5",key:"2"}],["path",{d:"M13.5 16C13.5 15.0572 13.5 14.5858 13.7929 14.2929C14.0858 14 14.5572 14 15.5 14C16.4428 14 16.9142 14 17.2071 14.2929C17.5 14.5858 17.5 15.0572 17.5 16V18C17.5 18.9428 17.5 19.4142 17.2071 19.7071C16.9142 20 16.4428 20 15.5 20C14.5572 20 14.0858 20 13.7929 19.7071C13.5 19.4142 13.5 18.9428 13.5 18V16Z",stroke:"currentColor",strokeWidth:"1.5",key:"3"}],["path",{d:"M9 5L10.5 4V10",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"4"}],["path",{d:"M2 15L3.5 14V20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"5"}],["path",{d:"M20.5 5L22 4V10",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"6"}],["path",{d:"M20.5 15L22 14V20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"7"}]],gne=[["path",{d:"M12.6974 3.5H11.303C10.5884 3.5 10.2311 3.5 9.91067 3.612C9.71499 3.68039 9.53113 3.77879 9.36568 3.90367C9.09474 4.10816 8.89655 4.40544 8.50018 5L8.50017 5.00001C8.29717 5.30453 7.99794 5.75337 7.87867 5.87871C7.58314 6.18927 7.19563 6.39666 6.77329 6.47029C6.60284 6.5 6.41985 6.5 6.05387 6.5C5.07379 6.5 4.58376 6.5 4.18307 6.61342C3.18074 6.89716 2.39734 7.68055 2.1136 8.68289C2.00018 9.08357 2.00018 9.57361 2.00018 10.5537V14.5C2.00018 17.3284 2.00018 18.7426 2.87886 19.6213C3.75754 20.5 5.17176 20.5 8.00018 20.5H16.0002C18.8286 20.5 20.2428 20.5 21.1215 19.6213C22.0002 18.7426 22.0002 17.3284 22.0002 14.5V10.5537C22.0002 9.57361 22.0002 9.08357 21.8868 8.68289C21.603 7.68055 20.8196 6.89716 19.8173 6.61342C19.4166 6.5 18.9266 6.5 17.9465 6.5C17.5805 6.5 17.3975 6.5 17.2271 6.47029C16.8047 6.39666 16.4172 6.18927 16.1217 5.87871C16.0024 5.75336 15.7032 5.30451 15.5002 5C15.1038 4.40544 14.9056 4.10816 14.6347 3.90367C14.4692 3.77879 14.2854 3.68039 14.0897 3.612C13.7693 3.5 13.412 3.5 12.6974 3.5Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"0"}],["path",{d:"M16.0002 13C16.0002 15.2091 14.2093 17 12.0002 17C9.79104 17 8.00018 15.2091 8.00018 13C8.00018 10.7909 9.79104 9 12.0002 9C14.2093 9 16.0002 10.7909 16.0002 13Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"1"}],["path",{d:"M19.0002 9.5V9.51",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",key:"2"}]],G8=[["path",{d:"M18 6L6.00081 17.9992M17.9992 18L6 6.00085",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"0"}]],oI=[["path",{d:"M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12Z",stroke:"currentColor",strokeWidth:"1.5",key:"0"}],["path",{d:"M8 12.75C8 12.75 9.6 13.6625 10.4 15C10.4 15 12.8 9.75 16 8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"1"}]],lI=[["path",{d:"M9 15C9 12.1716 9 10.7574 9.87868 9.87868C10.7574 9 12.1716 9 15 9L16 9C18.8284 9 20.2426 9 21.1213 9.87868C22 10.7574 22 12.1716 22 15V16C22 18.8284 22 20.2426 21.1213 21.1213C20.2426 22 18.8284 22 16 22H15C12.1716 22 10.7574 22 9.87868 21.1213C9 20.2426 9 18.8284 9 16L9 15Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"0"}],["path",{d:"M16.9999 9C16.9975 6.04291 16.9528 4.51121 16.092 3.46243C15.9258 3.25989 15.7401 3.07418 15.5376 2.90796C14.4312 2 12.7875 2 9.5 2C6.21252 2 4.56878 2 3.46243 2.90796C3.25989 3.07417 3.07418 3.25989 2.90796 3.46243C2 4.56878 2 6.21252 2 9.5C2 12.7875 2 14.4312 2.90796 15.5376C3.07417 15.7401 3.25989 15.9258 3.46243 16.092C4.51121 16.9528 6.04291 16.9975 9 16.9999",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"1"}]],K8=[["path",{d:"M2 12C2 8.46252 2 6.69377 3.0528 5.5129C3.22119 5.32403 3.40678 5.14935 3.60746 4.99087C4.86213 4 6.74142 4 10.5 4H13.5C17.2586 4 19.1379 4 20.3925 4.99087C20.5932 5.14935 20.7788 5.32403 20.9472 5.5129C22 6.69377 22 8.46252 22 12C22 15.5375 22 17.3062 20.9472 18.4871C20.7788 18.676 20.5932 18.8506 20.3925 19.0091C19.1379 20 17.2586 20 13.5 20H10.5C6.74142 20 4.86213 20 3.60746 19.0091C3.40678 18.8506 3.22119 18.676 3.0528 18.4871C2 17.3062 2 15.5375 2 12Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"0"}],["path",{d:"M10 16H11.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"1"}],["path",{d:"M14.5 16L18 16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"2"}],["path",{d:"M2 9H22",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.5",key:"3"}]],vne=[["path",{d:"M19.5 5.5L18.8803 15.5251C18.7219 18.0864 18.6428 19.3671 18.0008 20.2879C17.6833 20.7431 17.2747 21.1273 16.8007 21.416C15.8421 22 14.559 22 11.9927 22C9.42312 22 8.1383 22 7.17905 21.4149C6.7048 21.1257 6.296 20.7408 5.97868 20.2848C5.33688 19.3626 5.25945 18.0801 5.10461 15.5152L4.5 5.5",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"1.5",key:"0"}],["path",{d:"M3 5.5H21M16.0557 5.5L15.3731 4.09173C14.9196 3.15626 14.6928 2.68852 14.3017 2.39681C14.215 2.3321 14.1231 2.27454 14.027 2.2247C13.5939 2 13.0741 2 12.0345 2C10.9688 2 10.436 2 9.99568 2.23412C9.8981 2.28601 9.80498 2.3459 9.71729 2.41317C9.32164 2.7167 9.10063 3.20155 8.65861 4.17126L8.05292 5.5",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"1.5",key:"1"}],["path",{d:"M9.5 16.5L9.5 10.5",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"1.5",key:"2"}],["path",{d:"M14.5 16.5L14.5 10.5",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"1.5",key:"3"}]],yne=[["path",{d:"M2.99969 17.0002C2.99969 17.9302 2.99969 18.3952 3.10192 18.7767C3.37932 19.8119 4.18796 20.6206 5.22324 20.898C5.60474 21.0002 6.06972 21.0002 6.99969 21.0002L16.9997 21.0002C17.9297 21.0002 18.3947 21.0002 18.7762 20.898C19.8114 20.6206 20.6201 19.8119 20.8975 18.7767C20.9997 18.3952 20.9997 17.9302 20.9997 17.0002",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"0"}],["path",{d:"M16.4998 11.5002C16.4998 11.5002 13.1856 16.0002 11.9997 16.0002C10.8139 16.0002 7.49976 11.5002 7.49976 11.5002M11.9997 15.0002V3.00016",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"1"}]],xne=[["path",{d:"M4 11V15C4 18.2998 4 19.9497 5.02513 20.9749C6.05025 22 7.70017 22 11 22H13C16.2998 22 17.9497 22 18.9749 20.9749C20 19.9497 20 18.2998 20 15V11",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"0"}],["path",{d:"M3 9C3 8.25231 3 7.87846 3.20096 7.6C3.33261 7.41758 3.52197 7.26609 3.75 7.16077C4.09808 7 4.56538 7 5.5 7H18.5C19.4346 7 19.9019 7 20.25 7.16077C20.478 7.26609 20.6674 7.41758 20.799 7.6C21 7.87846 21 8.25231 21 9C21 9.74769 21 10.1215 20.799 10.4C20.6674 10.5824 20.478 10.7339 20.25 10.8392C19.9019 11 19.4346 11 18.5 11H5.5C4.56538 11 4.09808 11 3.75 10.8392C3.52197 10.7339 3.33261 10.5824 3.20096 10.4C3 10.1215 3 9.74769 3 9Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.5",key:"1"}],["path",{d:"M6 3.78571C6 2.79949 6.79949 2 7.78571 2H8.14286C10.2731 2 12 3.7269 12 5.85714V7H9.21429C7.43908 7 6 5.56091 6 3.78571Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.5",key:"2"}],["path",{d:"M18 3.78571C18 2.79949 17.2005 2 16.2143 2H15.8571C13.7269 2 12 3.7269 12 5.85714V7H14.7857C16.5609 7 18 5.56091 18 3.78571Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.5",key:"3"}],["path",{d:"M12 11L12 22",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"4"}]],bne=[["path",{d:"M4 18.6458V8.05426C4 5.20025 4 3.77325 4.87868 2.88663C5.75736 2 7.17157 2 10 2H14C16.8284 2 18.2426 2 19.1213 2.88663C20 3.77325 20 5.20025 20 8.05426V18.6458C20 20.1575 20 20.9133 19.538 21.2108C18.7831 21.6971 17.6161 20.6774 17.0291 20.3073C16.5441 20.0014 16.3017 19.8485 16.0325 19.8397C15.7417 19.8301 15.4949 19.9768 14.9709 20.3073L13.06 21.5124C12.5445 21.8374 12.2868 22 12 22C11.7132 22 11.4555 21.8374 10.94 21.5124L9.02913 20.3073C8.54415 20.0014 8.30166 19.8485 8.03253 19.8397C7.74172 19.8301 7.49493 19.9768 6.97087 20.3073C6.38395 20.6774 5.21687 21.6971 4.46195 21.2108C4 20.9133 4 20.1575 4 18.6458Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"0"}],["path",{d:"M11 11H8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"1"}],["path",{d:"M14 7L8 7",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"2"}]],wne=[["path",{d:"M17 13V8C17 5.23858 14.7614 3 12 3C9.23858 3 7 5.23858 7 8V13C7 14.8692 7 15.8038 7.40192 16.5C7.66523 16.9561 8.04394 17.3348 8.5 17.5981C9.19615 18 10.1308 18 12 18C13.8692 18 14.8038 18 15.5 17.5981C15.9561 17.3348 16.3348 16.9561 16.5981 16.5C17 15.8038 17 14.8692 17 13Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.5",key:"0"}],["path",{d:"M18 21C18 19.8954 18.8954 19 20 19C21.1046 19 22 19.8954 22 21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"1"}],["path",{d:"M2 21C2 19.8954 2.89543 19 4 19C5.10457 19 6 19.8954 6 21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"2"}],["path",{d:"M13.992 7.5H14.001",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",key:"3"}],["path",{d:"M10 7.5H10.009",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",key:"4"}],["path",{d:"M20 19V15C20 13.1144 20 12.1716 19.4142 11.5858C18.8284 11 17.8856 11 16 11H8C6.11438 11 5.17157 11 4.58579 11.5858C4 12.1716 4 13.1144 4 15V19",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"5"}]],_ne=[["path",{d:"M2 6L8.91302 9.91697C11.4616 11.361 12.5384 11.361 15.087 9.91697L22 6",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.5",key:"0"}],["path",{d:"M2.01577 13.4756C2.08114 16.5412 2.11383 18.0739 3.24496 19.2094C4.37608 20.3448 5.95033 20.3843 9.09883 20.4634C11.0393 20.5122 12.9607 20.5122 14.9012 20.4634C18.0497 20.3843 19.6239 20.3448 20.7551 19.2094C21.8862 18.0739 21.9189 16.5412 21.9842 13.4756C22.0053 12.4899 22.0053 11.5101 21.9842 10.5244C21.9189 7.45886 21.8862 5.92609 20.7551 4.79066C19.6239 3.65523 18.0497 3.61568 14.9012 3.53657C12.9607 3.48781 11.0393 3.48781 9.09882 3.53656C5.95033 3.61566 4.37608 3.65521 3.24495 4.79065C2.11382 5.92608 2.08114 7.45885 2.01576 10.5244C1.99474 11.5101 1.99475 12.4899 2.01577 13.4756Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.5",key:"1"}]],Ene=[["path",{d:"M22 12H21.991M18.009 12H18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",key:"0"}],["path",{d:"M10.5119 7.5L10.5029 7.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",key:"1"}],["path",{d:"M2 12C2 16.9706 5.94274 21 10.8064 21C13.2733 21 15.5033 19.9634 17.102 18.2931C17.7426 17.6238 18.0629 17.2892 17.9897 16.7418C17.9166 16.1945 17.4528 15.9208 16.525 15.3735L15.7671 14.9264C13.5637 13.6266 12.462 12.9767 12.462 12C12.462 11.0233 13.5637 10.3734 15.7671 9.07358L16.525 8.62647C17.4528 8.07919 17.9166 7.80555 17.9897 7.25817C18.0629 6.71078 17.7426 6.37617 17.102 5.70695C15.5033 4.03665 13.2733 3 10.8064 3C5.94274 3 2 7.02944 2 12Z",stroke:"currentColor",strokeWidth:"1.5",key:"2"}]],Sne=[["path",{d:"M12 21C16.4183 21 20 19.2091 20 17C20 16.0234 19.1597 15.468 18.9475 14.5886C18.8278 14.0928 19 13.5112 19 13C19 11.8639 18.7293 10.7909 18.2489 9.84218C20.1255 8.21287 22 5.60644 22 3C17.8474 3 15.7434 5.3492 15.0997 6.72194C13.1658 5.76534 10.8342 5.76534 8.90035 6.72194C8.25655 5.3492 6.15258 3 2 3C2 5.60644 3.87445 8.21287 5.75106 9.84218C5.27067 10.7909 5 11.8639 5 13C5 13.5112 5.17216 14.0928 5.05251 14.5886C4.8403 15.468 4 16.0234 4 17C4 19.2091 7.58172 21 12 21Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.5",key:"0"}],["path",{d:"M11 16C11.7925 16.6596 12.206 16.6737 13 16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"1"}],["path",{d:"M9.00019 12.5H8.99121",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",key:"2"}],["path",{d:"M15.008 12.5H14.999",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",key:"3"}],["path",{d:"M5.1084 14.0233C6.36213 14.4245 8.19257 16.7314 5.78541 18.9379",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"4"}],["path",{d:"M18.8926 14.043C17.6388 14.4442 15.8084 16.751 18.2156 18.9576",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"5"}]],Tne=[["path",{d:"M15.5 12C15.5 13.933 13.933 15.5 12 15.5C10.067 15.5 8.5 13.933 8.5 12C8.5 10.067 10.067 8.5 12 8.5C13.933 8.5 15.5 10.067 15.5 12Z",stroke:"currentColor",strokeWidth:"1.5",key:"0"}],["path",{d:"M20.7906 9.15201C21.5969 10.5418 22 11.2366 22 12C22 12.7634 21.5969 13.4582 20.7906 14.848L18.8669 18.1638C18.0638 19.548 17.6623 20.2402 17.0019 20.6201C16.3416 21 15.5402 21 13.9373 21L10.0627 21C8.45982 21 7.6584 21 6.99807 20.6201C6.33774 20.2402 5.93619 19.548 5.13311 18.1638L3.20942 14.848C2.40314 13.4582 2 12.7634 2 12C2 11.2366 2.40314 10.5418 3.20942 9.152L5.13311 5.83621C5.93619 4.45196 6.33774 3.75984 6.99807 3.37992C7.6584 3 8.45982 3 10.0627 3L13.9373 3C15.5402 3 16.3416 3 17.0019 3.37992C17.6623 3.75984 18.0638 4.45197 18.8669 5.83622L20.7906 9.15201Z",stroke:"currentColor",strokeWidth:"1.5",key:"1"}]],Ane=[["path",{d:"M2.5 12C2.5 7.52166 2.5 5.28249 3.89124 3.89124C5.28249 2.5 7.52166 2.5 12 2.5C16.4783 2.5 18.7175 2.5 20.1088 3.89124C21.5 5.28249 21.5 7.52166 21.5 12C21.5 16.4783 21.5 18.7175 20.1088 20.1088C18.7175 21.5 16.4783 21.5 12 21.5C7.52166 21.5 5.28249 21.5 3.89124 20.1088C2.5 18.7175 2.5 16.4783 2.5 12Z",stroke:"currentColor",strokeWidth:"1.5",key:"0"}],["path",{d:"M14.1746 11.3517C14.8469 10.5618 16.2132 9.58336 15.97 9.11886M15.97 9.11886C16.1055 8.64518 14.7827 7.70887 14.1716 6.99463M15.97 9.11886C13.2147 9.06207 11.5289 9.37785 9.90163 10.9129C8.20681 12.5118 7.89136 14.2372 8.02853 17.0052",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"1"}]],cI=[["path",{d:"M3.50002 10V15C3.50002 17.8284 3.50002 19.2426 4.3787 20.1213C5.25738 21 6.67159 21 9.50002 21H14.5C17.3284 21 18.7427 21 19.6213 20.1213C20.5 19.2426 20.5 17.8284 20.5 15V10",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"0"}],["path",{d:"M17 7.50184C17 8.88255 15.8807 9.99997 14.5 9.99997C13.1193 9.99997 12 8.88068 12 7.49997C12 8.88068 10.8807 9.99997 9.50002 9.99997C8.11931 9.99997 7.00002 8.88068 7.00002 7.49997C7.00002 8.88068 5.82655 9.99997 4.37901 9.99997C3.59984 9.99997 2.90009 9.67567 2.42 9.16087C1.59462 8.2758 2.12561 6.97403 2.81448 5.98842L3.20202 5.45851C4.08386 4.2527 4.52478 3.6498 5.16493 3.32494C5.80508 3.00008 6.55201 3.00018 8.04587 3.00038L15.9551 3.00143C17.4485 3.00163 18.1952 3.00173 18.8351 3.32658C19.475 3.65143 19.9158 4.25414 20.7974 5.45957L21.1855 5.99029C21.8744 6.97589 22.4054 8.27766 21.58 9.16273C21.0999 9.67754 20.4002 10.0018 19.621 10.0018C18.1734 10.0018 17 8.88255 17 7.50184Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"1"}],["path",{d:"M14.9971 17C14.3133 17.6072 13.2247 18 11.9985 18C10.7723 18 9.68376 17.6072 9 17",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"2"}]],Nne=[["path",{d:"M5.00779 16.7056C4.97141 16.3269 5.05697 16.1715 5.38146 15.9558C9.30933 13.3451 15.6755 13.3481 18.7181 15.9646C18.9566 16.1696 19.0195 16.3169 18.9951 16.6236C18.8758 18.1215 18.471 19.8517 17.2149 20.8332C15.2211 22.3912 8.76892 22.3867 6.78076 20.8332C5.53838 19.8624 5.14963 18.182 5.00779 16.7056Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.5",key:"0"}],["path",{d:"M9.00896 18H9M15 18H14.991",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"1"}],["path",{d:"M5 18C3 17 2 14.2512 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 14.2512 21 17 19 18",stroke:"currentColor",strokeWidth:"1.5",key:"2"}],["circle",{cx:"12",cy:"7",r:"3",stroke:"currentColor",strokeWidth:"1.5",key:"3"}],["path",{d:"M3.36963 7C4.66856 7.31423 5.32655 8.8999 4.83928 10.5417C4.40097 12.0185 3.18529 13.0377 2 12.9989",stroke:"currentColor",strokeWidth:"1.5",key:"4"}],["path",{d:"M20.6315 7C19.3317 7.31423 18.6732 8.8999 19.1608 10.5417C19.5992 12.0177 20.8145 13.0366 22 12.999",stroke:"currentColor",strokeWidth:"1.5",key:"5"}]],W8=[["path",{d:"M5 14.5C5 14.5 6.5 14.5 8.5 18C8.5 18 14.0588 8.83333 19 7",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"0"}]],kne=[["path",{d:"M17 8.5C17 5.73858 14.7614 3.5 12 3.5C9.23858 3.5 7 5.73858 7 8.5C7 11.2614 9.23858 13.5 12 13.5C14.7614 13.5 17 11.2614 17 8.5Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"0"}],["path",{d:"M19 20.5C19 16.634 15.866 13.5 12 13.5C8.13401 13.5 5 16.634 5 20.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",key:"1"}]],jne=[["path",{d:"M8.62814 12.6736H8.16918C6.68545 12.6736 5.94358 12.6736 5.62736 12.1844C5.31114 11.6953 5.61244 11.0138 6.21504 9.65083L8.02668 5.55323C8.57457 4.314 8.84852 3.69438 9.37997 3.34719C9.91142 3 10.5859 3 11.935 3H14.0244C15.6632 3 16.4826 3 16.7916 3.53535C17.1007 4.0707 16.6942 4.78588 15.8811 6.21623L14.8092 8.10188C14.405 8.81295 14.2029 9.16849 14.2057 9.45952C14.2094 9.83775 14.4105 10.1862 14.7354 10.377C14.9854 10.5239 15.3927 10.5239 16.2074 10.5239C17.2373 10.5239 17.7523 10.5239 18.0205 10.7022C18.3689 10.9338 18.5513 11.3482 18.4874 11.7632C18.4382 12.0826 18.0918 12.4656 17.399 13.2317L11.8639 19.3523C10.7767 20.5545 10.2331 21.1556 9.86807 20.9654C9.50303 20.7751 9.67833 19.9822 10.0289 18.3962L10.7157 15.2896C10.9826 14.082 11.1161 13.4782 10.7951 13.0759C10.4741 12.6736 9.85877 12.6736 8.62814 12.6736Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.5",key:"0"}]];function Tc(){const t=Wr(),{user:e,logout:n}=da(),{agents:r}=hf(),[i,a]=S.useState(!1),[o,c]=S.useState(0),[d,f]=S.useState({used:0,limit:0}),m=S.useRef(null),g=T=>T?T.split(" ").map(E=>E[0]).join("").substring(0,2).toUpperCase():"U";S.useEffect(()=>{if(!e||!r||r.length===0){c(0);return}const T=[],E={};return r.forEach(A=>{const k=qt(nt,"users",e.uid,"agents",A.id,"alerts"),j=Va(k,Wc("read","==",!1)),D=xv(j,O=>{E[A.id]=O.docs.length;const L=Object.values(E).reduce((P,C)=>P+C,0);c(L)});T.push(D)}),()=>{T.forEach(A=>A())}},[e,r]),S.useEffect(()=>{if(!e)return;const T=Vn(nt,"users",e.uid),E=xv(T,A=>{if(A.exists()){const k=A.data();f({used:k.messagesUsed||0,limit:k.messageLimit||0})}});return()=>E()},[e]),S.useEffect(()=>{const T=E=>{m.current&&!m.current.contains(E.target)&&a(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const v=async()=>{try{await n(),a(!1),t("/signin")}catch(T){console.error("Error logging out:",T)}},x=()=>{a(!1),t("/dashboard/settings")},w=()=>{a(!1),t("/dashboard/billing")};return u.jsx("nav",{className:"w-full bg-stone-50 dark:bg-stone-900 sticky top-0 z-50",children:u.jsx("div",{className:"max-w-5xl mx-auto px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(vn,{to:"/dashboard",className:"flex items-center gap-2",children:[u.jsx("img",{src:"/logo.webp",alt:"Orchis Logo",className:"w-5 h-5"}),u.jsx("span",{className:"font-bold text-stone-900 dark:text-stone-50 text-md",children:"ORCHIS"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[o>0&&u.jsxs("button",{onClick:()=>{const T=r.find(E=>!0);T&&t(`/dashboard/${T.id}?view=agentsettings&section=alerts`)},className:"relative p-2 rounded-lg hover:bg-stone-200 dark:md:hover:bg-stone-800 transition-colors cursor-pointer",title:`${o} unread security alert${o>1?"s":""}`,children:[u.jsx(Dt,{icon:Y0,className:"w-5 h-5 text-stone-500"}),u.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:o>9?"9+":o})]}),u.jsxs("div",{className:"relative",ref:m,children:[u.jsxs("button",{onClick:()=>a(!i),className:"flex items-center gap-1 px-3 py-1 rounded-lg hover:bg-stone-200 dark:md:hover:bg-stone-800 transition-colors cursor-pointer",children:[u.jsx("div",{className:"w-7 h-7 bg-stone-900 dark:bg-stone-50 rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden",children:e!=null&&e.photoURL?u.jsx("img",{src:e.photoURL,alt:e.displayName||"User",className:"w-7 h-7 object-cover"}):u.jsx("span",{className:"text-xs font-medium text-stone-50 dark:text-stone-900",children:g(e==null?void 0:e.displayName)})}),u.jsx("div",{className:"flex-1 text-left",children:u.jsx("div",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50",children:(e==null?void 0:e.displayName)||"User"})}),u.jsx(Dt,{icon:pne,className:`w-4 h-4 text-stone-500 transition-transform ${i?"rotate-180":""}`})]}),i&&u.jsx("div",{className:"absolute top-full right-0 min-w-[200px] mt-1 bg-stone-50 dark:bg-stone-900 border border-stone-200 dark:border-stone-800 rounded-lg shadow-lg z-10",children:u.jsxs("div",{className:"p-1 space-y-0.5",children:[u.jsxs("div",{className:"px-2 py-2 mb-1",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs text-stone-500 dark:text-stone-400 mb-1",children:[u.jsx("span",{children:"Credits"}),u.jsxs("span",{children:[d.limit-d.used," / ",d.limit]})]}),u.jsx("div",{className:"w-full bg-stone-200 dark:bg-stone-700 rounded-full h-1.5",children:u.jsx("div",{className:"bg-orange-500 h-1.5 rounded-full transition-all",style:{width:`${d.limit>0?(d.limit-d.used)/d.limit*100:0}%`}})})]}),u.jsxs("button",{onClick:x,className:"w-full flex items-center gap-1 px-2 py-1 text-left rounded-md hover:bg-stone-800 dark:md:hover:bg-stone-50 hover:text-white dark:md:hover:text-black transition-colors group cursor-pointer",children:[u.jsx(Dt,{icon:Tne,className:"w-4 h-4 text-stone-500 group-hover:text-white dark:md:group-hover:text-black"}),u.jsx("span",{className:"text-sm font-medium text-stone-900 dark:text-stone-50 dark:md:group-hover:text-black group-hover:text-white",children:"Settings"})]}),u.jsxs("button",{onClick:w,className:"w-full flex items-center gap-1 px-2 py-1 text-left rounded-md hover:bg-stone-800 dark:md:hover:bg-stone-50 hover:text-white dark:md:hover:text-black transition-colors group cursor-pointer",children:[u.jsx(Dt,{icon:K8,className:"w-4 h-4 text-stone-500 group-hover:text-white dark:md:group-hover:text-black"}),u.jsx("span",{className:"text-sm font-medium text-stone-900 dark:text-stone-50 dark:md:group-hover:text-black group-hover:text-white",children:"Billing"})]}),u.jsx("div",{className:"border-t border-stone-100 dark:border-stone-700 mt-1",children:u.jsxs("button",{onClick:v,className:"mt-1 w-full flex items-center gap-1 px-2 py-1 text-left rounded-md hover:bg-stone-800 dark:md:hover:bg-stone-50 hover:text-white dark:md:hover:text-black transition-colors group cursor-pointer",children:[u.jsx(Dt,{icon:Ane,className:"w-4 h-4 text-stone-500 group-hover:text-white dark:md:group-hover:text-black"}),u.jsx("span",{className:"text-sm font-medium text-stone-900 dark:text-stone-50 dark:md:group-hover:text-black group-hover:text-white",children:"Log out"})]})})]})})]})]})]})})})}function Y8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Y8(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ht(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Y8(t))&&(r&&(r+=" "),r+=e);return r}var Mw={},Lw={},uI;function Cne(){return uI||(uI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e}(Lw)),Lw}var Uw={},dI;function X8(){return dI||(dI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e}(Uw)),Uw}var Vw={},fI;function Q8(){return fI||(fI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e}(Vw)),Vw}var $w={},hI;function aA(){return hI||(hI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let a=0,o="",c="",d=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const f=n[a];c?f==="\\"&&a+1<i?(a++,o+=n[a]):f===c?c="":o+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,r.push(o),o=""):o+=f:f==="["?(d=!0,o&&(r.push(o),o="")):f==="."?o&&(r.push(o),o=""):o+=f,a++}return o&&r.push(o),r}t.toPath=e}($w)),$w}var mI;function sA(){return mI||(mI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cne(),n=X8(),r=Q8(),i=aA();function a(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?n.isDeepKey(d)?a(c,i.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const m=c[d];return m===void 0?f:m}default:{if(Array.isArray(d))return o(c,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?f:m}}}function o(c,d,f){if(d.length===0)return f;let m=c;for(let g=0;g<d.length;g++){if(m==null||e.isUnsafeProperty(d[g]))return f;m=m[d[g]]}return m===void 0?f:m}t.get=a}(Mw)),Mw}var Bw,pI;function One(){return pI||(pI=1,Bw=sA().get),Bw}var Ine=One();const eu=hi(Ine);var zw={exports:{}},jt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gI;function Rne(){if(gI)return jt;gI=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,m=t?Symbol.for("react.forward_ref"):60112,g=t?Symbol.for("react.suspense"):60113,v=t?Symbol.for("react.suspense_list"):60120,x=t?Symbol.for("react.memo"):60115,w=t?Symbol.for("react.lazy"):60116,T=t?Symbol.for("react.block"):60121,E=t?Symbol.for("react.fundamental"):60117,A=t?Symbol.for("react.responder"):60118,k=t?Symbol.for("react.scope"):60119;function j(O){if(typeof O=="object"&&O!==null){var L=O.$$typeof;switch(L){case e:switch(O=O.type,O){case d:case f:case r:case a:case i:case g:return O;default:switch(O=O&&O.$$typeof,O){case c:case m:case w:case x:case o:return O;default:return L}}case n:return L}}}function D(O){return j(O)===f}return jt.AsyncMode=d,jt.ConcurrentMode=f,jt.ContextConsumer=c,jt.ContextProvider=o,jt.Element=e,jt.ForwardRef=m,jt.Fragment=r,jt.Lazy=w,jt.Memo=x,jt.Portal=n,jt.Profiler=a,jt.StrictMode=i,jt.Suspense=g,jt.isAsyncMode=function(O){return D(O)||j(O)===d},jt.isConcurrentMode=D,jt.isContextConsumer=function(O){return j(O)===c},jt.isContextProvider=function(O){return j(O)===o},jt.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},jt.isForwardRef=function(O){return j(O)===m},jt.isFragment=function(O){return j(O)===r},jt.isLazy=function(O){return j(O)===w},jt.isMemo=function(O){return j(O)===x},jt.isPortal=function(O){return j(O)===n},jt.isProfiler=function(O){return j(O)===a},jt.isStrictMode=function(O){return j(O)===i},jt.isSuspense=function(O){return j(O)===g},jt.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===r||O===f||O===a||O===i||O===g||O===v||typeof O=="object"&&O!==null&&(O.$$typeof===w||O.$$typeof===x||O.$$typeof===o||O.$$typeof===c||O.$$typeof===m||O.$$typeof===E||O.$$typeof===A||O.$$typeof===k||O.$$typeof===T)},jt.typeOf=j,jt}var vI;function Pne(){return vI||(vI=1,zw.exports=Rne()),zw.exports}var Dne=Pne(),nr=t=>t===0?0:t>0?1:-1,Di=t=>typeof t=="number"&&t!=+t,Rc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ze=t=>(typeof t=="number"||t instanceof Number)&&!Di(t),bs=t=>ze(t)||typeof t=="string",Mne=0,km=t=>{var e=++Mne;return"".concat(t||"").concat(e)},Or=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ze(e)&&typeof e!="string")return r;var a;if(Rc(e)){if(n==null)return r;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Di(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},Z8=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function vr(t,e,n){return ze(t)&&ze(e)?t+n*(e-t):e}function Lne(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):eu(r,e))===n)}var rr=t=>t===null||typeof t>"u",cp=t=>rr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Une=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function oA(t){if(typeof t!="string")return!1;var e=Une;return e.includes(t)}var Vne=["viewBox","children"],yI=["points","pathLength"],Fw={svg:Vne,polygon:yI,polyline:yI},$ne=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{oA(i)&&(r[i]=a=>n[i](n,a))}),r},Bne=(t,e,n)=>r=>(t(e,n,r),null),Ex=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];oA(i)&&typeof a=="function"&&(r||(r={}),r[i]=Bne(a,e,n))}),r},zne=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function J8(t){if(typeof t!="string")return!1;var e=zne;return e.includes(t)}function $l(t){var e=Object.entries(t).filter(n=>{var[r]=n;return J8(r)});return Object.fromEntries(e)}var xI=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",bI=null,qw=null,eL=t=>{if(t===bI&&Array.isArray(qw))return qw;var e=[];return S.Children.forEach(t,n=>{rr(n)||(Dne.isFragment(n)?e=e.concat(eL(n.props.children)):e.push(n))}),qw=e,bI=t,e};function lA(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>xI(i)):r=[xI(e)],eL(t).forEach(i=>{var a=eu(i,"type.displayName")||eu(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var Fne=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=r&&(Fw==null?void 0:Fw[r]))!==null&&i!==void 0?i:[],o=e.startsWith("data-"),c=typeof t!="function"&&(!!r&&a.includes(e)||J8(e)),d=!!n&&oA(e);return o||c||d},Fn=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(S.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var o;Fne((o=r)===null||o===void 0?void 0:o[a],a,e,n)&&(i[a]=r[a])}),i},qne=["children","width","height","viewBox","className","style","title","desc"];function dE(){return dE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dE.apply(null,arguments)}function Hne(t,e){if(t==null)return{};var n,r,i=Gne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tL=S.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:c,title:d,desc:f}=t,m=Hne(t,qne),g=a||{width:r,height:i,x:0,y:0},v=Ht("recharts-surface",o);return S.createElement("svg",dE({},Fn(m,!0,"svg"),{className:v,width:r,height:i,style:c,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),S.createElement("title",null,d),S.createElement("desc",null,f),n)}),Kne=["children","className"];function fE(){return fE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fE.apply(null,arguments)}function Wne(t,e){if(t==null)return{};var n,r,i=Yne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ui=S.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Wne(t,Kne),a=Ht("recharts-layer",r);return S.createElement("g",fE({className:a},Fn(i,!0),{ref:e}),n)}),Xne=S.createContext(null);function Zt(t){return function(){return t}}const nL=Math.cos,Iv=Math.sin,za=Math.sqrt,Rv=Math.PI,Sx=2*Rv,hE=Math.PI,mE=2*hE,Ac=1e-6,Qne=mE-Ac;function rL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Zne(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return rL;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Jne{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?rL:Zne(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,c=this._y1,d=r-e,f=i-n,m=o-e,g=c-n,v=m*m+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Ac)if(!(Math.abs(g*d-f*m)>Ac)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-o,w=i-c,T=d*d+f*f,E=x*x+w*w,A=Math.sqrt(T),k=Math.sqrt(v),j=a*Math.tan((hE-Math.acos((T+v-E)/(2*A*k)))/2),D=j/k,O=j/A;Math.abs(D-1)>Ac&&this._append`L${e+D*m},${n+D*g}`,this._append`A${a},${a},0,0,${+(g*x>m*w)},${this._x1=e+O*d},${this._y1=n+O*f}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=e+c,m=n+d,g=1^o,v=o?i-a:a-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Ac||Math.abs(this._y1-m)>Ac)&&this._append`L${f},${m}`,r&&(v<0&&(v=v%mE+mE),v>Qne?this._append`A${r},${r},0,1,${g},${e-c},${n-d}A${r},${r},0,1,${g},${this._x1=f},${this._y1=m}`:v>Ac&&this._append`A${r},${r},0,${+(v>=hE)},${g},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function cA(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Jne(e)}function uA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function iL(t){this._context=t}iL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Tx(t){return new iL(t)}function aL(t){return t[0]}function sL(t){return t[1]}function oL(t,e){var n=Zt(!0),r=null,i=Tx,a=null,o=cA(c);t=typeof t=="function"?t:t===void 0?aL:Zt(t),e=typeof e=="function"?e:e===void 0?sL:Zt(e);function c(d){var f,m=(d=uA(d)).length,g,v=!1,x;for(r==null&&(a=i(x=o())),f=0;f<=m;++f)!(f<m&&n(g=d[f],f,d))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(g,f,d),+e(g,f,d));if(x)return a=null,x+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Zt(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Zt(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Zt(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),c):r},c}function c0(t,e,n){var r=null,i=Zt(!0),a=null,o=Tx,c=null,d=cA(f);t=typeof t=="function"?t:t===void 0?aL:Zt(+t),e=typeof e=="function"?e:Zt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?sL:Zt(+n);function f(g){var v,x,w,T=(g=uA(g)).length,E,A=!1,k,j=new Array(T),D=new Array(T);for(a==null&&(c=o(k=d())),v=0;v<=T;++v){if(!(v<T&&i(E=g[v],v,g))===A)if(A=!A)x=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=v-1;w>=x;--w)c.point(j[w],D[w]);c.lineEnd(),c.areaEnd()}A&&(j[v]=+t(E,v,g),D[v]=+e(E,v,g),c.point(r?+r(E,v,g):j[v],n?+n(E,v,g):D[v]))}if(k)return c=null,k+""||null}function m(){return oL().defined(i).curve(o).context(a)}return f.x=function(g){return arguments.length?(t=typeof g=="function"?g:Zt(+g),r=null,f):t},f.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Zt(+g),f):t},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Zt(+g),f):r},f.y=function(g){return arguments.length?(e=typeof g=="function"?g:Zt(+g),n=null,f):e},f.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Zt(+g),f):e},f.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Zt(+g),f):n},f.lineX0=f.lineY0=function(){return m().x(t).y(e)},f.lineY1=function(){return m().x(t).y(n)},f.lineX1=function(){return m().x(r).y(e)},f.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Zt(!!g),f):i},f.curve=function(g){return arguments.length?(o=g,a!=null&&(c=o(a)),f):o},f.context=function(g){return arguments.length?(g==null?a=c=null:c=o(a=g),f):a},f}class lL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ere(t){return new lL(t,!0)}function tre(t){return new lL(t,!1)}const dA={draw(t,e){const n=za(e/Rv);t.moveTo(n,0),t.arc(0,0,n,0,Sx)}},nre={draw(t,e){const n=za(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},cL=za(1/3),rre=cL*2,ire={draw(t,e){const n=za(e/rre),r=n*cL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},are={draw(t,e){const n=za(e),r=-n/2;t.rect(r,r,n,n)}},sre=.8908130915292852,uL=Iv(Rv/10)/Iv(7*Rv/10),ore=Iv(Sx/10)*uL,lre=-nL(Sx/10)*uL,cre={draw(t,e){const n=za(e*sre),r=ore*n,i=lre*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Sx*a/5,c=nL(o),d=Iv(o);t.lineTo(d*n,-c*n),t.lineTo(c*r-d*i,d*r+c*i)}t.closePath()}},Hw=za(3),ure={draw(t,e){const n=-za(e/(Hw*3));t.moveTo(0,n*2),t.lineTo(-Hw*n,-n),t.lineTo(Hw*n,-n),t.closePath()}},Zi=-.5,Ji=za(3)/2,pE=1/za(12),dre=(pE/2+1)*3,fre={draw(t,e){const n=za(e/dre),r=n/2,i=n*pE,a=r,o=n*pE+n,c=-a,d=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(c,d),t.lineTo(Zi*r-Ji*i,Ji*r+Zi*i),t.lineTo(Zi*a-Ji*o,Ji*a+Zi*o),t.lineTo(Zi*c-Ji*d,Ji*c+Zi*d),t.lineTo(Zi*r+Ji*i,Zi*i-Ji*r),t.lineTo(Zi*a+Ji*o,Zi*o-Ji*a),t.lineTo(Zi*c+Ji*d,Zi*d-Ji*c),t.closePath()}};function hre(t,e){let n=null,r=cA(i);t=typeof t=="function"?t:Zt(t||dA),e=typeof e=="function"?e:Zt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Zt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Zt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Pv(){}function Dv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function dL(t){this._context=t}dL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mre(t){return new dL(t)}function fL(t){this._context=t}fL.prototype={areaStart:Pv,areaEnd:Pv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Dv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pre(t){return new fL(t)}function hL(t){this._context=t}hL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Dv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gre(t){return new hL(t)}function mL(t){this._context=t}mL.prototype={areaStart:Pv,areaEnd:Pv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function vre(t){return new mL(t)}function wI(t){return t<0?-1:1}function _I(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),c=(a*i+o*r)/(r+i);return(wI(a)+wI(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(c))||0}function EI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Gw(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,c=(a-r)/3;t._context.bezierCurveTo(r+c,i+c*e,a-c,o-c*n,a,o)}function Mv(t){this._context=t}Mv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Gw(this,this._t0,EI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Gw(this,EI(this,n=_I(this,t,e)),n);break;default:Gw(this,this._t0,n=_I(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function pL(t){this._context=new gL(t)}(pL.prototype=Object.create(Mv.prototype)).point=function(t,e){Mv.prototype.point.call(this,e,t)};function gL(t){this._context=t}gL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function yre(t){return new Mv(t)}function xre(t){return new pL(t)}function vL(t){this._context=t}vL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=SI(t),i=SI(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function SI(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function bre(t){return new vL(t)}function Ax(t,e){this._context=t,this._t=e}Ax.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function wre(t){return new Ax(t,.5)}function _re(t){return new Ax(t,0)}function Ere(t){return new Ax(t,1)}function Bd(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,c=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function gE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Sre(t,e){return t[e]}function Tre(t){const e=[];return e.key=t,e}function Are(){var t=Zt([]),e=gE,n=Bd,r=Sre;function i(a){var o=Array.from(t.apply(this,arguments),Tre),c,d=o.length,f=-1,m;for(const g of a)for(c=0,++f;c<d;++c)(o[c][f]=[0,+r(g,o[c].key,f,a)]).data=g;for(c=0,m=uA(e(o));c<d;++c)o[m[c]].index=c;return n(o,m),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Zt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Zt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?gE:typeof a=="function"?a:Zt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Bd,i):n},i}function Nre(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Bd(t,e)}}function kre(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,c=0;o<i;++o)c+=t[o][n][1]||0;r[n][1]+=r[n][0]=-c/2}Bd(t,e)}}function jre(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var c=0,d=0,f=0;c<o;++c){for(var m=t[e[c]],g=m[r][1]||0,v=m[r-1][1]||0,x=(g-v)/2,w=0;w<c;++w){var T=t[e[w]],E=T[r][1]||0,A=T[r-1][1]||0;x+=E-A}d+=g,f+=x*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Bd(t,e)}}var Cre=["type","size","sizeType"];function vE(){return vE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vE.apply(null,arguments)}function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){Ore(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ore(t,e,n){return(e=Ire(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ire(t){var e=Rre(t,"string");return typeof e=="symbol"?e:e+""}function Rre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pre(t,e){if(t==null)return{};var n,r,i=Dre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yL={symbolCircle:dA,symbolCross:nre,symbolDiamond:ire,symbolSquare:are,symbolStar:cre,symbolTriangle:ure,symbolWye:fre},Mre=Math.PI/180,Lre=t=>{var e="symbol".concat(cp(t));return yL[e]||dA},Ure=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Mre;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Vre=(t,e)=>{yL["symbol".concat(cp(t))]=e},xL=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Pre(t,Cre),a=AI(AI({},i),{},{type:e,size:n,sizeType:r}),o="circle";typeof e=="string"&&(o=e);var c=()=>{var v=Lre(o),x=hre().type(v).size(Ure(n,r,o));return x()},{className:d,cx:f,cy:m}=a,g=Fn(a,!0);return f===+f&&m===+m&&n===+n?S.createElement("path",vE({},g,{className:Ht("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};xL.registerSymbol=Vre;var Kw={},Ww={},NI;function $re(){return NI||(NI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],c=r(o);i.has(c)||i.set(c,o)}return Array.from(i.values())}t.uniqBy=e}(Ww)),Ww}var Yw={},kI;function bL(){return kI||(kI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e}(Yw)),Yw}var Xw={},Qw={},Zw={},jI;function Bre(){return jI||(jI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e}(Zw)),Zw}var CI;function fA(){return CI||(CI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bre();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n}(Qw)),Qw}var Jw={},OI;function zre(){return OI||(OI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e}(Jw)),Jw}var II;function Fre(){return II||(II=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fA(),n=zre();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r}(Xw)),Xw}var e_={},t_={},RI;function qre(){return RI||(RI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sA();function n(r){return function(i){return e.get(i,r)}}t.property=n}(t_)),t_}var n_={},r_={},i_={},a_={},PI;function wL(){return PI||(PI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e}(a_)),a_}var s_={},DI;function _L(){return DI||(DI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e}(s_)),s_}var o_={},MI;function EL(){return MI||(MI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e}(o_)),o_}var LI;function Hre(){return LI||(LI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hA(),n=wL(),r=_L(),i=EL();function a(g,v,x){return typeof x!="function"?e.isMatch(g,v):o(g,v,function w(T,E,A,k,j,D){const O=x(T,E,A,k,j,D);return O!==void 0?!!O:o(T,E,w,D)},new Map)}function o(g,v,x,w){if(v===g)return!0;switch(typeof v){case"object":return c(g,v,x,w);case"function":return Object.keys(v).length>0?o(g,{...v},x,w):i.eq(g,v);default:return n.isObject(g)?typeof v=="string"?v==="":!0:i.eq(g,v)}}function c(g,v,x,w){if(v==null)return!0;if(Array.isArray(v))return f(g,v,x,w);if(v instanceof Map)return d(g,v,x,w);if(v instanceof Set)return m(g,v,x,w);const T=Object.keys(v);if(g==null)return T.length===0;if(T.length===0)return!0;if(w&&w.has(v))return w.get(v)===g;w&&w.set(v,g);try{for(let E=0;E<T.length;E++){const A=T[E];if(!r.isPrimitive(g)&&!(A in g)||v[A]===void 0&&g[A]!==void 0||v[A]===null&&g[A]!==null||!x(g[A],v[A],A,g,v,w))return!1}return!0}finally{w&&w.delete(v)}}function d(g,v,x,w){if(v.size===0)return!0;if(!(g instanceof Map))return!1;for(const[T,E]of v.entries()){const A=g.get(T);if(x(A,E,T,g,v,w)===!1)return!1}return!0}function f(g,v,x,w){if(v.length===0)return!0;if(!Array.isArray(g))return!1;const T=new Set;for(let E=0;E<v.length;E++){const A=v[E];let k=!1;for(let j=0;j<g.length;j++){if(T.has(j))continue;const D=g[j];let O=!1;if(x(D,A,E,g,v,w)&&(O=!0),O){T.add(j),k=!0;break}}if(!k)return!1}return!0}function m(g,v,x,w){return v.size===0?!0:g instanceof Set?f([...g],[...v],x,w):!1}t.isMatchWith=a,t.isSetMatch=m}(i_)),i_}var UI;function hA(){return UI||(UI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hre();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(r_)),r_}var l_={},c_={},u_={},VI;function Gre(){return VI||(VI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e}(u_)),u_}var d_={},$I;function SL(){return $I||($I=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e}(d_)),d_}var f_={},BI;function TL(){return BI||(BI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",g="[object Function]",v="[object ArrayBuffer]",x="[object Object]",w="[object Error]",T="[object DataView]",E="[object Uint8Array]",A="[object Uint8ClampedArray]",k="[object Uint16Array]",j="[object Uint32Array]",D="[object BigUint64Array]",O="[object Int8Array]",L="[object Int16Array]",P="[object Int32Array]",C="[object BigInt64Array]",M="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=m,t.bigInt64ArrayTag=C,t.bigUint64ArrayTag=D,t.booleanTag=i,t.dataViewTag=T,t.dateTag=c,t.errorTag=w,t.float32ArrayTag=M,t.float64ArrayTag=z,t.functionTag=g,t.int16ArrayTag=L,t.int32ArrayTag=P,t.int8ArrayTag=O,t.mapTag=d,t.numberTag=r,t.objectTag=x,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=k,t.uint32ArrayTag=j,t.uint8ArrayTag=E,t.uint8ClampedArrayTag=A}(f_)),f_}var h_={},zI;function Kre(){return zI||(zI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e}(h_)),h_}var FI;function AL(){return FI||(FI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gre(),n=SL(),r=TL(),i=_L(),a=Kre();function o(m,g){return c(m,void 0,m,new Map,g)}function c(m,g,v,x=new Map,w=void 0){const T=w==null?void 0:w(m,g,v,x);if(T!==void 0)return T;if(i.isPrimitive(m))return m;if(x.has(m))return x.get(m);if(Array.isArray(m)){const E=new Array(m.length);x.set(m,E);for(let A=0;A<m.length;A++)E[A]=c(m[A],A,v,x,w);return Object.hasOwn(m,"index")&&(E.index=m.index),Object.hasOwn(m,"input")&&(E.input=m.input),E}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const E=new RegExp(m.source,m.flags);return E.lastIndex=m.lastIndex,E}if(m instanceof Map){const E=new Map;x.set(m,E);for(const[A,k]of m)E.set(A,c(k,A,v,x,w));return E}if(m instanceof Set){const E=new Set;x.set(m,E);for(const A of m)E.add(c(A,void 0,v,x,w));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const E=new(Object.getPrototypeOf(m)).constructor(m.length);x.set(m,E);for(let A=0;A<m.length;A++)E[A]=c(m[A],A,v,x,w);return E}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const E=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return x.set(m,E),d(E,m,v,x,w),E}if(typeof File<"u"&&m instanceof File){const E=new File([m],m.name,{type:m.type});return x.set(m,E),d(E,m,v,x,w),E}if(m instanceof Blob){const E=new Blob([m],{type:m.type});return x.set(m,E),d(E,m,v,x,w),E}if(m instanceof Error){const E=new m.constructor;return x.set(m,E),E.message=m.message,E.name=m.name,E.stack=m.stack,E.cause=m.cause,d(E,m,v,x,w),E}if(typeof m=="object"&&f(m)){const E=Object.create(Object.getPrototypeOf(m));return x.set(m,E),d(E,m,v,x,w),E}return m}function d(m,g,v=m,x,w){const T=[...Object.keys(g),...e.getSymbols(g)];for(let E=0;E<T.length;E++){const A=T[E],k=Object.getOwnPropertyDescriptor(m,A);(k==null||k.writable)&&(m[A]=c(g[A],A,v,x,w))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=c,t.copyProperties=d}(c_)),c_}var qI;function Wre(){return qI||(qI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AL();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n}(l_)),l_}var HI;function Yre(){return HI||(HI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hA(),n=Wre();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r}(n_)),n_}var m_={},p_={},g_={},GI;function Xre(){return GI||(GI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AL(),n=TL();function r(i,a){return e.cloneDeepWith(i,(o,c,d,f)=>{const m=a==null?void 0:a(o,c,d,f);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r}(g_)),g_}var KI;function Qre(){return KI||(KI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xre();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n}(p_)),p_}var v_={},y_={},WI;function NL(){return WI||(WI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n}(y_)),y_}var x_={},YI;function Zre(){return YI||(YI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SL();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n}(x_)),x_}var XI;function Jre(){return XI||(XI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=X8(),n=NL(),r=Zre(),i=aA();function a(o,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&(o==null?void 0:o[c])==null?d=i.toPath(c):d=[c],d.length===0)return!1;let f=o;for(let m=0;m<d.length;m++){const g=d[m];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}t.has=a}(v_)),v_}var QI;function eie(){return QI||(QI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hA(),n=Q8(),r=Qre(),i=sA(),a=Jre();function o(c,d){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(f){const m=i.get(f,c);return m===void 0?a.has(f,c):d===void 0?m===void 0:e.isMatch(m,d)}}t.matchesProperty=o}(m_)),m_}var ZI;function tie(){return ZI||(ZI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bL(),n=qre(),r=Yre(),i=eie();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a}(e_)),e_}var JI;function nie(){return JI||(JI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$re(),n=bL(),r=Fre(),i=tie();function a(o,c=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(c)):[]}t.uniqBy=a}(Kw)),Kw}var b_,eR;function rie(){return eR||(eR=1,b_=nie().uniqBy),b_}var iie=rie();const tR=hi(iie);function aie(t,e,n){return e===!0?tR(t,n):typeof e=="function"?tR(t,e):t}var w_={exports:{}},__={},E_={exports:{}},S_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nR;function sie(){if(nR)return S_;nR=1;var t=nf();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function c(g,v){var x=v(),w=r({inst:{value:x,getSnapshot:v}}),T=w[0].inst,E=w[1];return a(function(){T.value=x,T.getSnapshot=v,d(T)&&E({inst:T})},[g,x,v]),i(function(){return d(T)&&E({inst:T}),g(function(){d(T)&&E({inst:T})})},[g]),o(x),x}function d(g){var v=g.getSnapshot;g=g.value;try{var x=v();return!n(g,x)}catch{return!0}}function f(g,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return S_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,S_}var rR;function oie(){return rR||(rR=1,E_.exports=sie()),E_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iR;function lie(){if(iR)return __;iR=1;var t=nf(),e=oie();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,c=t.useMemo,d=t.useDebugValue;return __.useSyncExternalStoreWithSelector=function(f,m,g,v,x){var w=a(null);if(w.current===null){var T={hasValue:!1,value:null};w.current=T}else T=w.current;w=c(function(){function A(L){if(!k){if(k=!0,j=L,L=v(L),x!==void 0&&T.hasValue){var P=T.value;if(x(P,L))return D=P}return D=L}if(P=D,r(j,L))return P;var C=v(L);return x!==void 0&&x(P,C)?(j=L,P):(j=L,D=C)}var k=!1,j,D,O=g===void 0?null:g;return[function(){return A(m())},O===null?void 0:function(){return A(O())}]},[m,g,v,x]);var E=i(f,w[0],w[1]);return o(function(){T.hasValue=!0,T.value=E},[E]),d(E),E},__}var aR;function cie(){return aR||(aR=1,w_.exports=lie()),w_.exports}var uie=cie(),mA=S.createContext(null),die=t=>t,Tn=()=>{var t=S.useContext(mA);return t?t.store.dispatch:die},X0=()=>{},fie=()=>X0,hie=(t,e)=>t===e;function $e(t){var e=S.useContext(mA);return uie.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:fie,e?e.store.getState:X0,e?e.store.getState:X0,e?t:X0,hie)}function mie(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function pie(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function gie(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var sR=t=>Array.isArray(t)?t:[t];function vie(t){const e=Array.isArray(t[0])?t[0]:t;return gie(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function yie(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var xie=class{constructor(t){this.value=t}deref(){return this.value}},bie=typeof WeakRef<"u"?WeakRef:xie,wie=0,oR=1;function u0(){return{s:wie,v:void 0,o:null,p:null}}function kL(t,e={}){let n=u0();const{resultEqualityCheck:r}=e;let i,a=0;function o(){var g;let c=n;const{length:d}=arguments;for(let v=0,x=d;v<x;v++){const w=arguments[v];if(typeof w=="function"||typeof w=="object"&&w!==null){let T=c.o;T===null&&(c.o=T=new WeakMap);const E=T.get(w);E===void 0?(c=u0(),T.set(w,c)):c=E}else{let T=c.p;T===null&&(c.p=T=new Map);const E=T.get(w);E===void 0?(c=u0(),T.set(w,c)):c=E}}const f=c;let m;if(c.s===oR)m=c.v;else if(m=t.apply(null,arguments),a++,r){const v=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;v!=null&&r(v,m)&&(m=v,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new bie(m):m}return f.s=oR,f.v=m,m}return o.clearCache=()=>{n=u0(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function _ie(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,o=0,c,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),mie(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...d},{memoize:g,memoizeOptions:v=[],argsMemoize:x=kL,argsMemoizeOptions:w=[]}=m,T=sR(v),E=sR(w),A=vie(i),k=g(function(){return a++,f.apply(null,arguments)},...T),j=x(function(){o++;const O=yie(A,arguments);return c=k.apply(null,O),c},...E);return Object.assign(j,{resultFunc:f,memoizedResultFunc:k,dependencies:A,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:g,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var ue=_ie(kL),Eie=Object.assign((t,e=ue)=>{pie(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((o,c,d)=>(o[n[d]]=c,o),{}))},{withTypes:()=>Eie}),T_={},A_={},N_={},lR;function Sie(){return lR||(lR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=e(r),c=e(i);if(o===c&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-o:o-c}return 0};t.compareValues=n}(N_)),N_}var k_={},j_={},cR;function jL(){return cR||(cR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e}(j_)),j_}var uR;function Tie(){return uR||(uR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jL(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i}(k_)),k_}var dR;function Aie(){return dR||(dR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sie(),n=Tie(),r=aA();function i(a,o,c,d){if(a==null)return[];c=d?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(x=>String(x));const f=(x,w)=>{let T=x;for(let E=0;E<w.length&&T!=null;++E)T=T[w[E]];return T},m=(x,w)=>w==null||x==null?w:typeof x=="object"&&"key"in x?Object.hasOwn(w,x.key)?w[x.key]:f(w,x.path):typeof x=="function"?x(w):Array.isArray(x)?f(w,x):typeof w=="object"?w[x]:w,g=o.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return a.map(x=>({original:x,criteria:g.map(w=>m(w,x))})).slice().sort((x,w)=>{for(let T=0;T<g.length;T++){const E=e.compareValues(x.criteria[T],w.criteria[T],c[T]);if(E!==0)return E}return 0}).map(x=>x.original)}t.orderBy=i}(A_)),A_}var C_={},fR;function Nie(){return fR||(fR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),o=(c,d)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&d<a?o(m,d+1):i.push(m)}};return o(n,0),i}t.flatten=e}(C_)),C_}var O_={},hR;function CL(){return hR||(hR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NL(),n=fA(),r=wL(),i=EL();function a(o,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],o):!1}t.isIterateeCall=a}(O_)),O_}var mR;function kie(){return mR||(mR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Aie(),n=Nie(),r=CL();function i(a,...o){const c=o.length;return c>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:c>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=i}(T_)),T_}var I_,pR;function jie(){return pR||(pR=1,I_=kie().sortBy),I_}var Cie=jie();const Nx=hi(Cie);var OL=t=>t.legend.settings,Oie=t=>t.legend.size,Iie=t=>t.legend.payload;ue([Iie,OL],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Nx(r,n):r});var d0=1;function Rie(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=S.useState({height:0,left:0,top:0,width:0}),r=S.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>d0||Math.abs(o.left-e.left)>d0||Math.abs(o.top-e.top)>d0||Math.abs(o.width-e.width)>d0)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function hr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Pie=typeof Symbol=="function"&&Symbol.observable||"@@observable",gR=Pie,R_=()=>Math.random().toString(36).substring(7).split("").join("."),Die={INIT:`@@redux/INIT${R_()}`,REPLACE:`@@redux/REPLACE${R_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${R_()}`},Lv=Die;function pA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function IL(t,e,n){if(typeof t!="function")throw new Error(hr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(hr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(hr(1));return n(IL)(t,e)}let r=t,i=e,a=new Map,o=a,c=0,d=!1;function f(){o===a&&(o=new Map,a.forEach((E,A)=>{o.set(A,E)}))}function m(){if(d)throw new Error(hr(3));return i}function g(E){if(typeof E!="function")throw new Error(hr(4));if(d)throw new Error(hr(5));let A=!0;f();const k=c++;return o.set(k,E),function(){if(A){if(d)throw new Error(hr(6));A=!1,f(),o.delete(k),a=null}}}function v(E){if(!pA(E))throw new Error(hr(7));if(typeof E.type>"u")throw new Error(hr(8));if(typeof E.type!="string")throw new Error(hr(17));if(d)throw new Error(hr(9));try{d=!0,i=r(i,E)}finally{d=!1}return(a=o).forEach(k=>{k()}),E}function x(E){if(typeof E!="function")throw new Error(hr(10));r=E,v({type:Lv.REPLACE})}function w(){const E=g;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(hr(11));function k(){const D=A;D.next&&D.next(m())}return k(),{unsubscribe:E(k)}},[gR](){return this}}}return v({type:Lv.INIT}),{dispatch:v,subscribe:g,getState:m,replaceReducer:x,[gR]:w}}function Mie(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Lv.INIT})>"u")throw new Error(hr(12));if(typeof n(void 0,{type:Lv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hr(13))})}function RL(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{Mie(n)}catch(a){i=a}return function(o={},c){if(i)throw i;let d=!1;const f={};for(let m=0;m<r.length;m++){const g=r[m],v=n[g],x=o[g],w=v(x,c);if(typeof w>"u")throw c&&c.type,new Error(hr(14));f[g]=w,d=d||w!==x}return d=d||r.length!==Object.keys(o).length,d?f:o}}function Uv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Lie(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(hr(15))};const o={getState:i.getState,dispatch:(d,...f)=>a(d,...f)},c=t.map(d=>d(o));return a=Uv(...c)(i.dispatch),{...i,dispatch:a}}}function PL(t){return pA(t)&&"type"in t&&typeof t.type=="string"}var DL=Symbol.for("immer-nothing"),vR=Symbol.for("immer-draftable"),Mi=Symbol.for("immer-state");function ka(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var zd=Object.getPrototypeOf;function tu(t){return!!t&&!!t[Mi]}function wo(t){var e;return t?ML(t)||Array.isArray(t)||!!t[vR]||!!((e=t.constructor)!=null&&e[vR])||up(t)||jx(t):!1}var Uie=Object.prototype.constructor.toString();function ML(t){if(!t||typeof t!="object")return!1;const e=zd(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Uie}function Vv(t,e){kx(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function kx(t){const e=t[Mi];return e?e.type_:Array.isArray(t)?1:up(t)?2:jx(t)?3:0}function yE(t,e){return kx(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function LL(t,e,n){const r=kx(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Vie(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function up(t){return t instanceof Map}function jx(t){return t instanceof Set}function Nc(t){return t.copy_||t.base_}function xE(t,e){if(up(t))return new Map(t);if(jx(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=ML(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Mi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],c=r[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[o]})}return Object.create(zd(t),r)}else{const r=zd(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function gA(t,e=!1){return Cx(t)||tu(t)||!wo(t)||(kx(t)>1&&Object.defineProperties(t,{set:{value:f0},add:{value:f0},clear:{value:f0},delete:{value:f0}}),Object.freeze(t),e&&Object.values(t).forEach(n=>gA(n,!0))),t}function f0(){ka(2)}function Cx(t){return Object.isFrozen(t)}var $ie={};function nu(t){const e=$ie[t];return e||ka(0,t),e}var jm;function UL(){return jm}function Bie(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yR(t,e){e&&(nu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function bE(t){wE(t),t.drafts_.forEach(zie),t.drafts_=null}function wE(t){t===jm&&(jm=t.parent_)}function xR(t){return jm=Bie(jm,t)}function zie(t){const e=t[Mi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function bR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Mi].modified_&&(bE(e),ka(4)),wo(t)&&(t=$v(e,t),e.parent_||Bv(e,t)),e.patches_&&nu("Patches").generateReplacementPatches_(n[Mi].base_,t,e.patches_,e.inversePatches_)):t=$v(e,n,[]),bE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==DL?t:void 0}function $v(t,e,n){if(Cx(e))return e;const r=e[Mi];if(!r)return Vv(e,(i,a)=>wR(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Bv(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),Vv(a,(c,d)=>wR(t,r,i,c,d,n,o)),Bv(t,i,!1),n&&t.patches_&&nu("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function wR(t,e,n,r,i,a,o){if(tu(i)){const c=a&&e&&e.type_!==3&&!yE(e.assigned_,r)?a.concat(r):void 0,d=$v(t,i,c);if(LL(n,r,d),tu(d))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(wo(i)&&!Cx(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;$v(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(up(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Bv(t,i)}}function Bv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&gA(e,n)}function Fie(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:UL(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=vA;n&&(i=[r],a=Cm);const{revoke:o,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=o,c}var vA={get(t,e){if(e===Mi)return t;const n=Nc(t);if(!yE(n,e))return qie(t,n,e);const r=n[e];return t.finalized_||!wo(r)?r:r===P_(t.base_,e)?(D_(t),t.copy_[e]=EE(r,t)):r},has(t,e){return e in Nc(t)},ownKeys(t){return Reflect.ownKeys(Nc(t))},set(t,e,n){const r=VL(Nc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=P_(Nc(t),e),a=i==null?void 0:i[Mi];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Vie(n,i)&&(n!==void 0||yE(t.base_,e)))return!0;D_(t),_E(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return P_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,D_(t),_E(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Nc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ka(11)},getPrototypeOf(t){return zd(t.base_)},setPrototypeOf(){ka(12)}},Cm={};Vv(vA,(t,e)=>{Cm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Cm.deleteProperty=function(t,e){return Cm.set.call(this,t,e,void 0)};Cm.set=function(t,e,n){return vA.set.call(this,t[0],e,n,t[0])};function P_(t,e){const n=t[Mi];return(n?Nc(n):t)[e]}function qie(t,e,n){var i;const r=VL(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function VL(t,e){if(!(e in t))return;let n=zd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=zd(n)}}function _E(t){t.modified_||(t.modified_=!0,t.parent_&&_E(t.parent_))}function D_(t){t.copy_||(t.copy_=xE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Hie=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(d=a,...f){return o.produce(d,m=>n.call(this,m,...f))}}typeof n!="function"&&ka(6),r!==void 0&&typeof r!="function"&&ka(7);let i;if(wo(e)){const a=xR(this),o=EE(e,void 0);let c=!0;try{i=n(o),c=!1}finally{c?bE(a):wE(a)}return yR(a,r),bR(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===DL&&(i=void 0),this.autoFreeze_&&gA(i,!0),r){const a=[],o=[];nu("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else ka(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...c)=>this.produceWithPatches(o,d=>e(d,...c));let r,i;return[this.produce(e,n,(o,c)=>{r=o,i=c}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){wo(t)||ka(8),tu(t)&&(t=mo(t));const e=xR(this),n=EE(t,void 0);return n[Mi].isManual_=!0,wE(e),n}finishDraft(t,e){const n=t&&t[Mi];(!n||!n.isManual_)&&ka(9);const{scope_:r}=n;return yR(r,e),bR(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=nu("Patches").applyPatches_;return tu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function EE(t,e){const n=up(t)?nu("MapSet").proxyMap_(t,e):jx(t)?nu("MapSet").proxySet_(t,e):Fie(t,e);return(e?e.scope_:UL()).drafts_.push(n),n}function mo(t){return tu(t)||ka(10,t),$L(t)}function $L(t){if(!wo(t)||Cx(t))return t;const e=t[Mi];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=xE(t,e.scope_.immer_.useStrictShallowCopy_)}else n=xE(t,!0);return Vv(n,(r,i)=>{LL(n,r,$L(i))}),e&&(e.finalized_=!1),n}var Gie=new Hie,BL=Gie.produce;function zL(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var Kie=zL(),Wie=zL,Yie=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Uv:Uv.apply(null,arguments)};function ca(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Ri(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>PL(r)&&r.type===t,n}var FL=class Hh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Hh.prototype)}static get[Symbol.species](){return Hh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Hh(...e[0].concat(this)):new Hh(...e.concat(this))}};function _R(t){return wo(t)?BL(t,()=>{}):t}function h0(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Xie(t){return typeof t=="boolean"}var Qie=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new FL;return n&&(Xie(n)?o.push(Kie):o.push(Wie(n.extraArgument))),o},Zie="RTK_autoBatch",ER=t=>e=>{setTimeout(e,t)},Jie=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ER(10):t.type==="callback"?t.queueNotification:ER(t.timeout),f=()=>{o=!1,a&&(a=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const g=()=>i&&m(),v=r.subscribe(g);return c.add(m),()=>{v(),c.delete(m)}},dispatch(m){var g;try{return i=!((g=m==null?void 0:m.meta)!=null&&g[Zie]),a=!i,a&&(o||(o=!0,d(f))),r.dispatch(m)}finally{i=!0}}})},eae=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new FL(t);return r&&i.push(Jie(typeof r=="object"?r:void 0)),i};function tae(t){const e=Qie(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(pA(n))c=RL(n);else throw new Error(Ri(1));let d;typeof r=="function"?d=r(e):d=e();let f=Uv;i&&(f=Yie({trace:!1,...typeof i=="object"&&i}));const m=Lie(...d),g=eae(m);let v=typeof o=="function"?o(g):g();const x=f(...v);return IL(c,a,x)}function qL(t){const e={},n=[];let r;const i={addCase(a,o){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(Ri(28));if(c in e)throw new Error(Ri(29));return e[c]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function nae(t){return typeof t=="function"}function rae(t,e){let[n,r,i]=qL(e),a;if(nae(t))a=()=>_R(t());else{const c=_R(t);a=()=>c}function o(c=a(),d){let f=[n[d.type],...r.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[i]),f.reduce((m,g)=>{if(g)if(tu(m)){const x=g(m,d);return x===void 0?m:x}else{if(wo(m))return BL(m,v=>g(v,d));{const v=g(m,d);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},c)}return o.getInitialState=a,o}var iae="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",aae=(t=21)=>{let e="",n=t;for(;n--;)e+=iae[Math.random()*64|0];return e},sae=Symbol.for("rtk-slice-createasyncthunk");function oae(t,e){return`${t}/${e}`}function lae({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[sae];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(Ri(11));const c=(typeof i.reducers=="function"?i.reducers(uae()):i.reducers)||{},d=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(D,O){const L=typeof D=="string"?D:D.type;if(!L)throw new Error(Ri(12));if(L in f.sliceCaseReducersByType)throw new Error(Ri(13));return f.sliceCaseReducersByType[L]=O,m},addMatcher(D,O){return f.sliceMatchers.push({matcher:D,reducer:O}),m},exposeAction(D,O){return f.actionCreators[D]=O,m},exposeCaseReducer(D,O){return f.sliceCaseReducersByName[D]=O,m}};d.forEach(D=>{const O=c[D],L={reducerName:D,type:oae(a,D),createNotation:typeof i.reducers=="function"};fae(O)?mae(L,O,m,e):dae(L,O,m)});function g(){const[D={},O=[],L=void 0]=typeof i.extraReducers=="function"?qL(i.extraReducers):[i.extraReducers],P={...D,...f.sliceCaseReducersByType};return rae(i.initialState,C=>{for(let M in P)C.addCase(M,P[M]);for(let M of f.sliceMatchers)C.addMatcher(M.matcher,M.reducer);for(let M of O)C.addMatcher(M.matcher,M.reducer);L&&C.addDefaultCase(L)})}const v=D=>D,x=new Map,w=new WeakMap;let T;function E(D,O){return T||(T=g()),T(D,O)}function A(){return T||(T=g()),T.getInitialState()}function k(D,O=!1){function L(C){let M=C[D];return typeof M>"u"&&O&&(M=h0(w,L,A)),M}function P(C=v){const M=h0(x,O,()=>new WeakMap);return h0(M,C,()=>{const z={};for(const[V,H]of Object.entries(i.selectors??{}))z[V]=cae(H,C,()=>h0(w,C,A),O);return z})}return{reducerPath:D,getSelectors:P,get selectors(){return P(L)},selectSlice:L}}const j={name:a,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:A,...k(o),injectInto(D,{reducerPath:O,...L}={}){const P=O??o;return D.inject({reducerPath:P,reducer:E},L),{...j,...k(P,!0)}}};return j}}function cae(t,e,n,r){function i(a,...o){let c=e(a);return typeof c>"u"&&r&&(c=n()),t(c,...o)}return i.unwrapped=t,i}var Vi=lae();function uae(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function dae({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!hae(r))throw new Error(Ri(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?ca(t,o):ca(t))}function fae(t){return t._reducerDefinitionType==="asyncThunk"}function hae(t){return t._reducerDefinitionType==="reducerWithPrepare"}function mae({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Ri(18));const{payloadCreator:a,fulfilled:o,pending:c,rejected:d,settled:f,options:m}=n,g=i(t,a,m);r.exposeAction(e,g),o&&r.addCase(g.fulfilled,o),c&&r.addCase(g.pending,c),d&&r.addCase(g.rejected,d),f&&r.addMatcher(g.settled,f),r.exposeCaseReducer(e,{fulfilled:o||m0,pending:c||m0,rejected:d||m0,settled:f||m0})}function m0(){}var pae="task",HL="listener",GL="completed",yA="cancelled",gae=`task-${yA}`,vae=`task-${GL}`,SE=`${HL}-${yA}`,yae=`${HL}-${GL}`,Ox=class{constructor(t){Sa(this,"name","TaskAbortError");Sa(this,"message");this.code=t,this.message=`${pae} ${yA} (reason: ${t})`}},xA=(t,e)=>{if(typeof t!="function")throw new TypeError(Ri(32))},zv=()=>{},KL=(t,e=zv)=>(t.catch(e),t),WL=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),zc=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Fc=t=>{if(t.aborted){const{reason:e}=t;throw new Ox(e)}};function YL(t,e){let n=zv;return new Promise((r,i)=>{const a=()=>i(new Ox(t.reason));if(t.aborted){a();return}n=WL(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=zv})}var xae=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Ox?"cancelled":"rejected",error:n}}finally{e==null||e()}},Fv=t=>e=>KL(YL(t,e).then(n=>(Fc(t),n))),XL=t=>{const e=Fv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Ad}=Object,SR={},Ix="listenerMiddleware",bae=(t,e)=>{const n=r=>WL(t,()=>zc(r,t.reason));return(r,i)=>{xA(r);const a=new AbortController;n(a);const o=xae(async()=>{Fc(t),Fc(a.signal);const c=await r({pause:Fv(a.signal),delay:XL(a.signal),signal:a.signal});return Fc(a.signal),c},()=>zc(a,vae));return i!=null&&i.autoJoin&&e.push(o.catch(zv)),{result:Fv(t)(o),cancel(){zc(a,gae)}}}},wae=(t,e)=>{const n=async(r,i)=>{Fc(e);let a=()=>{};const c=[new Promise((d,f)=>{let m=t({predicate:r,effect:(g,v)=>{v.unsubscribe(),d([g,v.getState(),v.getOriginalState()])}});a=()=>{m(),f()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await YL(e,Promise.race(c));return Fc(e),d}finally{a()}};return(r,i)=>KL(n(r,i))},QL=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=ca(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ri(21));return xA(a),{predicate:i,type:e,effect:a}},ZL=Ad(t=>{const{type:e,predicate:n,effect:r}=QL(t);return{id:aae(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ri(22))}}},{withTypes:()=>ZL}),TR=(t,e)=>{const{type:n,effect:r,predicate:i}=QL(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},TE=t=>{t.pending.forEach(e=>{zc(e,SE)})},_ae=t=>()=>{t.forEach(TE),t.clear()},AR=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},JL=Ad(ca(`${Ix}/add`),{withTypes:()=>JL}),Eae=ca(`${Ix}/removeAll`),e7=Ad(ca(`${Ix}/remove`),{withTypes:()=>e7}),Sae=(...t)=>{console.error(`${Ix}/error`,...t)},dp=(t={})=>{const e=new Map,{extra:n,onError:r=Sae}=t;xA(r);const i=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&TE(m)}),a=m=>{const g=TR(e,m)??ZL(m);return i(g)};Ad(a,{withTypes:()=>a});const o=m=>{const g=TR(e,m);return g&&(g.unsubscribe(),m.cancelActive&&TE(g)),!!g};Ad(o,{withTypes:()=>o});const c=async(m,g,v,x)=>{const w=new AbortController,T=wae(a,w.signal),E=[];try{m.pending.add(w),await Promise.resolve(m.effect(g,Ad({},v,{getOriginalState:x,condition:(A,k)=>T(A,k).then(Boolean),take:T,delay:XL(w.signal),pause:Fv(w.signal),extra:n,signal:w.signal,fork:bae(w.signal,E),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((A,k,j)=>{A!==w&&(zc(A,SE),j.delete(A))})},cancel:()=>{zc(w,SE),m.pending.delete(w)},throwIfCancelled:()=>{Fc(w.signal)}})))}catch(A){A instanceof Ox||AR(r,A,{raisedBy:"effect"})}finally{await Promise.all(E),zc(w,yae),m.pending.delete(w)}},d=_ae(e);return{middleware:m=>g=>v=>{if(!PL(v))return g(v);if(JL.match(v))return a(v.payload);if(Eae.match(v)){d();return}if(e7.match(v))return o(v.payload);let x=m.getState();const w=()=>{if(x===SR)throw new Error(Ri(23));return x};let T;try{if(T=g(v),e.size>0){const E=m.getState(),A=Array.from(e.values());for(const k of A){let j=!1;try{j=k.predicate(v,E,x)}catch(D){j=!1,AR(r,D,{raisedBy:"predicate"})}j&&c(k,v,m,w)}}}finally{x=SR}return T},startListening:a,stopListening:o,clearListeners:d}};function Ri(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Tae={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},t7=Vi({name:"chartLayout",initialState:Tae,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Aae,setLayout:Nae,setChartSize:kae,setScale:jae}=t7.actions,Cae=t7.reducer;function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){Oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oae(t,e,n){return(e=Iae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iae(t){var e=Rae(t,"string");return typeof e=="symbol"?e:e+""}function Rae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qv=Math.PI/180,Pae=t=>t*180/Math.PI,In=(t,e,n,r)=>({x:t+Math.cos(-qv*r)*n,y:e+Math.sin(-qv*r)*n}),n7=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Dae=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},Mae=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,o=Dae({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var c=(n-i)/o,d=Math.acos(c);return r>a&&(d=2*Math.PI-d),{radius:o,angle:Pae(d),angleInRadian:d}},Lae=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},Uae=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return t+o*360},Vae=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=Mae({x:n,y:r},e),{innerRadius:o,outerRadius:c}=e;if(i<o||i>c||i===0)return null;var{startAngle:d,endAngle:f}=Lae(e),m=a,g;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;g=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=d}return g?kR(kR({},e),{},{radius:i,angle:Uae(m,e)}):null};function r7(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function na(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){$ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ae(t,e,n){return(e=Bae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bae(t){var e=zae(t,"string");return typeof e=="symbol"?e:e+""}function zae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dn(t,e,n){return rr(t)||rr(e)?n:bs(e)?eu(t,e,n):typeof e=="function"?e(t):n}var Fae=(t,e,n,r,i)=>{var a,o=-1,c=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<c;d++){var f=d>0?n[d-1].coordinate:n[c-1].coordinate,m=n[d].coordinate,g=d>=c-1?n[0].coordinate:n[d+1].coordinate,v=void 0;if(nr(m-f)!==nr(g-m)){var x=[];if(nr(g-m)===nr(i[1]-i[0])){v=g;var w=m+i[1]-i[0];x[0]=Math.min(w,(w+f)/2),x[1]=Math.max(w,(w+f)/2)}else{v=f;var T=g+i[1]-i[0];x[0]=Math.min(m,(T+m)/2),x[1]=Math.max(m,(T+m)/2)}var E=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(t>E[0]&&t<=E[1]||t>=x[0]&&t<=x[1]){({index:o}=n[d]);break}}else{var A=Math.min(f,g),k=Math.max(f,g);if(t>(A+m)/2&&t<=(k+m)/2){({index:o}=n[d]);break}}}else if(e){for(var j=0;j<c;j++)if(j===0&&t<=(e[j].coordinate+e[j+1].coordinate)/2||j>0&&j<c-1&&t>(e[j].coordinate+e[j-1].coordinate)/2&&t<=(e[j].coordinate+e[j+1].coordinate)/2||j===c-1&&t>(e[j].coordinate+e[j-1].coordinate)/2){({index:o}=e[j]);break}}return o},qae=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:c}=e;if((c==="vertical"||c==="horizontal"&&o==="middle")&&a!=="center"&&ze(t[a]))return na(na({},t),{},{[a]:t[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&o!=="middle"&&ze(t[o]))return na(na({},t),{},{[o]:t[o]+(i||0)})}return t},mu=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",i7=(t,e,n,r)=>{if(r)return t.map(c=>c.coordinate);var i,a,o=t.map(c=>(c.coordinate===e&&(i=!0),c.coordinate===n&&(a=!0),c.coordinate));return i||o.push(e),a||o.push(n),o},a7=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:c,isCategorical:d,categoricalDomain:f,tickCount:m,ticks:g,niceTicks:v,axisType:x}=t;if(!o)return null;var w=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,T=i==="category"&&o.bandwidth?o.bandwidth()/w:0;if(T=x==="angleAxis"&&a&&a.length>=2?nr(a[0]-a[1])*2*T:T,g||v){var E=(g||v||[]).map((A,k)=>{var j=r?r.indexOf(A):A;return{coordinate:o(j)+T,value:A,offset:T,index:k}});return E.filter(A=>!Di(A.coordinate))}return d&&f?f.map((A,k)=>({coordinate:o(A)+T,value:A,index:k,offset:T})):o.ticks&&m!=null?o.ticks(m).map((A,k)=>({coordinate:o(A)+T,value:A,offset:T,index:k})):o.domain().map((A,k)=>({coordinate:o(A)+T,value:r?r[A]:A,index:k,offset:T}))},CR=1e-4,Hae=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-CR,a=Math.max(r[0],r[1])+CR,o=t(e[0]),c=t(e[n-1]);(o<i||o>a||c<i||c>a)&&t.domain([e[0],e[n-1]])}},Gae=(t,e)=>{if(!e||e.length!==2||!ze(e[0])||!ze(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ze(t[0])||t[0]<n)&&(i[0]=n),(!ze(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Kae=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,o=0;o<e;++o){var c=Di(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=i,t[o][n][1]=i+c,i=t[o][n][1]):(t[o][n][0]=a,t[o][n][1]=a+c,a=t[o][n][1])}},Wae=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var o=Di(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=i,t[a][n][1]=i+o,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},Yae={sign:Kae,expand:Nre,none:Bd,silhouette:kre,wiggle:jre,positive:Wae},Xae=(t,e,n)=>{var r=Yae[n],i=Are().keys(e).value((a,o)=>+dn(a,o,0)).order(gE).offset(r);return i(t)};function Qae(t){return t==null?void 0:String(t)}var OR=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return n[o]?n[o].coordinate+r:null;var c=dn(a,e.dataKey,e.scale.domain()[o]);return rr(c)?null:e.scale(c)-i/2+r},Zae=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Jae=t=>{var e=t.flat(2).filter(ze);return[Math.min(...e),Math.max(...e)]},ese=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],tse=(t,e,n)=>{if(t!=null)return ese(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:o}=a,c=o.reduce((d,f)=>{var m=r7(f,e,n),g=Jae(m);return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},IR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bA=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Nx(e,m=>m.coordinate),a=1/0,o=1,c=i.length;o<c;o++){var d=i[o],f=i[o-1];a=Math.min((d.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function PR(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return na(na({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Rx(t,e){if(t)return String(t);if(typeof e=="string")return e}function nse(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?Vae({x:t,y:e},r):null}var rse=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:o}=r;return na(na(na({},r),In(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var c=i.coordinate,{angle:d}=r;return na(na(na({},r),In(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},ise=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Io=t=>t.layout.width,Ro=t=>t.layout.height,ase=t=>t.layout.scale,s7=t=>t.layout.margin,Px=ue(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Dx=ue(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),o7="data-recharts-item-index",l7="data-recharts-item-data-key",fp=60;function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){sse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sse(t,e,n){return(e=ose(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ose(t){var e=lse(t,"string");return typeof e=="symbol"?e:e+""}function lse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cse=t=>t.brush.height;function use(t){var e=Dx(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:fp;return n+i}return n},0)}function dse(t){var e=Dx(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:fp;return n+i}return n},0)}function fse(t){var e=Px(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function hse(t){var e=Px(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var qn=ue([Io,Ro,s7,cse,use,dse,fse,hse,OL,Oie],(t,e,n,r,i,a,o,c,d,f)=>{var m={left:(n.left||0)+i,right:(n.right||0)+a},g={top:(n.top||0)+o,bottom:(n.bottom||0)+c},v=p0(p0({},g),m),x=v.bottom;v.bottom+=r,v=qae(v,d,f);var w=t-v.left-v.right,T=e-v.top-v.bottom;return p0(p0({brushBottom:x},v),{},{width:Math.max(w,0),height:Math.max(T,0)})}),mse=ue(qn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),wA=ue(Io,Ro,(t,e)=>({x:0,y:0,width:t,height:e})),pse=S.createContext(null),fa=()=>S.useContext(pse)!=null,Mx=t=>t.brush,Lx=ue([Mx,qn,s7],(t,e,n)=>({height:t.height,x:ze(t.x)?t.x:e.left,y:ze(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:ze(t.width)?t.width:e.width})),_A=()=>{var t,e=fa(),n=$e(mse),r=$e(Lx),i=(t=$e(Mx))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},gse={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},c7=()=>{var t;return(t=$e(qn))!==null&&t!==void 0?t:gse},u7=()=>$e(Io),d7=()=>$e(Ro),At=t=>t.layout.layoutType,EA=()=>$e(At),vse={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},f7=Vi({name:"legend",initialState:vse,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=mo(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:L2e,setLegendSettings:U2e,addLegendPayload:h7,removeLegendPayload:m7}=f7.actions,yse=f7.reducer;function AE(){return AE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AE.apply(null,arguments)}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){xse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xse(t,e,n){return(e=bse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bse(t){var e=wse(t,"string");return typeof e=="symbol"?e:e+""}function wse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _se(t){return Array.isArray(t)&&bs(t[0])&&bs(t[1])?t.join(" ~ "):t}var Ese=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:c,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:g,accessibilityLayer:v=!1}=t,x=()=>{if(a&&a.length){var O={padding:0,margin:0},L=(c?Nx(a,c):a).map((P,C)=>{if(P.type==="none")return null;var M=P.formatter||o||_se,{value:z,name:V}=P,H=z,q=V;if(M){var G=M(z,V,P,C,a);if(Array.isArray(G))[H,q]=G;else if(G!=null)H=G;else return null}var W=M_({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:W},bs(q)?S.createElement("span",{className:"recharts-tooltip-item-name"},q):null,bs(q)?S.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,S.createElement("span",{className:"recharts-tooltip-item-value"},H),S.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:O},L)}return null},w=M_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),T=M_({margin:0},i),E=!rr(m),A=E?m:"",k=Ht("recharts-default-tooltip",d),j=Ht("recharts-tooltip-label",f);E&&g&&a!==void 0&&a!==null&&(A=g(m,a));var D=v?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",AE({className:k,style:w},D),S.createElement("p",{className:j,style:T},S.isValidElement(A)?A:"".concat(A)),x())},Oh="recharts-tooltip-wrapper",Sse={visibility:"hidden"};function Tse(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ht(Oh,{["".concat(Oh,"-right")]:ze(n)&&e&&ze(e.x)&&n>=e.x,["".concat(Oh,"-left")]:ze(n)&&e&&ze(e.x)&&n<e.x,["".concat(Oh,"-bottom")]:ze(r)&&e&&ze(e.y)&&r>=e.y,["".concat(Oh,"-top")]:ze(r)&&e&&ze(e.y)&&r<e.y})}function LR(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=t;if(a&&ze(a[r]))return a[r];var m=n[r]-c-(i>0?i:0),g=n[r]+i;if(e[r])return o[r]?m:g;var v=d[r];if(v==null)return 0;if(o[r]){var x=m,w=v;return x<w?Math.max(g,v):Math.max(m,v)}if(f==null)return 0;var T=g+c,E=v+f;return T>E?Math.max(m,v):Math.max(g,v)}function Ase(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Nse(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:c,viewBox:d}=t,f,m,g;return o.height>0&&o.width>0&&n?(m=LR({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),g=LR({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=Ase({translateX:m,translateY:g,useTranslate3d:c})):f=Sse,{cssProperties:f,cssClasses:Tse({translateX:m,translateY:g,coordinate:n})}}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){NE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NE(t,e,n){return(e=kse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kse(t){var e=jse(t,"string");return typeof e=="symbol"?e:e+""}function jse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Cse extends S.PureComponent{constructor(){super(...arguments),NE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),NE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:c,isAnimationActive:d,offset:f,position:m,reverseDirection:g,useTranslate3d:v,viewBox:x,wrapperStyle:w,lastBoundingBox:T,innerRef:E,hasPortalFromProps:A}=this.props,{cssClasses:k,cssProperties:j}=Nse({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:m,reverseDirection:g,tooltipBox:{height:T.height,width:T.width},useTranslate3d:v,viewBox:x}),D=A?{}:g0(g0({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),O=g0(g0({},D),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},w);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:O,ref:E},a)}}var Ose=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),pu={devToolsEnabled:!1,isSsr:Ose()},p7=()=>$e(t=>t.rootProps.accessibilityLayer);function Li(t){return Number.isFinite(t)}function Fd(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function kE(){return kE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kE.apply(null,arguments)}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $R(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){Ise(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ise(t,e,n){return(e=Rse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rse(t){var e=Pse(t,"string");return typeof e=="symbol"?e:e+""}function Pse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BR={curveBasisClosed:pre,curveBasisOpen:gre,curveBasis:mre,curveBumpX:ere,curveBumpY:tre,curveLinearClosed:vre,curveLinear:Tx,curveMonotoneX:yre,curveMonotoneY:xre,curveNatural:bre,curveStep:wre,curveStepAfter:Ere,curveStepBefore:_re},v0=t=>Li(t.x)&&Li(t.y),Ih=t=>t.x,Rh=t=>t.y,Dse=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(cp(t));return(n==="curveMonotone"||n==="curveBump")&&e?BR["".concat(n).concat(e==="vertical"?"Y":"X")]:BR[n]||Tx},Mse=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,o=Dse(e,i),c=a?n.filter(v0):n,d;if(Array.isArray(r)){var f=a?r.filter(g=>v0(g)):r,m=c.map((g,v)=>$R($R({},g),{},{base:f[v]}));return i==="vertical"?d=c0().y(Rh).x1(Ih).x0(g=>g.base.x):d=c0().x(Ih).y1(Rh).y0(g=>g.base.y),d.defined(v0).curve(o),d(m)}return i==="vertical"&&ze(r)?d=c0().y(Rh).x1(Ih).x0(r):ze(r)?d=c0().x(Ih).y1(Rh).y0(r):d=oL().x(Ih).y(Rh),d.defined(v0).curve(o),d(c)},g7=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Mse(t):r;return S.createElement("path",kE({},$l(t),$ne(t),{className:Ht("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Lse=["x","y","top","left","width","height","className"];function jE(){return jE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jE.apply(null,arguments)}function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Use(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){Vse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vse(t,e,n){return(e=$se(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $se(t){var e=Bse(t,"string");return typeof e=="symbol"?e:e+""}function Bse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zse(t,e){if(t==null)return{};var n,r,i=Fse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var qse=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),Hse=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:c}=t,d=zse(t,Lse),f=Use({x:e,y:n,top:r,left:i,width:a,height:o},d);return!ze(e)||!ze(n)||!ze(a)||!ze(o)||!ze(r)||!ze(i)?null:S.createElement("path",jE({},Fn(f,!0),{className:Ht("recharts-cross",c),d:qse(e,n,a,o,r,i)}))};function Gse(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){Wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wse(t,e,n){return(e=Yse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yse(t){var e=Xse(t,"string");return typeof e=="symbol"?e:e+""}function Xse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yr(t,e){var n=Kse({},t),r=e,i=Object.keys(e),a=i.reduce((o,c)=>(o[c]===void 0&&r[c]!==void 0&&(o[c]=r[c]),o),n);return a}function Qse(){}function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){Zse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zse(t,e,n){return(e=Jse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jse(t){var e=eoe(t,"string");return typeof e=="symbol"?e:e+""}function eoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var toe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),v7=(t,e,n)=>t.map(r=>"".concat(toe(r)," ").concat(e,"ms ").concat(n)).join(","),noe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Om=(t,e)=>Object.keys(e).reduce((n,r)=>HR(HR({},n),{},{[r]:t(r,e[r])}),{});function GR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(n),!0).forEach(function(r){roe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function roe(t,e,n){return(e=ioe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ioe(t){var e=aoe(t,"string");return typeof e=="symbol"?e:e+""}function aoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hv=(t,e,n)=>t+(e-t)*n,CE=t=>{var{from:e,to:n}=t;return e!==n},y7=(t,e,n)=>{var r=Om((i,a)=>{if(CE(a)){var[o,c]=t(a.from,a.to,a.velocity);return pr(pr({},a),{},{from:o,velocity:c})}return a},e);return n<1?Om((i,a)=>CE(a)?pr(pr({},a),{},{velocity:Hv(a.velocity,r[i].velocity,n),from:Hv(a.from,r[i].from,n)}):a,e):y7(t,r,n-1)};function soe(t,e,n,r,i,a){var o,c=r.reduce((v,x)=>pr(pr({},v),{},{[x]:{from:t[x],velocity:0,to:e[x]}}),{}),d=()=>Om((v,x)=>x.from,c),f=()=>!Object.values(c).filter(CE).length,m=null,g=v=>{o||(o=v);var x=v-o,w=x/n.dt;c=y7(n,c,w),i(pr(pr(pr({},t),e),d())),o=v,f()||(m=a.setTimeout(g))};return()=>(m=a.setTimeout(g),()=>{m()})}function ooe(t,e,n,r,i,a,o){var c=null,d=i.reduce((g,v)=>pr(pr({},g),{},{[v]:[t[v],e[v]]}),{}),f,m=g=>{f||(f=g);var v=(g-f)/r,x=Om((T,E)=>Hv(...E,n(v)),d);if(a(pr(pr(pr({},t),e),x)),v<1)c=o.setTimeout(m);else{var w=Om((T,E)=>Hv(...E,n(1)),d);a(pr(pr(pr({},t),e),w))}};return()=>(c=o.setTimeout(m),()=>{c()})}const loe=(t,e,n,r,i,a)=>{var o=noe(t,e);return n.isStepper===!0?soe(t,e,n,o,i,a):ooe(t,e,n,r,o,i,a)};var Gv=1e-4,x7=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],b7=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),KR=(t,e)=>n=>{var r=x7(t,e);return b7(r,n)},coe=(t,e)=>n=>{var r=x7(t,e),i=[...r.map((a,o)=>a*o).slice(1),0];return b7(i,n)},WR=function(){for(var e,n,r,i,a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];if(o.length===1)switch(o[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var d=o[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([e,r,n,i]=d[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else o.length===4&&([e,r,n,i]=o);var f=KR(e,n),m=KR(r,i),g=coe(e,n),v=w=>w>1?1:w<0?0:w,x=w=>{for(var T=w>1?1:w,E=T,A=0;A<8;++A){var k=f(E)-T,j=g(E);if(Math.abs(k-T)<Gv||j<Gv)return m(E);E=v(E-k/j)}return m(E)};return x.isStepper=!1,x},uoe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(o,c,d)=>{var f=-(o-c)*n,m=d*r,g=d+(f-m)*i/1e3,v=d*i/1e3+o;return Math.abs(v-c)<Gv&&Math.abs(g)<Gv?[c,0]:[v,g]};return a.isStepper=!0,a.dt=i,a},doe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WR(t);case"spring":return uoe();default:if(t.split("(")[0]==="cubic-bezier")return WR(t)}return typeof t=="function"?t:null};function foe(t){var e,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var c=o,[d,...f]=c;if(typeof d=="number"){i=t.setTimeout(a.bind(null,f),d);return}a(d),i=t.setTimeout(a.bind(null,f));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class hoe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function moe(){return foe(new hoe)}var poe=S.createContext(moe);function goe(t,e){var n=S.useContext(poe);return S.useMemo(()=>e??n(t),[t,e,n])}var voe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},YR={t:0},L_={t:1};function Ux(t){var e=Yr(t,voe),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:c,onAnimationStart:d,children:f}=e,m=goe(e.animationId,e.animationManager),[g,v]=S.useState(n?YR:L_),x=S.useRef(null);return S.useEffect(()=>{n||v(L_)},[n]),S.useEffect(()=>{if(!n||!r)return Qse;var w=loe(YR,L_,doe(a),i,v,m.getTimeoutController()),T=()=>{x.current=w()};return m.start([d,o,T,i,c]),()=>{m.stop(),x.current&&x.current(),c()}},[n,r,i,a,o,d,c,m]),f(g.t)}function Vx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=S.useRef(km(e)),r=S.useRef(t);return r.current!==t&&(n.current=km(e),r.current=t),n.current}function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){yoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yoe(t,e,n){return(e=xoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xoe(t){var e=boe(t,"string");return typeof e=="symbol"?e:e+""}function boe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kv.apply(null,arguments)}var ZR=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,c=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],g=0,v=4;g<v;g++)m[g]=i[g]>a?a:i[g];f="M".concat(t,",").concat(e+o*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(t+c*m[0],",").concat(e)),f+="L ".concat(t+n-c*m[1],",").concat(e),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(e+o*m[1])),f+="L ".concat(t+n,",").concat(e+r-o*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(t+n-c*m[2],",").concat(e+r)),f+="L ".concat(t+c*m[3],",").concat(e+r),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(e+r-o*m[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var x=Math.min(a,i);f="M ".concat(t,",").concat(e+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+c*x,",").concat(e,`
            L `).concat(t+n-c*x,",").concat(e,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n,",").concat(e+o*x,`
            L `).concat(t+n,",").concat(e+r-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n-c*x,",").concat(e+r,`
            L `).concat(t+c*x,",").concat(e+r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t,",").concat(e+r-o*x," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},woe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},w7=t=>{var e=Yr(t,woe),n=S.useRef(null),[r,i]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var G=n.current.getTotalLength();G&&i(G)}catch{}},[]);var{x:a,y:o,width:c,height:d,radius:f,className:m}=e,{animationEasing:g,animationDuration:v,animationBegin:x,isAnimationActive:w,isUpdateAnimationActive:T}=e,E=S.useRef(c),A=S.useRef(d),k=S.useRef(a),j=S.useRef(o),D=S.useMemo(()=>({x:a,y:o,width:c,height:d,radius:f}),[a,o,c,d,f]),O=Vx(D,"rectangle-");if(a!==+a||o!==+o||c!==+c||d!==+d||c===0||d===0)return null;var L=Ht("recharts-rectangle",m);if(!T)return S.createElement("path",Kv({},Fn(e,!0),{className:L,d:ZR(a,o,c,d,f)}));var P=E.current,C=A.current,M=k.current,z=j.current,V="0px ".concat(r===-1?1:r,"px"),H="".concat(r,"px 0px"),q=v7(["strokeDasharray"],v,typeof g=="string"?g:void 0);return S.createElement(Ux,{animationId:O,key:O,canBegin:r>0,duration:v,easing:g,isActive:T,begin:x},G=>{var W=vr(P,c,G),U=vr(C,d,G),K=vr(M,a,G),ee=vr(z,o,G);n.current&&(E.current=W,A.current=U,k.current=K,j.current=ee);var Q;return w?G>0?Q={transition:q,strokeDasharray:H}:Q={strokeDasharray:V}:Q={strokeDasharray:H},S.createElement("path",Kv({},Fn(e,!0),{className:L,d:ZR(K,ee,W,U,f),ref:n,style:QR(QR({},Q),e.style)}))})};function _7(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,o=In(e,n,r,i),c=In(e,n,r,a);return{points:[o,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function OE(){return OE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OE.apply(null,arguments)}var _oe=(t,e)=>{var n=nr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},y0=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:c,cornerIsExternal:d}=t,f=c*(o?1:-1)+r,m=Math.asin(c/f)/qv,g=d?i:i+a*m,v=In(e,n,f,g),x=In(e,n,r,g),w=d?i-a*m:i,T=In(e,n,f*Math.cos(m*qv),w);return{center:v,circleTangency:x,lineTangency:T,theta:m}},E7=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=t,c=_oe(a,o),d=a+c,f=In(e,n,i,a),m=In(e,n,i,d),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var v=In(e,n,r,a),x=In(e,n,r,d);g+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},Eoe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:f}=t,m=nr(f-d),{circleTangency:g,lineTangency:v,theta:x}=y0({cx:e,cy:n,radius:i,angle:d,sign:m,cornerRadius:a,cornerIsExternal:c}),{circleTangency:w,lineTangency:T,theta:E}=y0({cx:e,cy:n,radius:i,angle:f,sign:-m,cornerRadius:a,cornerIsExternal:c}),A=c?Math.abs(d-f):Math.abs(d-f)-x-E;if(A<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):E7({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var k="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
  `);if(r>0){var{circleTangency:j,lineTangency:D,theta:O}=y0({cx:e,cy:n,radius:r,angle:d,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:L,lineTangency:P,theta:C}=y0({cx:e,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),M=c?Math.abs(d-f):Math.abs(d-f)-O-C;if(M<0&&a===0)return"".concat(k,"L").concat(e,",").concat(n,"Z");k+="L".concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(M>180),",").concat(+(m>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,"Z")}else k+="L".concat(e,",").concat(n,"Z");return k},Soe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},S7=t=>{var e=Yr(t,Soe),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m,className:g}=e;if(a<i||f===m)return null;var v=Ht("recharts-sector",g),x=a-i,w=Or(o,x,0,!0),T;return w>0&&Math.abs(f-m)<360?T=Eoe({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):T=E7({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:m}),S.createElement("path",OE({},Fn(e,!0),{className:v,d:T}))};function Toe(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:c,cy:d,innerRadius:f,outerRadius:m,angle:g}=e,v=In(c,d,f,g),x=In(c,d,m,g);r=v.x,i=v.y,a=x.x,o=x.y}else return _7(e);return[{x:r,y:i},{x:a,y:o}]}var U_={},V_={},$_={},JR;function Aoe(){return JR||(JR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jL();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n}($_)),$_}var eP;function Noe(){return eP||(eP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Aoe();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n}(V_)),V_}var tP;function koe(){return tP||(tP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CL(),n=Noe();function r(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const c=Math.max(Math.ceil((a-i)/(o||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=i,i+=o;return d}t.range=r}(U_)),U_}var B_,nP;function joe(){return nP||(nP=1,B_=koe().range),B_}var Coe=joe();const T7=hi(Coe);function Al(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ooe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function SA(t){let e,n,r;t.length!==2?(e=Al,n=(c,d)=>Al(t(c),d),r=(c,d)=>t(c)-d):(e=t===Al||t===Ooe?t:Ioe,n=t,r=t);function i(c,d,f=0,m=c.length){if(f<m){if(e(d,d)!==0)return m;do{const g=f+m>>>1;n(c[g],d)<0?f=g+1:m=g}while(f<m)}return f}function a(c,d,f=0,m=c.length){if(f<m){if(e(d,d)!==0)return m;do{const g=f+m>>>1;n(c[g],d)<=0?f=g+1:m=g}while(f<m)}return f}function o(c,d,f=0,m=c.length){const g=i(c,d,f,m-1);return g>f&&r(c[g-1],d)>-r(c[g],d)?g-1:g}return{left:i,center:o,right:a}}function Ioe(){return 0}function A7(t){return t===null?NaN:+t}function*Roe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Poe=SA(Al),hp=Poe.right;SA(A7).center;class rP extends Map{constructor(e,n=Loe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(iP(this,e))}has(e){return super.has(iP(this,e))}set(e,n){return super.set(Doe(this,e),n)}delete(e){return super.delete(Moe(this,e))}}function iP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Doe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Moe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Loe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Uoe(t=Al){if(t===Al)return N7;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function N7(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Voe=Math.sqrt(50),$oe=Math.sqrt(10),Boe=Math.sqrt(2);function Wv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Voe?10:a>=$oe?5:a>=Boe?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/o,c=Math.round(t*f),d=Math.round(e*f),c/f<t&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*o,c=Math.round(t/f),d=Math.round(e/f),c*f<t&&++c,d*f>e&&--d),d<c&&.5<=n&&n<2?Wv(t,e,n*2):[c,d,f]}function IE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Wv(e,t,n):Wv(t,e,n);if(!(a>=i))return[];const c=a-i+1,d=new Array(c);if(r)if(o<0)for(let f=0;f<c;++f)d[f]=(a-f)/-o;else for(let f=0;f<c;++f)d[f]=(a-f)*o;else if(o<0)for(let f=0;f<c;++f)d[f]=(i+f)/-o;else for(let f=0;f<c;++f)d[f]=(i+f)*o;return d}function RE(t,e,n){return e=+e,t=+t,n=+n,Wv(t,e,n)[2]}function PE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?RE(e,t,n):RE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function aP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function sP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function k7(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?N7:Uoe(i);r>n;){if(r-n>600){const d=r-n+1,f=e-n+1,m=Math.log(d),g=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*g*(d-g)/d)*(f-d/2<0?-1:1),x=Math.max(n,Math.floor(e-f*g/d+v)),w=Math.min(r,Math.floor(e+(d-f)*g/d+v));k7(t,e,x,w,i)}const a=t[e];let o=n,c=r;for(Ph(t,n,e),i(t[r],a)>0&&Ph(t,n,r);o<c;){for(Ph(t,o,c),++o,--c;i(t[o],a)<0;)++o;for(;i(t[c],a)>0;)--c}i(t[n],a)===0?Ph(t,n,c):(++c,Ph(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function Ph(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function zoe(t,e,n){if(t=Float64Array.from(Roe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return sP(t);if(e>=1)return aP(t);var r,i=(r-1)*e,a=Math.floor(i),o=aP(k7(t,a).subarray(0,a+1)),c=sP(t.subarray(a+1));return o+(c-o)*(i-a)}}function Foe(t,e,n=A7){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),c=+n(t[a+1],a+1,t);return o+(c-o)*(i-a)}}function qoe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ha(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Po(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const DE=Symbol("implicit");function TA(){var t=new rP,e=[],n=[],r=DE;function i(a){let o=t.get(a);if(o===void 0){if(r!==DE)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new rP;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return TA(e,n).unknown(r)},ha.apply(i,arguments),i}function AA(){var t=TA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,c=!1,d=0,f=0,m=.5;delete t.unknown;function g(){var v=e().length,x=i<r,w=x?i:r,T=x?r:i;a=(T-w)/Math.max(1,v-d+f*2),c&&(a=Math.floor(a)),w+=(T-w-a*(v-d))*m,o=a*(1-d),c&&(w=Math.round(w),o=Math.round(o));var E=qoe(v).map(function(A){return w+a*A});return n(x?E.reverse():E)}return t.domain=function(v){return arguments.length?(e(v),g()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,c=!0,g()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(v){return arguments.length?(c=!!v,g()):c},t.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),g()):d},t.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),g()):d},t.paddingOuter=function(v){return arguments.length?(f=+v,g()):f},t.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),g()):m},t.copy=function(){return AA(e(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(m)},ha.apply(g(),arguments)}function j7(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return j7(e())},t}function Hoe(){return j7(AA.apply(null,arguments).paddingInner(1))}function NA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function C7(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function mp(){}var Im=.7,Yv=1/Im,Nd="\\s*([+-]?\\d+)\\s*",Rm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ps="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Goe=/^#([0-9a-f]{3,8})$/,Koe=new RegExp(`^rgb\\(${Nd},${Nd},${Nd}\\)$`),Woe=new RegExp(`^rgb\\(${ps},${ps},${ps}\\)$`),Yoe=new RegExp(`^rgba\\(${Nd},${Nd},${Nd},${Rm}\\)$`),Xoe=new RegExp(`^rgba\\(${ps},${ps},${ps},${Rm}\\)$`),Qoe=new RegExp(`^hsl\\(${Rm},${ps},${ps}\\)$`),Zoe=new RegExp(`^hsla\\(${Rm},${ps},${ps},${Rm}\\)$`),oP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NA(mp,Pm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:lP,formatHex:lP,formatHex8:Joe,formatHsl:ele,formatRgb:cP,toString:cP});function lP(){return this.rgb().formatHex()}function Joe(){return this.rgb().formatHex8()}function ele(){return O7(this).formatHsl()}function cP(){return this.rgb().formatRgb()}function Pm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Goe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?uP(e):n===3?new li(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?x0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?x0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Koe.exec(t))?new li(e[1],e[2],e[3],1):(e=Woe.exec(t))?new li(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Yoe.exec(t))?x0(e[1],e[2],e[3],e[4]):(e=Xoe.exec(t))?x0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Qoe.exec(t))?hP(e[1],e[2]/100,e[3]/100,1):(e=Zoe.exec(t))?hP(e[1],e[2]/100,e[3]/100,e[4]):oP.hasOwnProperty(t)?uP(oP[t]):t==="transparent"?new li(NaN,NaN,NaN,0):null}function uP(t){return new li(t>>16&255,t>>8&255,t&255,1)}function x0(t,e,n,r){return r<=0&&(t=e=n=NaN),new li(t,e,n,r)}function tle(t){return t instanceof mp||(t=Pm(t)),t?(t=t.rgb(),new li(t.r,t.g,t.b,t.opacity)):new li}function ME(t,e,n,r){return arguments.length===1?tle(t):new li(t,e,n,r??1)}function li(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}NA(li,ME,C7(mp,{brighter(t){return t=t==null?Yv:Math.pow(Yv,t),new li(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Im:Math.pow(Im,t),new li(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new li(qc(this.r),qc(this.g),qc(this.b),Xv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dP,formatHex:dP,formatHex8:nle,formatRgb:fP,toString:fP}));function dP(){return`#${Pc(this.r)}${Pc(this.g)}${Pc(this.b)}`}function nle(){return`#${Pc(this.r)}${Pc(this.g)}${Pc(this.b)}${Pc((isNaN(this.opacity)?1:this.opacity)*255)}`}function fP(){const t=Xv(this.opacity);return`${t===1?"rgb(":"rgba("}${qc(this.r)}, ${qc(this.g)}, ${qc(this.b)}${t===1?")":`, ${t})`}`}function Xv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pc(t){return t=qc(t),(t<16?"0":"")+t.toString(16)}function hP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ja(t,e,n,r)}function O7(t){if(t instanceof ja)return new ja(t.h,t.s,t.l,t.opacity);if(t instanceof mp||(t=Pm(t)),!t)return new ja;if(t instanceof ja)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,c=a-i,d=(a+i)/2;return c?(e===a?o=(n-r)/c+(n<r)*6:n===a?o=(r-e)/c+2:o=(e-n)/c+4,c/=d<.5?a+i:2-a-i,o*=60):c=d>0&&d<1?0:o,new ja(o,c,d,t.opacity)}function rle(t,e,n,r){return arguments.length===1?O7(t):new ja(t,e,n,r??1)}function ja(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}NA(ja,rle,C7(mp,{brighter(t){return t=t==null?Yv:Math.pow(Yv,t),new ja(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Im:Math.pow(Im,t),new ja(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new li(z_(t>=240?t-240:t+120,i,r),z_(t,i,r),z_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ja(mP(this.h),b0(this.s),b0(this.l),Xv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xv(this.opacity);return`${t===1?"hsl(":"hsla("}${mP(this.h)}, ${b0(this.s)*100}%, ${b0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mP(t){return t=(t||0)%360,t<0?t+360:t}function b0(t){return Math.max(0,Math.min(1,t||0))}function z_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const kA=t=>()=>t;function ile(t,e){return function(n){return t+n*e}}function ale(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function sle(t){return(t=+t)==1?I7:function(e,n){return n-e?ale(e,n,t):kA(isNaN(e)?n:e)}}function I7(t,e){var n=e-t;return n?ile(t,n):kA(isNaN(t)?e:t)}const pP=function t(e){var n=sle(e);function r(i,a){var o=n((i=ME(i)).r,(a=ME(a)).r),c=n(i.g,a.g),d=n(i.b,a.b),f=I7(i.opacity,a.opacity);return function(m){return i.r=o(m),i.g=c(m),i.b=d(m),i.opacity=f(m),i+""}}return r.gamma=t,r}(1);function ole(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function lle(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function cle(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=mf(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(c){for(o=0;o<r;++o)a[o]=i[o](c);return a}}function ule(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Qv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function dle(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=mf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var LE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,F_=new RegExp(LE.source,"g");function fle(t){return function(){return t}}function hle(t){return function(e){return t(e)+""}}function mle(t,e){var n=LE.lastIndex=F_.lastIndex=0,r,i,a,o=-1,c=[],d=[];for(t=t+"",e=e+"";(r=LE.exec(t))&&(i=F_.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),c[o]?c[o]+=a:c[++o]=a),(r=r[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,d.push({i:o,x:Qv(r,i)})),n=F_.lastIndex;return n<e.length&&(a=e.slice(n),c[o]?c[o]+=a:c[++o]=a),c.length<2?d[0]?hle(d[0].x):fle(e):(e=d.length,function(f){for(var m=0,g;m<e;++m)c[(g=d[m]).i]=g.x(f);return c.join("")})}function mf(t,e){var n=typeof e,r;return e==null||n==="boolean"?kA(e):(n==="number"?Qv:n==="string"?(r=Pm(e))?(e=r,pP):mle:e instanceof Pm?pP:e instanceof Date?ule:lle(e)?ole:Array.isArray(e)?cle:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?dle:Qv)(t,e)}function jA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ple(t,e){e===void 0&&(e=t,t=mf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var c=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[c](o-c)}}function gle(t){return function(){return t}}function Zv(t){return+t}var gP=[0,1];function Fr(t){return t}function UE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:gle(isNaN(e)?NaN:.5)}function vle(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function yle(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=UE(i,r),a=n(o,a)):(r=UE(r,i),a=n(a,o)),function(c){return a(r(c))}}function xle(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=UE(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(c){var d=hp(t,c,1,r)-1;return a[d](i[d](c))}}function pp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $x(){var t=gP,e=gP,n=mf,r,i,a,o=Fr,c,d,f;function m(){var v=Math.min(t.length,e.length);return o!==Fr&&(o=vle(t[0],t[v-1])),c=v>2?xle:yle,d=f=null,g}function g(v){return v==null||isNaN(v=+v)?a:(d||(d=c(t.map(r),e,n)))(r(o(v)))}return g.invert=function(v){return o(i((f||(f=c(e,t.map(r),Qv)))(v)))},g.domain=function(v){return arguments.length?(t=Array.from(v,Zv),m()):t.slice()},g.range=function(v){return arguments.length?(e=Array.from(v),m()):e.slice()},g.rangeRound=function(v){return e=Array.from(v),n=jA,m()},g.clamp=function(v){return arguments.length?(o=v?!0:Fr,m()):o!==Fr},g.interpolate=function(v){return arguments.length?(n=v,m()):n},g.unknown=function(v){return arguments.length?(a=v,g):a},function(v,x){return r=v,i=x,m()}}function CA(){return $x()(Fr,Fr)}function ble(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function qd(t){return t=Jv(Math.abs(t)),t?t[1]:NaN}function wle(t,e){return function(n,r){for(var i=n.length,a=[],o=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),a.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=t[o=(o+1)%t.length];return a.reverse().join(e)}}function _le(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ele=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dm(t){if(!(e=Ele.exec(t)))throw new Error("invalid format: "+t);var e;return new OA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Dm.prototype=OA.prototype;function OA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}OA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Sle(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var R7;function Tle(t,e){var n=Jv(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(R7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Jv(t,Math.max(0,e+a-1))[0]}function vP(t,e){var n=Jv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const yP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ble,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>vP(t*100,e),r:vP,s:Tle,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xP(t){return t}var bP=Array.prototype.map,wP=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ale(t){var e=t.grouping===void 0||t.thousands===void 0?xP:wle(bP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?xP:_le(bP.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(g){g=Dm(g);var v=g.fill,x=g.align,w=g.sign,T=g.symbol,E=g.zero,A=g.width,k=g.comma,j=g.precision,D=g.trim,O=g.type;O==="n"?(k=!0,O="g"):yP[O]||(j===void 0&&(j=12),D=!0,O="g"),(E||v==="0"&&x==="=")&&(E=!0,v="0",x="=");var L=T==="$"?n:T==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",P=T==="$"?r:/[%p]/.test(O)?o:"",C=yP[O],M=/[defgprs%]/.test(O);j=j===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function z(V){var H=L,q=P,G,W,U;if(O==="c")q=C(V)+q,V="";else{V=+V;var K=V<0||1/V<0;if(V=isNaN(V)?d:C(Math.abs(V),j),D&&(V=Sle(V)),K&&+V==0&&w!=="+"&&(K=!1),H=(K?w==="("?w:c:w==="-"||w==="("?"":w)+H,q=(O==="s"?wP[8+R7/3]:"")+q+(K&&w==="("?")":""),M){for(G=-1,W=V.length;++G<W;)if(U=V.charCodeAt(G),48>U||U>57){q=(U===46?i+V.slice(G+1):V.slice(G))+q,V=V.slice(0,G);break}}}k&&!E&&(V=e(V,1/0));var ee=H.length+V.length+q.length,Q=ee<A?new Array(A-ee+1).join(v):"";switch(k&&E&&(V=e(Q+V,Q.length?A-q.length:1/0),Q=""),x){case"<":V=H+V+q+Q;break;case"=":V=H+Q+V+q;break;case"^":V=Q.slice(0,ee=Q.length>>1)+H+V+q+Q.slice(ee);break;default:V=Q+H+V+q;break}return a(V)}return z.toString=function(){return g+""},z}function m(g,v){var x=f((g=Dm(g),g.type="f",g)),w=Math.max(-8,Math.min(8,Math.floor(qd(v)/3)))*3,T=Math.pow(10,-w),E=wP[8+w/3];return function(A){return x(T*A)+E}}return{format:f,formatPrefix:m}}var w0,IA,P7;Nle({thousands:",",grouping:[3],currency:["$",""]});function Nle(t){return w0=Ale(t),IA=w0.format,P7=w0.formatPrefix,w0}function kle(t){return Math.max(0,-qd(Math.abs(t)))}function jle(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qd(e)/3)))*3-qd(Math.abs(t)))}function Cle(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qd(e)-qd(t))+1}function D7(t,e,n,r){var i=PE(t,e,n),a;switch(r=Dm(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=jle(i,o))&&(r.precision=a),P7(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Cle(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=kle(i))&&(r.precision=a-(r.type==="%")*2);break}}return IA(r)}function Bl(t){var e=t.domain;return t.ticks=function(n){var r=e();return IE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return D7(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],c=r[a],d,f,m=10;for(c<o&&(f=o,o=c,c=f,f=i,i=a,a=f);m-- >0;){if(f=RE(o,c,n),f===d)return r[i]=o,r[a]=c,e(r);if(f>0)o=Math.floor(o/f)*f,c=Math.ceil(c/f)*f;else if(f<0)o=Math.ceil(o*f)/f,c=Math.floor(c*f)/f;else break;d=f}return t},t}function M7(){var t=CA();return t.copy=function(){return pp(t,M7())},ha.apply(t,arguments),Bl(t)}function L7(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Zv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return L7(t).unknown(e)},t=arguments.length?Array.from(t,Zv):[0,1],Bl(n)}function U7(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function _P(t){return Math.log(t)}function EP(t){return Math.exp(t)}function Ole(t){return-Math.log(-t)}function Ile(t){return-Math.exp(-t)}function Rle(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ple(t){return t===10?Rle:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Dle(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function SP(t){return(e,n)=>-t(-e,n)}function RA(t){const e=t(_P,EP),n=e.domain;let r=10,i,a;function o(){return i=Dle(r),a=Ple(r),n()[0]<0?(i=SP(i),a=SP(a),t(Ole,Ile)):t(_P,EP),e}return e.base=function(c){return arguments.length?(r=+c,o()):r},e.domain=function(c){return arguments.length?(n(c),o()):n()},e.ticks=c=>{const d=n();let f=d[0],m=d[d.length-1];const g=m<f;g&&([f,m]=[m,f]);let v=i(f),x=i(m),w,T;const E=c==null?10:+c;let A=[];if(!(r%1)&&x-v<E){if(v=Math.floor(v),x=Math.ceil(x),f>0){for(;v<=x;++v)for(w=1;w<r;++w)if(T=v<0?w/a(-v):w*a(v),!(T<f)){if(T>m)break;A.push(T)}}else for(;v<=x;++v)for(w=r-1;w>=1;--w)if(T=v>0?w/a(-v):w*a(v),!(T<f)){if(T>m)break;A.push(T)}A.length*2<E&&(A=IE(f,m,E))}else A=IE(v,x,Math.min(x-v,E)).map(a);return g?A.reverse():A},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Dm(d)).precision==null&&(d.trim=!0),d=IA(d)),c===1/0)return d;const f=Math.max(1,r*c/e.ticks().length);return m=>{let g=m/a(Math.round(i(m)));return g*r<r-.5&&(g*=r),g<=f?d(m):""}},e.nice=()=>n(U7(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function V7(){const t=RA($x()).domain([1,10]);return t.copy=()=>pp(t,V7()).base(t.base()),ha.apply(t,arguments),t}function TP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function AP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function PA(t){var e=1,n=t(TP(e),AP(e));return n.constant=function(r){return arguments.length?t(TP(e=+r),AP(e)):e},Bl(n)}function $7(){var t=PA($x());return t.copy=function(){return pp(t,$7()).constant(t.constant())},ha.apply(t,arguments)}function NP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Mle(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Lle(t){return t<0?-t*t:t*t}function DA(t){var e=t(Fr,Fr),n=1;function r(){return n===1?t(Fr,Fr):n===.5?t(Mle,Lle):t(NP(n),NP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Bl(e)}function MA(){var t=DA($x());return t.copy=function(){return pp(t,MA()).exponent(t.exponent())},ha.apply(t,arguments),t}function Ule(){return MA.apply(null,arguments).exponent(.5)}function kP(t){return Math.sign(t)*t*t}function Vle(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function B7(){var t=CA(),e=[0,1],n=!1,r;function i(a){var o=Vle(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(kP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Zv)).map(kP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return B7(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ha.apply(i,arguments),Bl(i)}function z7(){var t=[],e=[],n=[],r;function i(){var o=0,c=Math.max(1,e.length);for(n=new Array(c-1);++o<c;)n[o-1]=Foe(t,o/c);return a}function a(o){return o==null||isNaN(o=+o)?r:e[hp(n,o)]}return a.invertExtent=function(o){var c=e.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let c of o)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Al),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return z7().domain(t).range(e).unknown(r)},ha.apply(a,arguments)}function F7(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(d){return d!=null&&d<=d?i[hp(r,d,0,n)]:a}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},o.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},o.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},o.unknown=function(d){return arguments.length&&(a=d),o},o.thresholds=function(){return r.slice()},o.copy=function(){return F7().domain([t,e]).range(i).unknown(a)},ha.apply(Bl(o),arguments)}function q7(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[hp(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return q7().domain(t).range(e).unknown(n)},ha.apply(i,arguments)}const q_=new Date,H_=new Date;function Hn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),c=i.ceil(a);return a-o<c-a?o:c},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,c)=>{const d=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<o)||!(c>0))return d;let f;do d.push(f=new Date(+a)),e(a,c),t(a);while(f<a&&a<o);return d},i.filter=a=>Hn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;e(o,-1),!a(o););else for(;--c>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(q_.setTime(+a),H_.setTime(+o),t(q_),t(H_),Math.floor(n(q_,H_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const ey=Hn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ey.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Hn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ey);ey.range;const oo=1e3,ia=oo*60,lo=ia*60,_o=lo*24,LA=_o*7,jP=_o*30,G_=_o*365,Dc=Hn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*oo)},(t,e)=>(e-t)/oo,t=>t.getUTCSeconds());Dc.range;const UA=Hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oo)},(t,e)=>{t.setTime(+t+e*ia)},(t,e)=>(e-t)/ia,t=>t.getMinutes());UA.range;const VA=Hn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ia)},(t,e)=>(e-t)/ia,t=>t.getUTCMinutes());VA.range;const $A=Hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oo-t.getMinutes()*ia)},(t,e)=>{t.setTime(+t+e*lo)},(t,e)=>(e-t)/lo,t=>t.getHours());$A.range;const BA=Hn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*lo)},(t,e)=>(e-t)/lo,t=>t.getUTCHours());BA.range;const gp=Hn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ia)/_o,t=>t.getDate()-1);gp.range;const Bx=Hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/_o,t=>t.getUTCDate()-1);Bx.range;const H7=Hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/_o,t=>Math.floor(t/_o));H7.range;function gu(t){return Hn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ia)/LA)}const zx=gu(0),ty=gu(1),$le=gu(2),Ble=gu(3),Hd=gu(4),zle=gu(5),Fle=gu(6);zx.range;ty.range;$le.range;Ble.range;Hd.range;zle.range;Fle.range;function vu(t){return Hn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/LA)}const Fx=vu(0),ny=vu(1),qle=vu(2),Hle=vu(3),Gd=vu(4),Gle=vu(5),Kle=vu(6);Fx.range;ny.range;qle.range;Hle.range;Gd.range;Gle.range;Kle.range;const zA=Hn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());zA.range;const FA=Hn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());FA.range;const Eo=Hn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Eo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Hn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Eo.range;const So=Hn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());So.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Hn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});So.range;function G7(t,e,n,r,i,a){const o=[[Dc,1,oo],[Dc,5,5*oo],[Dc,15,15*oo],[Dc,30,30*oo],[a,1,ia],[a,5,5*ia],[a,15,15*ia],[a,30,30*ia],[i,1,lo],[i,3,3*lo],[i,6,6*lo],[i,12,12*lo],[r,1,_o],[r,2,2*_o],[n,1,LA],[e,1,jP],[e,3,3*jP],[t,1,G_]];function c(f,m,g){const v=m<f;v&&([f,m]=[m,f]);const x=g&&typeof g.range=="function"?g:d(f,m,g),w=x?x.range(f,+m+1):[];return v?w.reverse():w}function d(f,m,g){const v=Math.abs(m-f)/g,x=SA(([,,E])=>E).right(o,v);if(x===o.length)return t.every(PE(f/G_,m/G_,g));if(x===0)return ey.every(Math.max(PE(f,m,g),1));const[w,T]=o[v/o[x-1][2]<o[x][2]/v?x-1:x];return w.every(T)}return[c,d]}const[Wle,Yle]=G7(So,FA,Fx,H7,BA,VA),[Xle,Qle]=G7(Eo,zA,zx,gp,$A,UA);function K_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function W_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Dh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Zle(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,c=t.months,d=t.shortMonths,f=Mh(i),m=Lh(i),g=Mh(a),v=Lh(a),x=Mh(o),w=Lh(o),T=Mh(c),E=Lh(c),A=Mh(d),k=Lh(d),j={a:K,A:ee,b:Q,B:$,c:null,d:DP,e:DP,f:wce,g:Oce,G:Rce,H:yce,I:xce,j:bce,L:K7,m:_ce,M:Ece,p:X,q:J,Q:UP,s:VP,S:Sce,u:Tce,U:Ace,V:Nce,w:kce,W:jce,x:null,X:null,y:Cce,Y:Ice,Z:Pce,"%":LP},D={a:ce,A:xe,b:be,B:Ne,c:null,d:MP,e:MP,f:Uce,g:Wce,G:Xce,H:Dce,I:Mce,j:Lce,L:Y7,m:Vce,M:$ce,p:Fe,q:Ie,Q:UP,s:VP,S:Bce,u:zce,U:Fce,V:qce,w:Hce,W:Gce,x:null,X:null,y:Kce,Y:Yce,Z:Qce,"%":LP},O={a:z,A:V,b:H,B:q,c:G,d:RP,e:RP,f:mce,g:IP,G:OP,H:PP,I:PP,j:uce,L:hce,m:cce,M:dce,p:M,q:lce,Q:gce,s:vce,S:fce,u:rce,U:ice,V:ace,w:nce,W:sce,x:W,X:U,y:IP,Y:OP,Z:oce,"%":pce};j.x=L(n,j),j.X=L(r,j),j.c=L(e,j),D.x=L(n,D),D.X=L(r,D),D.c=L(e,D);function L(pe,Ee){return function(re){var se=[],_e=-1,He=0,Gt=pe.length,_t,Ut,Xr;for(re instanceof Date||(re=new Date(+re));++_e<Gt;)pe.charCodeAt(_e)===37&&(se.push(pe.slice(He,_e)),(Ut=CP[_t=pe.charAt(++_e)])!=null?_t=pe.charAt(++_e):Ut=_t==="e"?" ":"0",(Xr=Ee[_t])&&(_t=Xr(re,Ut)),se.push(_t),He=_e+1);return se.push(pe.slice(He,_e)),se.join("")}}function P(pe,Ee){return function(re){var se=Dh(1900,void 0,1),_e=C(se,pe,re+="",0),He,Gt;if(_e!=re.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(Ee&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(He=W_(Dh(se.y,0,1)),Gt=He.getUTCDay(),He=Gt>4||Gt===0?ny.ceil(He):ny(He),He=Bx.offset(He,(se.V-1)*7),se.y=He.getUTCFullYear(),se.m=He.getUTCMonth(),se.d=He.getUTCDate()+(se.w+6)%7):(He=K_(Dh(se.y,0,1)),Gt=He.getDay(),He=Gt>4||Gt===0?ty.ceil(He):ty(He),He=gp.offset(He,(se.V-1)*7),se.y=He.getFullYear(),se.m=He.getMonth(),se.d=He.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),Gt="Z"in se?W_(Dh(se.y,0,1)).getUTCDay():K_(Dh(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(Gt+5)%7:se.w+se.U*7-(Gt+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,W_(se)):K_(se)}}function C(pe,Ee,re,se){for(var _e=0,He=Ee.length,Gt=re.length,_t,Ut;_e<He;){if(se>=Gt)return-1;if(_t=Ee.charCodeAt(_e++),_t===37){if(_t=Ee.charAt(_e++),Ut=O[_t in CP?Ee.charAt(_e++):_t],!Ut||(se=Ut(pe,re,se))<0)return-1}else if(_t!=re.charCodeAt(se++))return-1}return se}function M(pe,Ee,re){var se=f.exec(Ee.slice(re));return se?(pe.p=m.get(se[0].toLowerCase()),re+se[0].length):-1}function z(pe,Ee,re){var se=x.exec(Ee.slice(re));return se?(pe.w=w.get(se[0].toLowerCase()),re+se[0].length):-1}function V(pe,Ee,re){var se=g.exec(Ee.slice(re));return se?(pe.w=v.get(se[0].toLowerCase()),re+se[0].length):-1}function H(pe,Ee,re){var se=A.exec(Ee.slice(re));return se?(pe.m=k.get(se[0].toLowerCase()),re+se[0].length):-1}function q(pe,Ee,re){var se=T.exec(Ee.slice(re));return se?(pe.m=E.get(se[0].toLowerCase()),re+se[0].length):-1}function G(pe,Ee,re){return C(pe,e,Ee,re)}function W(pe,Ee,re){return C(pe,n,Ee,re)}function U(pe,Ee,re){return C(pe,r,Ee,re)}function K(pe){return o[pe.getDay()]}function ee(pe){return a[pe.getDay()]}function Q(pe){return d[pe.getMonth()]}function $(pe){return c[pe.getMonth()]}function X(pe){return i[+(pe.getHours()>=12)]}function J(pe){return 1+~~(pe.getMonth()/3)}function ce(pe){return o[pe.getUTCDay()]}function xe(pe){return a[pe.getUTCDay()]}function be(pe){return d[pe.getUTCMonth()]}function Ne(pe){return c[pe.getUTCMonth()]}function Fe(pe){return i[+(pe.getUTCHours()>=12)]}function Ie(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Ee=L(pe+="",j);return Ee.toString=function(){return pe},Ee},parse:function(pe){var Ee=P(pe+="",!1);return Ee.toString=function(){return pe},Ee},utcFormat:function(pe){var Ee=L(pe+="",D);return Ee.toString=function(){return pe},Ee},utcParse:function(pe){var Ee=P(pe+="",!0);return Ee.toString=function(){return pe},Ee}}}var CP={"-":"",_:" ",0:"0"},ar=/^\s*\d+/,Jle=/^%/,ece=/[\\^$*+?|[\]().{}]/g;function Tt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function tce(t){return t.replace(ece,"\\$&")}function Mh(t){return new RegExp("^(?:"+t.map(tce).join("|")+")","i")}function Lh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function nce(t,e,n){var r=ar.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function rce(t,e,n){var r=ar.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ice(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ace(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function sce(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function OP(t,e,n){var r=ar.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function IP(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function oce(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lce(t,e,n){var r=ar.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function cce(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function RP(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function uce(t,e,n){var r=ar.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function PP(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function dce(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function fce(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function hce(t,e,n){var r=ar.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function mce(t,e,n){var r=ar.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pce(t,e,n){var r=Jle.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function gce(t,e,n){var r=ar.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function vce(t,e,n){var r=ar.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function DP(t,e){return Tt(t.getDate(),e,2)}function yce(t,e){return Tt(t.getHours(),e,2)}function xce(t,e){return Tt(t.getHours()%12||12,e,2)}function bce(t,e){return Tt(1+gp.count(Eo(t),t),e,3)}function K7(t,e){return Tt(t.getMilliseconds(),e,3)}function wce(t,e){return K7(t,e)+"000"}function _ce(t,e){return Tt(t.getMonth()+1,e,2)}function Ece(t,e){return Tt(t.getMinutes(),e,2)}function Sce(t,e){return Tt(t.getSeconds(),e,2)}function Tce(t){var e=t.getDay();return e===0?7:e}function Ace(t,e){return Tt(zx.count(Eo(t)-1,t),e,2)}function W7(t){var e=t.getDay();return e>=4||e===0?Hd(t):Hd.ceil(t)}function Nce(t,e){return t=W7(t),Tt(Hd.count(Eo(t),t)+(Eo(t).getDay()===4),e,2)}function kce(t){return t.getDay()}function jce(t,e){return Tt(ty.count(Eo(t)-1,t),e,2)}function Cce(t,e){return Tt(t.getFullYear()%100,e,2)}function Oce(t,e){return t=W7(t),Tt(t.getFullYear()%100,e,2)}function Ice(t,e){return Tt(t.getFullYear()%1e4,e,4)}function Rce(t,e){var n=t.getDay();return t=n>=4||n===0?Hd(t):Hd.ceil(t),Tt(t.getFullYear()%1e4,e,4)}function Pce(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Tt(e/60|0,"0",2)+Tt(e%60,"0",2)}function MP(t,e){return Tt(t.getUTCDate(),e,2)}function Dce(t,e){return Tt(t.getUTCHours(),e,2)}function Mce(t,e){return Tt(t.getUTCHours()%12||12,e,2)}function Lce(t,e){return Tt(1+Bx.count(So(t),t),e,3)}function Y7(t,e){return Tt(t.getUTCMilliseconds(),e,3)}function Uce(t,e){return Y7(t,e)+"000"}function Vce(t,e){return Tt(t.getUTCMonth()+1,e,2)}function $ce(t,e){return Tt(t.getUTCMinutes(),e,2)}function Bce(t,e){return Tt(t.getUTCSeconds(),e,2)}function zce(t){var e=t.getUTCDay();return e===0?7:e}function Fce(t,e){return Tt(Fx.count(So(t)-1,t),e,2)}function X7(t){var e=t.getUTCDay();return e>=4||e===0?Gd(t):Gd.ceil(t)}function qce(t,e){return t=X7(t),Tt(Gd.count(So(t),t)+(So(t).getUTCDay()===4),e,2)}function Hce(t){return t.getUTCDay()}function Gce(t,e){return Tt(ny.count(So(t)-1,t),e,2)}function Kce(t,e){return Tt(t.getUTCFullYear()%100,e,2)}function Wce(t,e){return t=X7(t),Tt(t.getUTCFullYear()%100,e,2)}function Yce(t,e){return Tt(t.getUTCFullYear()%1e4,e,4)}function Xce(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Gd(t):Gd.ceil(t),Tt(t.getUTCFullYear()%1e4,e,4)}function Qce(){return"+0000"}function LP(){return"%"}function UP(t){return+t}function VP(t){return Math.floor(+t/1e3)}var cd,Q7,Z7;Zce({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Zce(t){return cd=Zle(t),Q7=cd.format,cd.parse,Z7=cd.utcFormat,cd.utcParse,cd}function Jce(t){return new Date(t)}function eue(t){return t instanceof Date?+t:+new Date(+t)}function qA(t,e,n,r,i,a,o,c,d,f){var m=CA(),g=m.invert,v=m.domain,x=f(".%L"),w=f(":%S"),T=f("%I:%M"),E=f("%I %p"),A=f("%a %d"),k=f("%b %d"),j=f("%B"),D=f("%Y");function O(L){return(d(L)<L?x:c(L)<L?w:o(L)<L?T:a(L)<L?E:r(L)<L?i(L)<L?A:k:n(L)<L?j:D)(L)}return m.invert=function(L){return new Date(g(L))},m.domain=function(L){return arguments.length?v(Array.from(L,eue)):v().map(Jce)},m.ticks=function(L){var P=v();return t(P[0],P[P.length-1],L??10)},m.tickFormat=function(L,P){return P==null?O:f(P)},m.nice=function(L){var P=v();return(!L||typeof L.range!="function")&&(L=e(P[0],P[P.length-1],L??10)),L?v(U7(P,L)):m},m.copy=function(){return pp(m,qA(t,e,n,r,i,a,o,c,d,f))},m}function tue(){return ha.apply(qA(Xle,Qle,Eo,zA,zx,gp,$A,UA,Dc,Q7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nue(){return ha.apply(qA(Wle,Yle,So,FA,Fx,Bx,BA,VA,Dc,Z7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qx(){var t=0,e=1,n,r,i,a,o=Fr,c=!1,d;function f(g){return g==null||isNaN(g=+g)?d:o(i===0?.5:(g=(a(g)-n)*i,c?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e]=g,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(g){return arguments.length?(c=!!g,f):c},f.interpolator=function(g){return arguments.length?(o=g,f):o};function m(g){return function(v){var x,w;return arguments.length?([x,w]=v,o=g(x,w),f):[o(0),o(1)]}}return f.range=m(mf),f.rangeRound=m(jA),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return a=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),f}}function zl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function J7(){var t=Bl(qx()(Fr));return t.copy=function(){return zl(t,J7())},Po.apply(t,arguments)}function eU(){var t=RA(qx()).domain([1,10]);return t.copy=function(){return zl(t,eU()).base(t.base())},Po.apply(t,arguments)}function tU(){var t=PA(qx());return t.copy=function(){return zl(t,tU()).constant(t.constant())},Po.apply(t,arguments)}function HA(){var t=DA(qx());return t.copy=function(){return zl(t,HA()).exponent(t.exponent())},Po.apply(t,arguments)}function rue(){return HA.apply(null,arguments).exponent(.5)}function nU(){var t=[],e=Fr;function n(r){if(r!=null&&!isNaN(r=+r))return e((hp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Al),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>zoe(t,a/r))},n.copy=function(){return nU(e).domain(t)},Po.apply(n,arguments)}function Hx(){var t=0,e=.5,n=1,r=1,i,a,o,c,d,f=Fr,m,g=!1,v;function x(T){return isNaN(T=+T)?v:(T=.5+((T=+m(T))-a)*(r*T<r*a?c:d),f(g?Math.max(0,Math.min(1,T)):T))}x.domain=function(T){return arguments.length?([t,e,n]=T,i=m(t=+t),a=m(e=+e),o=m(n=+n),c=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),r=a<i?-1:1,x):[t,e,n]},x.clamp=function(T){return arguments.length?(g=!!T,x):g},x.interpolator=function(T){return arguments.length?(f=T,x):f};function w(T){return function(E){var A,k,j;return arguments.length?([A,k,j]=E,f=ple(T,[A,k,j]),x):[f(0),f(.5),f(1)]}}return x.range=w(mf),x.rangeRound=w(jA),x.unknown=function(T){return arguments.length?(v=T,x):v},function(T){return m=T,i=T(t),a=T(e),o=T(n),c=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),r=a<i?-1:1,x}}function rU(){var t=Bl(Hx()(Fr));return t.copy=function(){return zl(t,rU())},Po.apply(t,arguments)}function iU(){var t=RA(Hx()).domain([.1,1,10]);return t.copy=function(){return zl(t,iU()).base(t.base())},Po.apply(t,arguments)}function aU(){var t=PA(Hx());return t.copy=function(){return zl(t,aU()).constant(t.constant())},Po.apply(t,arguments)}function GA(){var t=DA(Hx());return t.copy=function(){return zl(t,GA()).exponent(t.exponent())},Po.apply(t,arguments)}function iue(){return GA.apply(null,arguments).exponent(.5)}const Gh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:AA,scaleDiverging:rU,scaleDivergingLog:iU,scaleDivergingPow:GA,scaleDivergingSqrt:iue,scaleDivergingSymlog:aU,scaleIdentity:L7,scaleImplicit:DE,scaleLinear:M7,scaleLog:V7,scaleOrdinal:TA,scalePoint:Hoe,scalePow:MA,scaleQuantile:z7,scaleQuantize:F7,scaleRadial:B7,scaleSequential:J7,scaleSequentialLog:eU,scaleSequentialPow:HA,scaleSequentialQuantile:nU,scaleSequentialSqrt:rue,scaleSequentialSymlog:tU,scaleSqrt:Ule,scaleSymlog:$7,scaleThreshold:q7,scaleTime:tue,scaleUtc:nue,tickFormat:D7},Symbol.toStringTag,{value:"Module"}));var Fl=t=>t.chartData,KA=ue([Fl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),WA=(t,e,n,r)=>r?KA(t):Fl(t);function Kd(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Li(e)&&Li(n))return!0}return!1}function $P(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function aue(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Li(n))i=n;else if(typeof n=="function")return;if(Li(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Kd(o))return o}}function sue(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Kd(r))return $P(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,c;if(i==="auto")e!=null&&(o=Math.min(...e));else if(ze(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&IR.test(i)){var d=IR.exec(i);if(d==null||e==null)o=void 0;else{var f=+d[1];o=e[0]-f}}else o=e==null?void 0:e[0];if(a==="auto")e!=null&&(c=Math.max(...e));else if(ze(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&RR.test(a)){var m=RR.exec(a);if(m==null||e==null)c=void 0;else{var g=+m[1];c=e[1]+g}}else c=e==null?void 0:e[1];var v=[o,c];if(Kd(v))return e==null?v:$P(v,e,n)}}}var pf=1e9,oue={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},XA,an=!0,ua="[DecimalError] ",Hc=ua+"Invalid argument: ",YA=ua+"Exponent out of range: ",gf=Math.floor,kc=Math.pow,lue=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ki,tr=1e7,Jt=7,sU=9007199254740991,ry=gf(sU/Jt),De={};De.absoluteValue=De.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};De.comparedTo=De.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};De.decimalPlaces=De.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Jt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};De.dividedBy=De.div=function(t){return po(this,new this.constructor(t))};De.dividedToIntegerBy=De.idiv=function(t){var e=this,n=e.constructor;return Xt(po(e,new n(t),0,1),n.precision)};De.equals=De.eq=function(t){return!this.cmp(t)};De.exponent=function(){return Rn(this)};De.greaterThan=De.gt=function(t){return this.cmp(t)>0};De.greaterThanOrEqualTo=De.gte=function(t){return this.cmp(t)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(t){return this.cmp(t)<0};De.lessThanOrEqualTo=De.lte=function(t){return this.cmp(t)<1};De.logarithm=De.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ki))throw Error(ua+"NaN");if(n.s<1)throw Error(ua+(n.s?"NaN":"-Infinity"));return n.eq(ki)?new r(0):(an=!1,e=po(Mm(n,a),Mm(t,a),a),an=!0,Xt(e,i))};De.minus=De.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?cU(e,t):oU(e,(t.s=-t.s,t))};De.modulo=De.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ua+"NaN");return n.s?(an=!1,e=po(n,t,0,1).times(t),an=!0,n.minus(e)):Xt(new r(n),i)};De.naturalExponential=De.exp=function(){return lU(this)};De.naturalLogarithm=De.ln=function(){return Mm(this)};De.negated=De.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};De.plus=De.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oU(e,t):cU(e,(t.s=-t.s,t))};De.precision=De.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Hc+t);if(e=Rn(i)+1,r=i.d.length-1,n=r*Jt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};De.squareRoot=De.sqrt=function(){var t,e,n,r,i,a,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(ua+"NaN")}for(t=Rn(c),an=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=ds(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=gf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=o=n+3;;)if(a=r,r=a.plus(po(c,a,o+2)).times(.5),ds(a.d).slice(0,o)===(e=ds(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Xt(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(e!="9999")break;o+=4}return an=!0,Xt(r,n)};De.times=De.mul=function(t){var e,n,r,i,a,o,c,d,f,m=this,g=m.constructor,v=m.d,x=(t=new g(t)).d;if(!m.s||!t.s)return new g(0);for(t.s*=m.s,n=m.e+t.e,d=v.length,f=x.length,d<f&&(a=v,v=x,x=a,o=d,d=f,f=o),a=[],o=d+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=d+r;i>r;)c=a[i]+x[r]*v[i-r-1]+e,a[i--]=c%tr|0,e=c/tr|0;a[i]=(a[i]+e)%tr|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,an?Xt(t,g.precision):t};De.toDecimalPlaces=De.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ws(t,0,pf),e===void 0?e=r.rounding:ws(e,0,8),Xt(n,t+Rn(n)+1,e))};De.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ru(r,!0):(ws(t,0,pf),e===void 0?e=i.rounding:ws(e,0,8),r=Xt(new i(r),t+1,e),n=ru(r,!0,t+1)),n};De.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?ru(i):(ws(t,0,pf),e===void 0?e=a.rounding:ws(e,0,8),r=Xt(new a(i),t+Rn(i)+1,e),n=ru(r.abs(),!1,t+Rn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};De.toInteger=De.toint=function(){var t=this,e=t.constructor;return Xt(new e(t),Rn(t)+1,e.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(t){var e,n,r,i,a,o,c=this,d=c.constructor,f=12,m=+(t=new d(t));if(!t.s)return new d(ki);if(c=new d(c),!c.s){if(t.s<1)throw Error(ua+"Infinity");return c}if(c.eq(ki))return c;if(r=d.precision,t.eq(ki))return Xt(c,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=c.s,o){if((n=m<0?-m:m)<=sU){for(i=new d(ki),e=Math.ceil(r/Jt+4),an=!1;n%2&&(i=i.times(c),zP(i.d,e)),n=gf(n/2),n!==0;)c=c.times(c),zP(c.d,e);return an=!0,t.s<0?new d(ki).div(i):Xt(i,r)}}else if(a<0)throw Error(ua+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,an=!1,i=t.times(Mm(c,r+f)),an=!0,i=lU(i),i.s=a,i};De.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Rn(i),r=ru(i,n<=a.toExpNeg||n>=a.toExpPos)):(ws(t,1,pf),e===void 0?e=a.rounding:ws(e,0,8),i=Xt(new a(i),t,e),n=Rn(i),r=ru(i,t<=n||n<=a.toExpNeg,t)),r};De.toSignificantDigits=De.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ws(t,1,pf),e===void 0?e=r.rounding:ws(e,0,8)),Xt(new r(n),t,e)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Rn(t),n=t.constructor;return ru(t,e<=n.toExpNeg||e>=n.toExpPos)};function oU(t,e){var n,r,i,a,o,c,d,f,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),an?Xt(e,g):e;if(d=t.d,f=e.d,o=t.e,i=e.e,d=d.slice(),a=o-i,a){for(a<0?(r=d,a=-a,c=f.length):(r=f,i=o,c=d.length),o=Math.ceil(g/Jt),c=o>c?o+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=d.length,a=f.length,c-a<0&&(a=c,r=f,f=d,d=r),n=0;a;)n=(d[--a]=d[a]+f[a]+n)/tr|0,d[a]%=tr;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,an?Xt(e,g):e}function ws(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Hc+t)}function ds(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Jt-r.length,n&&(a+=fl(n)),a+=r;o=t[e],r=o+"",n=Jt-r.length,n&&(a+=fl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var po=function(){function t(r,i){var a,o=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+o,r[c]=a%tr|0,o=a/tr|0;return o&&r.unshift(o),r}function e(r,i,a,o){var c,d;if(a!=o)d=a>o?1:-1;else for(c=d=0;c<a;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*tr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var c,d,f,m,g,v,x,w,T,E,A,k,j,D,O,L,P,C,M=r.constructor,z=r.s==i.s?1:-1,V=r.d,H=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(ua+"Division by zero");for(d=r.e-i.e,P=H.length,O=V.length,x=new M(z),w=x.d=[],f=0;H[f]==(V[f]||0);)++f;if(H[f]>(V[f]||0)&&--d,a==null?k=a=M.precision:o?k=a+(Rn(r)-Rn(i))+1:k=a,k<0)return new M(0);if(k=k/Jt+2|0,f=0,P==1)for(m=0,H=H[0],k++;(f<O||m)&&k--;f++)j=m*tr+(V[f]||0),w[f]=j/H|0,m=j%H|0;else{for(m=tr/(H[0]+1)|0,m>1&&(H=t(H,m),V=t(V,m),P=H.length,O=V.length),D=P,T=V.slice(0,P),E=T.length;E<P;)T[E++]=0;C=H.slice(),C.unshift(0),L=H[0],H[1]>=tr/2&&++L;do m=0,c=e(H,T,P,E),c<0?(A=T[0],P!=E&&(A=A*tr+(T[1]||0)),m=A/L|0,m>1?(m>=tr&&(m=tr-1),g=t(H,m),v=g.length,E=T.length,c=e(g,T,v,E),c==1&&(m--,n(g,P<v?C:H,v))):(m==0&&(c=m=1),g=H.slice()),v=g.length,v<E&&g.unshift(0),n(T,g,E),c==-1&&(E=T.length,c=e(H,T,P,E),c<1&&(m++,n(T,P<E?C:H,E))),E=T.length):c===0&&(m++,T=[0]),w[f++]=m,c&&T[0]?T[E++]=V[D]||0:(T=[V[D]],E=1);while((D++<O||T[0]!==void 0)&&k--)}return w[0]||w.shift(),x.e=d,Xt(x,o?a+Rn(x)+1:a)}}();function lU(t,e){var n,r,i,a,o,c,d=0,f=0,m=t.constructor,g=m.precision;if(Rn(t)>16)throw Error(YA+Rn(t));if(!t.s)return new m(ki);for(an=!1,c=g,o=new m(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(r=Math.log(kc(2,f))/Math.LN10*2+5|0,c+=r,n=i=a=new m(ki),m.precision=c;;){if(i=Xt(i.times(t),c),n=n.times(++d),o=a.plus(po(i,n,c)),ds(o.d).slice(0,c)===ds(a.d).slice(0,c)){for(;f--;)a=Xt(a.times(a),c);return m.precision=g,e==null?(an=!0,Xt(a,g)):a}a=o}}function Rn(t){for(var e=t.e*Jt,n=t.d[0];n>=10;n/=10)e++;return e}function Y_(t,e,n){if(e>t.LN10.sd())throw an=!0,n&&(t.precision=n),Error(ua+"LN10 precision limit exceeded");return Xt(new t(t.LN10),e)}function fl(t){for(var e="";t--;)e+="0";return e}function Mm(t,e){var n,r,i,a,o,c,d,f,m,g=1,v=10,x=t,w=x.d,T=x.constructor,E=T.precision;if(x.s<1)throw Error(ua+(x.s?"NaN":"-Infinity"));if(x.eq(ki))return new T(0);if(e==null?(an=!1,f=E):f=e,x.eq(10))return e==null&&(an=!0),Y_(T,f);if(f+=v,T.precision=f,n=ds(w),r=n.charAt(0),a=Rn(x),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=ds(x.d),r=n.charAt(0),g++;a=Rn(x),r>1?(x=new T("0."+n),a++):x=new T(r+"."+n.slice(1))}else return d=Y_(T,f+2,E).times(a+""),x=Mm(new T(r+"."+n.slice(1)),f-v).plus(d),T.precision=E,e==null?(an=!0,Xt(x,E)):x;for(c=o=x=po(x.minus(ki),x.plus(ki),f),m=Xt(x.times(x),f),i=3;;){if(o=Xt(o.times(m),f),d=c.plus(po(o,new T(i),f)),ds(d.d).slice(0,f)===ds(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(Y_(T,f+2,E).times(a+""))),c=po(c,new T(g),f),T.precision=E,e==null?(an=!0,Xt(c,E)):c;c=d,i+=2}}function BP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=gf(n/Jt),t.d=[],r=(n+1)%Jt,n<0&&(r+=Jt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Jt;r<i;)t.d.push(+e.slice(r,r+=Jt));e=e.slice(r),r=Jt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),an&&(t.e>ry||t.e<-ry))throw Error(YA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Xt(t,e,n){var r,i,a,o,c,d,f,m,g=t.d;for(o=1,a=g[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Jt,i=e,f=g[m=0];else{if(m=Math.ceil((r+1)/Jt),a=g.length,m>=a)return t;for(f=a=g[m],o=1;a>=10;a/=10)o++;r%=Jt,i=r-Jt+o}if(n!==void 0&&(a=kc(10,o-i-1),c=f/a%10|0,d=e<0||g[m+1]!==void 0||f%a,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/kc(10,o-i):0:g[m-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return d?(a=Rn(t),g.length=1,e=e-a-1,g[0]=kc(10,(Jt-e%Jt)%Jt),t.e=gf(-e/Jt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=m,a=1,m--):(g.length=m+1,a=kc(10,Jt-r),g[m]=i>0?(f/kc(10,o-i)%kc(10,i)|0)*a:0),d)for(;;)if(m==0){(g[0]+=a)==tr&&(g[0]=1,++t.e);break}else{if(g[m]+=a,g[m]!=tr)break;g[m--]=0,a=1}for(r=g.length;g[--r]===0;)g.pop();if(an&&(t.e>ry||t.e<-ry))throw Error(YA+Rn(t));return t}function cU(t,e){var n,r,i,a,o,c,d,f,m,g,v=t.constructor,x=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),an?Xt(e,x):e;if(d=t.d,g=e.d,r=e.e,f=t.e,d=d.slice(),o=f-r,o){for(m=o<0,m?(n=d,o=-o,c=g.length):(n=g,r=f,c=d.length),i=Math.max(Math.ceil(x/Jt),c)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=g.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(d[i]!=g[i]){m=d[i]<g[i];break}o=0}for(m&&(n=d,d=g,g=n,e.s=-e.s),c=d.length,i=g.length-c;i>0;--i)d[c++]=0;for(i=g.length;i>o;){if(d[--i]<g[i]){for(a=i;a&&d[--a]===0;)d[a]=tr-1;--d[a],d[i]+=tr}d[i]-=g[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,an?Xt(e,x):e):new v(0)}function ru(t,e,n){var r,i=Rn(t),a=ds(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+fl(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+fl(-i-1)+a,n&&(r=n-o)>0&&(a+=fl(r))):i>=o?(a+=fl(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+fl(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=fl(r))),t.s<0?"-"+a:a}function zP(t,e){if(t.length>e)return t.length=e,!0}function uU(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Hc+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return BP(o,a.toString())}else if(typeof a!="string")throw Error(Hc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,lue.test(a))BP(o,a);else throw Error(Hc+a)}if(i.prototype=De,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=uU,i.config=i.set=cue,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function cue(t){if(!t||typeof t!="object")throw Error(ua+"Object expected");var e,n,r,i=["precision",1,pf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(gf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Hc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Hc+n+": "+r);return this}var XA=uU(oue);ki=new XA(1);const Mt=XA;var uue=t=>t,dU={},fU=t=>t===dU,FP=t=>function e(){return arguments.length===0||arguments.length===1&&fU(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},hU=(t,e)=>t===1?e:FP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==dU).length;return a>=t?e(...r):hU(t-a,FP(function(){for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];var f=r.map(m=>fU(m)?c.shift():m);return e(...f,...c)}))}),Gx=t=>hU(t.length,t),VE=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},due=Gx((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),fue=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return uue;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((c,d)=>d(c),a(...arguments))}},$E=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),mU=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((o,c)=>{var d;return o===((d=e)===null||d===void 0?void 0:d[c])})||(e=i,n=t(...i)),n}};function pU(t){var e;return t===0?e=1:e=Math.floor(new Mt(t).abs().log(10).toNumber())+1,e}function gU(t,e,n){for(var r=new Mt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}Gx((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Gx((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Gx((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var vU=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},yU=(t,e,n)=>{if(t.lte(0))return new Mt(0);var r=pU(t.toNumber()),i=new Mt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,c=new Mt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),d=c.mul(i);return e?new Mt(d.toNumber()):new Mt(Math.ceil(d.toNumber()))},hue=(t,e,n)=>{var r=new Mt(1),i=new Mt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Mt(10).pow(pU(t)-1),i=new Mt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Mt(Math.floor(t)))}else t===0?i=new Mt(Math.floor((e-1)/2)):n||(i=new Mt(Math.floor(t)));var o=Math.floor((e-1)/2),c=fue(due(d=>i.add(new Mt(d-o).mul(r)).toNumber()),VE);return c(0,e)},xU=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Mt(0),tickMin:new Mt(0),tickMax:new Mt(0)};var o=yU(new Mt(n).sub(e).div(r-1),i,a),c;e<=0&&n>=0?c=new Mt(0):(c=new Mt(e).add(n).div(2),c=c.sub(new Mt(c).mod(o)));var d=Math.ceil(c.sub(e).div(o).toNumber()),f=Math.ceil(new Mt(n).sub(c).div(o).toNumber()),m=d+f+1;return m>r?xU(e,n,r,i,a+1):(m<r&&(f=n>0?f+(r-m):f,d=n>0?d:d+(r-m)),{step:o,tickMin:c.sub(new Mt(d).mul(o)),tickMax:c.add(new Mt(f).mul(o))})};function mue(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,c]=vU([e,n]);if(o===-1/0||c===1/0){var d=c===1/0?[o,...VE(0,r-1).map(()=>1/0)]:[...VE(0,r-1).map(()=>-1/0),c];return e>n?$E(d):d}if(o===c)return hue(o,r,i);var{step:f,tickMin:m,tickMax:g}=xU(o,c,a,i,0),v=gU(m,g.add(new Mt(.1).mul(f)),f);return e>n?$E(v):v}function pue(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=vU([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var c=Math.max(e,2),d=yU(new Mt(o).sub(a).div(c-1),i,0),f=[...gU(new Mt(a),new Mt(o),d),o];return i===!1&&(f=f.map(m=>Math.round(m))),n>r?$E(f):f}var gue=mU(mue),vue=mU(pue),bU=t=>t.rootProps.maxBarSize,yue=t=>t.rootProps.barGap,wU=t=>t.rootProps.barCategoryGap,xue=t=>t.rootProps.barSize,vp=t=>t.rootProps.stackOffset,QA=t=>t.options.chartName,ZA=t=>t.rootProps.syncId,_U=t=>t.rootProps.syncMethod,JA=t=>t.options.eventEmitter,to={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ti={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Kx=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},bue={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:to.angleAxisId,includeHidden:!1,name:void 0,reversed:to.reversed,scale:to.scale,tick:to.tick,tickCount:void 0,ticks:void 0,type:to.type,unit:void 0},wue={allowDataOverflow:Ti.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ti.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ti.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ti.scale,tick:Ti.tick,tickCount:Ti.tickCount,ticks:void 0,type:Ti.type,unit:void 0},_ue={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:to.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:to.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:to.scale,tick:to.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Eue={allowDataOverflow:Ti.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ti.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ti.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ti.scale,tick:Ti.tick,tickCount:Ti.tickCount,ticks:void 0,type:"category",unit:void 0},eN=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?_ue:bue,tN=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Eue:wue,Wx=t=>t.polarOptions,nN=ue([Io,Ro,qn],n7),EU=ue([Wx,nN],(t,e)=>{if(t!=null)return Or(t.innerRadius,e,0)}),SU=ue([Wx,nN],(t,e)=>{if(t!=null)return Or(t.outerRadius,e,e*.8)}),Sue=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},TU=ue([Wx],Sue);ue([eN,TU],Kx);var AU=ue([nN,EU,SU],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ue([tN,AU],Kx);var NU=ue([At,Wx,EU,SU,Io,Ro],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:c,startAngle:d,endAngle:f}=e;return{cx:Or(o,i,i/2),cy:Or(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),on=(t,e)=>e,yp=(t,e,n)=>n;function rN(t){return t==null?void 0:t.id}var Gn=t=>{var e=At(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},vf=t=>t.tooltip.settings.axisId,sr=t=>{var e=Gn(t),n=vf(t);return xp(t,e,n)},kU=ue([sr],t=>t==null?void 0:t.dataKey);function jU(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return t.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var m=rN(c);f.forEach((g,v)=>{var x=a==null||i?v:String(dn(g,a,null)),w=dn(g,c.dataKey,0),T;o.has(x)?T=o.get(x):T={},Object.assign(T,{[m]:w}),o.set(x,T)})}}),Array.from(o.values())}function Yx(t){return t.stackId!=null&&t.dataKey!=null}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){Tue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tue(t,e,n){return(e=Aue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aue(t){var e=Nue(t,"string");return typeof e=="symbol"?e:e+""}function Nue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BE=[0,"auto"],_i={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},CU=(t,e)=>t.cartesianAxis.xAxis[e],Do=(t,e)=>{var n=CU(t,e);return n??_i},Ei={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:BE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:fp},OU=(t,e)=>t.cartesianAxis.yAxis[e],Mo=(t,e)=>{var n=OU(t,e);return n??Ei},kue={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},iN=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??kue},An=(t,e,n)=>{switch(e){case"xAxis":return Do(t,n);case"yAxis":return Mo(t,n);case"zAxis":return iN(t,n);case"angleAxis":return eN(t,n);case"radiusAxis":return tN(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},jue=(t,e,n)=>{switch(e){case"xAxis":return Do(t,n);case"yAxis":return Mo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},xp=(t,e,n)=>{switch(e){case"xAxis":return Do(t,n);case"yAxis":return Mo(t,n);case"angleAxis":return eN(t,n);case"radiusAxis":return tN(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},IU=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function aN(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var sN=t=>t.graphicalItems.cartesianItems,Cue=ue([on,yp],aN),oN=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),bp=ue([sN,An,Cue],oN),RU=ue([bp],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Yx)),PU=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),DU=ue([bp],PU),lN=t=>t.map(e=>e.data).filter(Boolean).flat(1),Oue=ue([bp],lN),cN=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},uN=ue([Oue,WA],cN),dN=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:dn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:dn(i,r)}))):t.map(r=>({value:r})),Xx=ue([uN,An,bp],dN);function MU(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function yu(t){return t.filter(e=>bs(e)||e instanceof Date).map(Number).filter(e=>Di(e)===!1)}function Iue(t,e,n){return!n||typeof e!="number"||Di(e)?[]:n.length?yu(n.flatMap(r=>{var i=dn(t,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Li(a)||!Li(o)))return[e-a,e+o]})):[]}var Rue=ue([RU,WA,sr],jU),LU=(t,e,n)=>{var r={},i=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[o,c]=a,d=c.map(rN);return[o,{stackedData:Xae(t,d,n),graphicalItems:c}]}))},zE=ue([Rue,RU,vp],LU),UU=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var a=tse(t,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Pue=ue([zE,Fl,on],UU),VU=(t,e,n,r,i)=>n.length>0?t.flatMap(a=>n.flatMap(o=>{var c,d,f=(c=r[o.id])===null||c===void 0?void 0:c.filter(g=>MU(i,g)),m=dn(a,(d=e.dataKey)!==null&&d!==void 0?d:o.dataKey);return{value:m,errorDomain:Iue(a,m,f)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(a=>({value:dn(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),Qx=t=>t.errorBars,$U=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>MU(n,r));ue([DU,Qx,on],$U);var Due=ue([uN,An,DU,Qx,on],VU);function Mue(t){var{value:e}=t;if(bs(e)||e instanceof Date)return e}var HP=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=yu(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Lue=(t,e,n)=>{var r=t.map(Mue).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Z8(r))?T7(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},fN=t=>{var e;if(t==null||!("domain"in t))return BE;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=yu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:BE},ay=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),c=Math.max(...a);return[o,c]}},BU=t=>t.referenceElements.dots,yf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Uue=ue([BU,on,yp],yf),zU=t=>t.referenceElements.areas,Vue=ue([zU,on,yp],yf),FU=t=>t.referenceElements.lines,$ue=ue([FU,on,yp],yf),qU=(t,e)=>{var n=yu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Bue=ue(Uue,on,qU),HU=(t,e)=>{var n=yu(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},zue=ue([Vue,on],HU),GU=(t,e)=>{var n=yu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Fue=ue($ue,on,GU),que=ue(Bue,Fue,zue,(t,e,n)=>ay(t,n,e)),KU=ue([An],fN),hN=(t,e,n,r,i,a,o)=>{var c=aue(e,t.allowDataOverflow);if(c!=null)return c;var d=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",f=d?ay(n,i,HP(r)):ay(i,HP(r));return sue(e,f,t.allowDataOverflow)},Hue=ue([An,KU,Pue,Due,que,At,on],hN),Gue=[0,1],mN=(t,e,n,r,i,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:c,type:d}=t,f=mu(e,a);return f&&c==null?T7(0,n.length):d==="category"?Lue(r,t,f):i==="expand"?Gue:o}},pN=ue([An,At,uN,Xx,vp,on,Hue],mN),WU=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(cp(a));return c in Gh?c:"point"}}},xf=ue([An,At,IU,QA,on],WU);function Kue(t){if(t!=null){if(t in Gh)return Gh[t]();var e="scale".concat(cp(t));if(e in Gh)return Gh[e]()}}function gN(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Kue(e);if(i!=null){var a=i.domain(n).range(r);return Hae(a),a}}}var vN=(t,e,n)=>{var r=fN(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Kd(t))return gue(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Kd(t))return vue(t,e.tickCount,e.allowDecimals)}},yN=ue([pN,xp,xf],vN),xN=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Kd(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],o=e[1],c=n[n.length-1];return[Math.min(i,a),Math.max(o,c)]}return e},Wue=ue([An,pN,yN,on],xN),Yue=ue(Xx,An,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(yu(t.map(c=>c.value))).sort((c,d)=>c-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),YU=ue(Yue,At,wU,qn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Li(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=Or(n,t*a),c=t*a/2;return c-o-(c-o)/a*o}return 0}),Xue=(t,e)=>{var n=Do(t,e);return n==null||typeof n.padding!="string"?0:YU(t,"xAxis",e,n.padding)},Que=(t,e)=>{var n=Mo(t,e);return n==null||typeof n.padding!="string"?0:YU(t,"yAxis",e,n.padding)},Zue=ue(Do,Xue,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Jue=ue(Mo,Que,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),ede=ue([qn,Zue,Lx,Mx,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),tde=ue([qn,At,Jue,Lx,Mx,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),wp=(t,e,n,r)=>{var i;switch(e){case"xAxis":return ede(t,n,r);case"yAxis":return tde(t,n,r);case"zAxis":return(i=iN(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return TU(t);case"radiusAxis":return AU(t,n);default:return}},XU=ue([An,wp],Kx),bf=ue([An,xf,Wue,XU],gN);ue([bp,Qx,on],$U);function QU(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Zx=(t,e)=>e,Jx=(t,e,n)=>n,nde=ue(Px,Zx,Jx,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(QU)),rde=ue(Dx,Zx,Jx,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(QU)),ZU=(t,e)=>({width:t.width,height:e.height}),ide=(t,e)=>{var n=typeof e.width=="number"?e.width:fp;return{width:n,height:t.height}},JU=ue(qn,Do,ZU),ade=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},sde=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},ode=ue(Ro,qn,nde,Zx,Jx,(t,e,n,r,i)=>{var a={},o;return n.forEach(c=>{var d=ZU(e,c);o==null&&(o=ade(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;a[c.id]=o-Number(f)*d.height,o+=(f?-1:1)*d.height}),a}),lde=ue(Io,qn,rde,Zx,Jx,(t,e,n,r,i)=>{var a={},o;return n.forEach(c=>{var d=ide(e,c);o==null&&(o=sde(e,r,t));var f=r==="left"&&!i||r==="right"&&i;a[c.id]=o-Number(f)*d.width,o+=(f?-1:1)*d.width}),a}),cde=(t,e)=>{var n=Do(t,e);if(n!=null)return ode(t,n.orientation,n.mirror)},ude=ue([qn,Do,cde,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),dde=(t,e)=>{var n=Mo(t,e);if(n!=null)return lde(t,n.orientation,n.mirror)},fde=ue([qn,Mo,dde,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),eV=ue(qn,Mo,(t,e)=>{var n=typeof e.width=="number"?e.width:fp;return{width:n,height:t.height}}),GP=(t,e,n)=>{switch(e){case"xAxis":return JU(t,n).width;case"yAxis":return eV(t,n).height;default:return}},tV=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,c=mu(t,r),d=e.map(f=>f.value);if(o&&c&&a==="category"&&i&&Z8(d))return d}},bN=ue([At,Xx,An,on],tV),nV=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=mu(t,r);if(o&&(i==="number"||a!=="auto"))return e.map(c=>c.value)}},wN=ue([At,Xx,xp,on],nV),KP=ue([At,jue,xf,bf,bN,wN,wp,yN,on],(t,e,n,r,i,a,o,c,d)=>{if(e==null)return null;var f=mu(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:c,range:o,realScaleType:n,scale:r}}),hde=(t,e,n,r,i,a,o,c,d)=>{if(!(e==null||r==null)){var f=mu(t,d),{type:m,ticks:g,tickCount:v}=e,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=m==="category"&&r.bandwidth?r.bandwidth()/x:0;w=d==="angleAxis"&&a!=null&&a.length>=2?nr(a[0]-a[1])*2*w:w;var T=g||i;if(T){var E=T.map((A,k)=>{var j=o?o.indexOf(A):A;return{index:k,coordinate:r(j)+w,value:A,offset:w}});return E.filter(A=>!Di(A.coordinate))}return f&&c?c.map((A,k)=>({coordinate:r(A)+w,value:A,index:k,offset:w})):r.ticks?r.ticks(v).map(A=>({coordinate:r(A)+w,value:A,offset:w})):r.domain().map((A,k)=>({coordinate:r(A)+w,value:o?o[A]:A,index:k,offset:w}))}},rV=ue([At,xp,xf,bf,yN,wp,bN,wN,on],hde),mde=(t,e,n,r,i,a,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=mu(t,o),{tickCount:d}=e,f=0;return f=o==="angleAxis"&&(r==null?void 0:r.length)>=2?nr(r[0]-r[1])*2*f:f,c&&a?a.map((m,g)=>({coordinate:n(m)+f,value:m,index:g,offset:f})):n.ticks?n.ticks(d).map(m=>({coordinate:n(m)+f,value:m,offset:f})):n.domain().map((m,g)=>({coordinate:n(m)+f,value:i?i[m]:m,index:g,offset:f}))}},Wd=ue([At,xp,bf,wp,bN,wN,on],mde),Yd=ue(An,bf,(t,e)=>{if(!(t==null||e==null))return iy(iy({},t),{},{scale:e})}),pde=ue([An,xf,pN,XU],gN);ue((t,e,n)=>iN(t,n),pde,(t,e)=>{if(!(t==null||e==null))return iy(iy({},t),{},{scale:e})});var gde=ue([At,Px,Dx],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),iV=t=>t.options.defaultTooltipEventType,aV=t=>t.options.validateTooltipEventTypes;function sV(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function _N(t,e){var n=iV(t),r=aV(t);return sV(e,n,r)}function vde(t){return $e(e=>_N(e,t))}var oV=(t,e)=>{var n,r=Number(e);if(!(Di(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},yde=t=>t.tooltip.settings,bl={active:!1,index:null,dataKey:void 0,coordinate:void 0},xde={itemInteraction:{click:bl,hover:bl},axisInteraction:{click:bl,hover:bl},keyboardInteraction:bl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},lV=Vi({name:"tooltip",initialState:xde,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=mo(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:bde,removeTooltipEntrySettings:wde,setTooltipSettingsState:_de,setActiveMouseOverItemIndex:cV,mouseLeaveItem:Ede,mouseLeaveChart:uV,setActiveClickItemIndex:Sde,setMouseOverAxisIndex:dV,setMouseClickAxisIndex:Tde,setSyncInteraction:FE,setKeyboardInteraction:qE}=lV.actions,Ade=lV.reducer;function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){Nde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nde(t,e,n){return(e=kde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kde(t){var e=jde(t,"string");return typeof e=="symbol"?e:e+""}function jde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cde(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Ode(t){return t.index!=null}var fV=(t,e,n,r)=>{if(e==null)return bl;var i=Cde(t,e,n);if(i==null)return bl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Ode(i)){if(a)return _0(_0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return _0(_0({},bl),{},{coordinate:i.coordinate})},EN=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!Li(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},hV=(t,e,n,r,i,a,o,c)=>{if(!(a==null||c==null)){var d=o[0],f=d==null?void 0:c(d.positions,a);if(f!=null)return f;var m=i==null?void 0:i[Number(a)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},mV=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},_p=t=>t.options.tooltipPayloadSearcher,wf=t=>t.tooltip;function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){Ide(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ide(t,e,n){return(e=Rde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rde(t){var e=Pde(t,"string");return typeof e=="symbol"?e:e+""}function Pde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dde(t,e){return t??e}var pV=(t,e,n,r,i,a,o)=>{if(!(e==null||a==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:m}=n,g=[];return t.reduce((v,x)=>{var w,{dataDefinedOnItem:T,settings:E}=x,A=Dde(T,c),k=Array.isArray(A)?r7(A,f,m):A,j=(w=E==null?void 0:E.dataKey)!==null&&w!==void 0?w:r,D=E==null?void 0:E.nameKey,O;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&o==="axis"?O=Lne(k,r,i):O=a(k,e,d,D),Array.isArray(O))O.forEach(P=>{var C=XP(XP({},E),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});v.push(PR({tooltipEntrySettings:C,dataKey:P.dataKey,payload:P.payload,value:dn(P.payload,P.dataKey),name:P.name}))});else{var L;v.push(PR({tooltipEntrySettings:E,dataKey:j,payload:O,value:dn(O,j),name:(L=dn(O,D))!==null&&L!==void 0?L:E==null?void 0:E.name}))}return v},g)}},SN=ue([sr,At,IU,QA,Gn],WU),Mde=ue([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Lde=ue([Gn,vf],aN),Ep=ue([Mde,sr,Lde],oN),Ude=ue([Ep],t=>t.filter(Yx)),Vde=ue([Ep],lN),_f=ue([Vde,Fl],cN),$de=ue([Ude,Fl,sr],jU),TN=ue([_f,sr,Ep],dN),Bde=ue([sr],fN),zde=ue([Ep],t=>t.filter(Yx)),Fde=ue([$de,zde,vp],LU),qde=ue([Fde,Fl,Gn],UU),Hde=ue([Ep],PU),Gde=ue([_f,sr,Hde,Qx,Gn],VU),Kde=ue([BU,Gn,vf],yf),Wde=ue([Kde,Gn],qU),Yde=ue([zU,Gn,vf],yf),Xde=ue([Yde,Gn],HU),Qde=ue([FU,Gn,vf],yf),Zde=ue([Qde,Gn],GU),Jde=ue([Wde,Zde,Xde],ay),efe=ue([sr,Bde,qde,Gde,Jde,At,Gn],hN),gV=ue([sr,At,_f,TN,vp,Gn,efe],mN),tfe=ue([gV,sr,SN],vN),nfe=ue([sr,gV,tfe,Gn],xN),vV=t=>{var e=Gn(t),n=vf(t),r=!1;return wp(t,e,n,r)},yV=ue([sr,vV],Kx),xV=ue([sr,SN,nfe,yV],gN),rfe=ue([At,TN,sr,Gn],tV),ife=ue([At,TN,sr,Gn],nV),afe=(t,e,n,r,i,a,o,c)=>{if(e){var{type:d}=e,f=mu(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/m:0;return g=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?nr(i[0]-i[1])*2*g:g,f&&o?o.map((v,x)=>({coordinate:r(v)+g,value:v,index:x,offset:g})):r.domain().map((v,x)=>({coordinate:r(v)+g,value:a?a[v]:v,index:x,offset:g}))}}},Lo=ue([At,sr,SN,xV,vV,rfe,ife,Gn],afe),AN=ue([iV,aV,yde],(t,e,n)=>sV(n.shared,t,e)),bV=t=>t.tooltip.settings.trigger,NN=t=>t.tooltip.settings.defaultIndex,eb=ue([wf,AN,bV,NN],fV),iu=ue([eb,_f],EN),wV=ue([Lo,iu],oV),_V=ue([eb],t=>{if(t)return t.dataKey}),EV=ue([wf,AN,bV,NN],mV),sfe=ue([Io,Ro,At,qn,Lo,NN,EV,_p],hV),ofe=ue([eb,sfe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),lfe=ue([eb],t=>t.active),cfe=ue([EV,iu,Fl,kU,wV,_p,AN],pV);ue([cfe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){ufe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ufe(t,e,n){return(e=dfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dfe(t){var e=ffe(t,"string");return typeof e=="symbol"?e:e+""}function ffe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hfe=()=>$e(sr),mfe=()=>{var t=hfe(),e=$e(Lo),n=$e(xV);return bA(ZP(ZP({},t),{},{scale:n}),e)},pfe=()=>$e(QA),kN=(t,e)=>e,SV=(t,e,n)=>n,jN=(t,e,n,r)=>r,gfe=ue(Lo,t=>Nx(t,e=>e.coordinate)),CN=ue([wf,kN,SV,jN],fV),TV=ue([CN,_f],EN),vfe=(t,e,n)=>{if(e!=null){var r=wf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},AV=ue([wf,kN,SV,jN],mV),sy=ue([Io,Ro,At,qn,Lo,jN,AV,_p],hV),yfe=ue([CN,sy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),NV=ue(Lo,TV,oV),xfe=ue([AV,TV,Fl,kU,NV,_p,kN],pV),bfe=ue([CN],t=>({isActive:t.active,activeIndex:t.index})),wfe=(t,e,n,r,i,a,o,c)=>{if(!(!t||!e||!r||!i||!a)){var d=nse(t.chartX,t.chartY,e,n,c);if(d){var f=ise(d,e),m=Fae(f,o,a,r,i),g=rse(e,a,m,d);return{activeIndex:String(m),activeCoordinate:g}}}};function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HE.apply(null,arguments)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){_fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _fe(t,e,n){return(e=Efe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Efe(t){var e=Sfe(t,"string");return typeof e=="symbol"?e:e+""}function Sfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tfe(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:o,cursor:c,tooltipEventType:d,chartName:f}=t,m=e,g=n,v=r;if(!c||!m||f!=="ScatterChart"&&d!=="axis")return null;var x,w;if(f==="ScatterChart")x=m,w=Hse;else if(f==="BarChart")x=Gse(o,m,i,a),w=w7;else if(o==="radial"){var{cx:T,cy:E,radius:A,startAngle:k,endAngle:j}=_7(m);x={cx:T,cy:E,startAngle:k,endAngle:j,innerRadius:A,outerRadius:A},w=S7}else x={points:Toe(o,m,i)},w=g7;var D=typeof c=="object"&&"className"in c?c.className:void 0,O=E0(E0(E0(E0({stroke:"#ccc",pointerEvents:"none"},i),x),Fn(c,!1)),{},{payload:g,payloadIndex:v,className:Ht("recharts-tooltip-cursor",D)});return S.isValidElement(c)?S.cloneElement(c,O):S.createElement(w,O)}function Afe(t){var e=mfe(),n=c7(),r=EA(),i=pfe();return S.createElement(Tfe,HE({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var kV=S.createContext(null),Nfe=()=>S.useContext(kV),X_={exports:{}},e3;function kfe(){return e3||(e3=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function a(d,f,m,g,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var x=new i(m,g||d,v),w=n?n+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],x]:d._events[w].push(x):(d._events[w]=x,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,g;if(this._eventsCount===0)return f;for(g in m=this._events)e.call(m,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=n?n+f:f,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,x=g.length,w=new Array(x);v<x;v++)w[v]=g[v].fn;return w},c.prototype.listenerCount=function(f){var m=n?n+f:f,g=this._events[m];return g?g.fn?1:g.length:0},c.prototype.emit=function(f,m,g,v,x,w){var T=n?n+f:f;if(!this._events[T])return!1;var E=this._events[T],A=arguments.length,k,j;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),A){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,m),!0;case 3:return E.fn.call(E.context,m,g),!0;case 4:return E.fn.call(E.context,m,g,v),!0;case 5:return E.fn.call(E.context,m,g,v,x),!0;case 6:return E.fn.call(E.context,m,g,v,x,w),!0}for(j=1,k=new Array(A-1);j<A;j++)k[j-1]=arguments[j];E.fn.apply(E.context,k)}else{var D=E.length,O;for(j=0;j<D;j++)switch(E[j].once&&this.removeListener(f,E[j].fn,void 0,!0),A){case 1:E[j].fn.call(E[j].context);break;case 2:E[j].fn.call(E[j].context,m);break;case 3:E[j].fn.call(E[j].context,m,g);break;case 4:E[j].fn.call(E[j].context,m,g,v);break;default:if(!k)for(O=1,k=new Array(A-1);O<A;O++)k[O-1]=arguments[O];E[j].fn.apply(E[j].context,k)}}return!0},c.prototype.on=function(f,m,g){return a(this,f,m,g,!1)},c.prototype.once=function(f,m,g){return a(this,f,m,g,!0)},c.prototype.removeListener=function(f,m,g,v){var x=n?n+f:f;if(!this._events[x])return this;if(!m)return o(this,x),this;var w=this._events[x];if(w.fn)w.fn===m&&(!v||w.once)&&(!g||w.context===g)&&o(this,x);else{for(var T=0,E=[],A=w.length;T<A;T++)(w[T].fn!==m||v&&!w[T].once||g&&w[T].context!==g)&&E.push(w[T]);E.length?this._events[x]=E.length===1?E[0]:E:o(this,x)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&o(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c}(X_)),X_.exports}var jfe=kfe();const Cfe=hi(jfe);var Lm=new Cfe,GE="recharts.syncEvent.tooltip",t3="recharts.syncEvent.brush";function ON(t,e){if(e){var n=Number.parseInt(e,10);if(!Di(n))return t==null?void 0:t[n]}}var Ofe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},jV=Vi({name:"options",initialState:Ofe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ife=jV.reducer,{createEventEmitter:Rfe}=jV.actions;function Pfe(t){return t.tooltip.syncInteraction}var Dfe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},CV=Vi({name:"chartData",initialState:Dfe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:n3,setDataStartEndIndexes:Mfe,setComputedData:V2e}=CV.actions,Lfe=CV.reducer,Ufe=["x","y"];function r3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r3(Object(n),!0).forEach(function(r){Vfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vfe(t,e,n){return(e=$fe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $fe(t){var e=Bfe(t,"string");return typeof e=="symbol"?e:e+""}function Bfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zfe(t,e){if(t==null)return{};var n,r,i=Ffe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ffe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var OV=()=>{};function qfe(){var t=$e(ZA),e=$e(JA),n=Tn(),r=$e(_U),i=$e(Lo),a=EA(),o=_A(),c=$e(d=>d.rootProps.className);S.useEffect(()=>{if(t==null)return OV;var d=(f,m,g)=>{if(e!==g&&t===f){if(r==="index"){var v;if(o&&m!==null&&m!==void 0&&(v=m.payload)!==null&&v!==void 0&&v.coordinate){var x=m.payload.coordinate,{x:w,y:T}=x,E=zfe(x,Ufe),A=wc(wc(wc({},E),typeof w=="number"&&{x:Math.max(o.x,Math.min(w,o.x+o.width))}),typeof T=="number"&&{y:Math.max(o.y,Math.min(T,o.y+o.height))}),k=wc(wc({},m),{},{payload:wc(wc({},m.payload),{},{coordinate:A})});n(k)}else n(m);return}if(i!=null){var j;if(typeof r=="function"){var D={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},O=r(i,D);j=i[O]}else r==="value"&&(j=i.find(q=>String(q.value)===m.payload.label));var{coordinate:L}=m.payload;if(j==null||m.payload.active===!1||L==null||o==null){n(FE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:P,y:C}=L,M=Math.min(P,o.x+o.width),z=Math.min(C,o.y+o.height),V={x:a==="horizontal"?j.coordinate:M,y:a==="horizontal"?z:j.coordinate},H=FE({active:m.payload.active,coordinate:V,dataKey:m.payload.dataKey,index:String(j.index),label:m.payload.label});n(H)}}};return Lm.on(GE,d),()=>{Lm.off(GE,d)}},[c,n,e,t,r,i,a,o])}function Hfe(){var t=$e(ZA),e=$e(JA),n=Tn();S.useEffect(()=>{if(t==null)return OV;var r=(i,a,o)=>{e!==o&&t===i&&n(Mfe(a))};return Lm.on(t3,r),()=>{Lm.off(t3,r)}},[n,e,t])}function Gfe(){var t=Tn();S.useEffect(()=>{t(Rfe())},[t]),qfe(),Hfe()}function Kfe(t,e,n,r,i,a){var o=$e(v=>vfe(v,t,e)),c=$e(JA),d=$e(ZA),f=$e(_U),m=$e(Pfe),g=m==null?void 0:m.active;S.useEffect(()=>{if(!g&&d!=null&&c!=null){var v=FE({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});Lm.emit(GE,d,v,c)}},[g,n,o,i,r,c,d,f,a])}function i3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i3(Object(n),!0).forEach(function(r){Wfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wfe(t,e,n){return(e=Yfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yfe(t){var e=Xfe(t,"string");return typeof e=="symbol"?e:e+""}function Xfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qfe(t){return t.dataKey}function Zfe(t,e){return S.isValidElement(t)?S.cloneElement(t,e):typeof t=="function"?S.createElement(t,e):S.createElement(Ese,e)}var s3=[],Jfe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!pu.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function _s(t){var e=Yr(t,Jfe),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:o,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:m,position:g,reverseDirection:v,useTranslate3d:x,wrapperStyle:w,cursor:T,shared:E,trigger:A,defaultIndex:k,portal:j,axisId:D}=e,O=Tn(),L=typeof k=="number"?String(k):k;S.useEffect(()=>{O(_de({shared:E,trigger:A,axisId:D,active:n,defaultIndex:L}))},[O,E,A,D,n,L]);var P=_A(),C=p7(),M=vde(E),{activeIndex:z,isActive:V}=$e(be=>bfe(be,M,A,L)),H=$e(be=>xfe(be,M,A,L)),q=$e(be=>NV(be,M,A,L)),G=$e(be=>yfe(be,M,A,L)),W=H,U=Nfe(),K=n??V,[ee,Q]=Rie([W,K]),$=M==="axis"?q:void 0;Kfe(M,A,G,$,z,K);var X=j??U;if(X==null)return null;var J=W??s3;K||(J=s3),c&&J.length&&(J=aie(W.filter(be=>be.value!=null&&(be.hide!==!0||e.includeHidden)),m,Qfe));var ce=J.length>0,xe=S.createElement(Cse,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:d,active:K,coordinate:G,hasPayload:ce,offset:f,position:g,reverseDirection:v,useTranslate3d:x,viewBox:P,wrapperStyle:w,lastBoundingBox:ee,innerRef:Q,hasPortalFromProps:!!j},Zfe(o,a3(a3({},e),{},{payload:J,label:$,active:K,coordinate:G,accessibilityLayer:C})));return S.createElement(S.Fragment,null,iH.createPortal(xe,X),K&&S.createElement(Afe,{cursor:T,tooltipEventType:M,coordinate:G,payload:W,index:z}))}var Q_={},Z_={},J_={},o3;function ehe(){return o3||(o3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let o,c=null;const d=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),m=()=>{c!==null&&(n.apply(o,c),o=void 0,c=null)},g=()=>{f&&m(),T()};let v=null;const x=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},r)},w=()=>{v!==null&&(clearTimeout(v),v=null)},T=()=>{w(),o=void 0,c=null},E=()=>{m()},A=function(...k){if(i!=null&&i.aborted)return;o=this,c=k;const j=v==null;x(),d&&j&&m()};return A.schedule=x,A.cancel=T,A.flush=E,i==null||i.addEventListener("abort",T,{once:!0}),A}t.debounce=e}(J_)),J_}var l3;function the(){return l3||(l3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ehe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:c=!0,maxWait:d}=a,f=Array(2);o&&(f[0]="leading"),c&&(f[1]="trailing");let m,g=null;const v=e.debounce(function(...T){m=r.apply(this,T),g=null},i,{edges:f}),x=function(...T){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(m=r.apply(this,T),g=Date.now(),v.cancel(),v.schedule(),m):(v.apply(this,T),m)},w=()=>(v.flush(),m);return x.cancel=v.cancel,x.flush=w,x}t.debounce=n}(Z_)),Z_}var c3;function nhe(){return c3||(c3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=the();function n(r,i=0,a={}){const{leading:o=!0,trailing:c=!0}=a;return e.debounce(r,i,{leading:o,maxWait:i,trailing:c})}t.throttle=n}(Q_)),Q_}var e2,u3;function rhe(){return u3||(u3=1,e2=nhe().throttle),e2}var ihe=rhe();const ahe=hi(ihe);var lm=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function d3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d3(Object(n),!0).forEach(function(r){she(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function she(t,e,n){return(e=ohe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ohe(t){var e=lhe(t,"string");return typeof e=="symbol"?e:e+""}function lhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Es=S.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:c,maxHeight:d,children:f,debounce:m=0,id:g,className:v,onResize:x,style:w={}}=t,T=S.useRef(null),E=S.useRef();E.current=x,S.useImperativeHandle(e,()=>T.current);var[A,k]=S.useState({containerWidth:r.width,containerHeight:r.height}),j=S.useCallback((O,L)=>{k(P=>{var C=Math.round(O),M=Math.round(L);return P.containerWidth===C&&P.containerHeight===M?P:{containerWidth:C,containerHeight:M}})},[]);S.useEffect(()=>{var O=M=>{var z,{width:V,height:H}=M[0].contentRect;j(V,H),(z=E.current)===null||z===void 0||z.call(E,V,H)};m>0&&(O=ahe(O,m,{trailing:!0,leading:!1}));var L=new ResizeObserver(O),{width:P,height:C}=T.current.getBoundingClientRect();return j(P,C),L.observe(T.current),()=>{L.disconnect()}},[j,m]);var D=S.useMemo(()=>{var{containerWidth:O,containerHeight:L}=A;if(O<0||L<0)return null;lm(Rc(i)||Rc(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),lm(!n||n>0,"The aspect(%s) must be greater than zero.",n);var P=Rc(i)?O:i,C=Rc(a)?L:a;return n&&n>0&&(P?C=P/n:C&&(P=C*n),d&&C>d&&(C=d)),lm(P>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,C,i,a,o,c,n),S.Children.map(f,M=>S.cloneElement(M,{width:P,height:C,style:t2({width:P,height:C},M.props.style)}))},[n,f,a,d,c,o,A,i]);return S.createElement("div",{id:g?"".concat(g):void 0,className:Ht("recharts-responsive-container",v),style:t2(t2({},w),{},{width:i,height:a,minWidth:o,minHeight:c,maxHeight:d}),ref:T},S.createElement("div",{style:{width:0,height:0,overflow:"visible"}},D))}),ma=t=>null;ma.displayName="Cell";function che(t,e,n){return(e=uhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uhe(t){var e=dhe(t,"string");return typeof e=="symbol"?e:e+""}function dhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class fhe{constructor(e){che(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function f3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hhe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f3(Object(n),!0).forEach(function(r){mhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mhe(t,e,n){return(e=phe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function phe(t){var e=ghe(t,"string");return typeof e=="symbol"?e:e+""}function ghe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vhe={cacheSize:2e3,enableCache:!0},IV=hhe({},vhe),h3=new fhe(IV.cacheSize),yhe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},m3="recharts_measurement_span";function xhe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(c)}var p3=(t,e)=>{try{var n=document.getElementById(m3);n||(n=document.createElement("span"),n.setAttribute("id",m3),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,yhe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},cm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||pu.isSsr)return{width:0,height:0};if(!IV.enableCache)return p3(e,n);var r=xhe(e,n),i=h3.get(r);if(i)return i;var a=p3(e,n);return h3.set(r,a),a},g3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,v3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bhe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,whe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_he=Object.keys(RV),gd="NaN";function Ehe(t,e){return t*RV[e]}class ni{static parse(e){var n,[,r,i]=(n=whe.exec(e))!==null&&n!==void 0?n:[];return new ni(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Di(e)&&(this.unit=""),n!==""&&!bhe.test(n)&&(this.num=NaN,this.unit=""),_he.includes(n)&&(this.num=Ehe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ni(NaN,""):new ni(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ni(NaN,""):new ni(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ni(NaN,""):new ni(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ni(NaN,""):new ni(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Di(this.num)}}function PV(t){if(t.includes(gd))return gd;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=g3.exec(e))!==null&&n!==void 0?n:[],o=ni.parse(r??""),c=ni.parse(a??""),d=i==="*"?o.multiply(c):o.divide(c);if(d.isNaN())return gd;e=e.replace(g3,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,m,g,v]=(f=v3.exec(e))!==null&&f!==void 0?f:[],x=ni.parse(m??""),w=ni.parse(v??""),T=g==="+"?x.add(w):x.subtract(w);if(T.isNaN())return gd;e=e.replace(v3,T.toString())}return e}var y3=/\(([^()]*)\)/;function She(t){for(var e=t,n;(n=y3.exec(e))!=null;){var[,r]=n;e=e.replace(y3,PV(r))}return e}function The(t){var e=t.replace(/\s+/g,"");return e=She(e),e=PV(e),e}function Ahe(t){try{return The(t)}catch{return gd}}function n2(t){var e=Ahe(t.slice(5,-1));return e===gd?"":e}var Nhe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],khe=["dx","dy","angle","className","breakAll"];function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KE.apply(null,arguments)}function x3(t,e){if(t==null)return{};var n,r,i=jhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var DV=/[ \f\n\r\t\v\u2028\u2029]+/,MV=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];rr(e)||(n?i=e.toString().split(""):i=e.toString().split(DV));var a=i.map(c=>({word:c,width:cm(c,r).width})),o=n?0:cm(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Che=(t,e,n,r,i)=>{var{maxLines:a,children:o,style:c,breakAll:d}=t,f=ze(a),m=o,g=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce((H,q)=>{var{word:G,width:W}=q,U=H[H.length-1];if(U&&(r==null||i||U.width+W+n<Number(r)))U.words.push(G),U.width+=W+n;else{var K={words:[G],width:W};H.push(K)}return H},[])},v=g(e),x=z=>z.reduce((V,H)=>V.width>H.width?V:H);if(!f||i)return v;var w=v.length>a||x(v).width>Number(r);if(!w)return v;for(var T="…",E=z=>{var V=m.slice(0,z),H=MV({breakAll:d,style:c,children:V+T}).wordsWithComputedWidth,q=g(H),G=q.length>a||x(q).width>Number(r);return[G,q]},A=0,k=m.length-1,j=0,D;A<=k&&j<=m.length-1;){var O=Math.floor((A+k)/2),L=O-1,[P,C]=E(L),[M]=E(O);if(!P&&!M&&(A=O+1),P&&M&&(k=O-1),!P&&M){D=C;break}j++}return D||v},b3=t=>{var e=rr(t)?[]:t.toString().split(DV);return[{words:e}]},Ohe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=t;if((e||n)&&!pu.isSsr){var c,d,f=MV({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:m,spaceWidth:g}=f;c=m,d=g}else return b3(r);return Che({breakAll:a,children:r,maxLines:o,style:i},c,d,e,n)}return b3(r)},w3="#808080",tb=S.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:c="start",verticalAnchor:d="end",fill:f=w3}=t,m=x3(t,Nhe),g=S.useMemo(()=>Ohe({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:o,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,o,m.style,m.width]),{dx:v,dy:x,angle:w,className:T,breakAll:E}=m,A=x3(m,khe);if(!bs(n)||!bs(r)||g.length===0)return null;var k=n+(ze(v)?v:0),j=r+(ze(x)?x:0),D;switch(d){case"start":D=n2("calc(".concat(a,")"));break;case"middle":D=n2("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:D=n2("calc(".concat(g.length-1," * -").concat(i,")"));break}var O=[];if(o){var L=g[0].width,{width:P}=m;O.push("scale(".concat(ze(P)?P/L:1,")"))}return w&&O.push("rotate(".concat(w,", ").concat(k,", ").concat(j,")")),O.length&&(A.transform=O.join(" ")),S.createElement("text",KE({},Fn(A,!0),{ref:e,x:k,y:j,className:Ht("recharts-text",T),textAnchor:c,fill:f.includes("url")?w3:f}),g.map((C,M)=>{var z=C.words.join(E?"":" ");return S.createElement("tspan",{x:k,dy:M===0?D:i,key:"".concat(z,"-").concat(M)},z)}))});tb.displayName="Text";var Ihe=["labelRef"];function Rhe(t,e){if(t==null)return{};var n,r,i=Phe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Phe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_3(Object(n),!0).forEach(function(r){Dhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dhe(t,e,n){return(e=Mhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mhe(t){var e=Lhe(t,"string");return typeof e=="symbol"?e:e+""}function Lhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function no(){return no=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},no.apply(null,arguments)}var LV=S.createContext(null),Uhe=t=>{var{x:e,y:n,width:r,height:i,children:a}=t,o=S.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return S.createElement(LV.Provider,{value:o},a)},UV=()=>{var t=S.useContext(LV),e=_A();return t||e},Vhe=S.createContext(null),$he=()=>{var t=S.useContext(Vhe),e=$e(NU);return t||e},Bhe=t=>{var{value:e,formatter:n}=t,r=rr(t.children)?e:t.children;return typeof n=="function"?n(r):r},IN=t=>t!=null&&typeof t=="function",zhe=(t,e)=>{var n=nr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Fhe=(t,e,n,r,i)=>{var{offset:a,className:o}=t,{cx:c,cy:d,innerRadius:f,outerRadius:m,startAngle:g,endAngle:v,clockWise:x}=i,w=(f+m)/2,T=zhe(g,v),E=T>=0?1:-1,A,k;switch(e){case"insideStart":A=g+E*a,k=x;break;case"insideEnd":A=v-E*a,k=!x;break;case"end":A=v+E*a,k=x;break;default:throw new Error("Unsupported position ".concat(e))}k=T<=0?k:!k;var j=In(c,d,w,A),D=In(c,d,w,A+(k?1:-1)*359),O="M".concat(j.x,",").concat(j.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(k?0:1,`,
    `).concat(D.x,",").concat(D.y),L=rr(t.id)?km("recharts-radial-line-"):t.id;return S.createElement("text",no({},r,{dominantBaseline:"central",className:Ht("recharts-radial-bar-label",o)}),S.createElement("defs",null,S.createElement("path",{id:L,d:O})),S.createElement("textPath",{xlinkHref:"#".concat(L)},n))},qhe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:d}=t,f=(c+d)/2;if(n==="outside"){var{x:m,y:g}=In(r,i,o+e,f);return{x:m,y:g,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+o)/2,{x,y:w}=In(r,i,v,f);return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},VV=t=>"cx"in t&&ze(t.cx),Hhe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!VV(n)&&(a=n);var{x:o,y:c,width:d,height:f}=e,m=f>=0?1:-1,g=m*r,v=m>0?"end":"start",x=m>0?"start":"end",w=d>=0?1:-1,T=w*r,E=w>0?"end":"start",A=w>0?"start":"end";if(i==="top"){var k={x:o+d/2,y:c-m*r,textAnchor:"middle",verticalAnchor:v};return En(En({},k),a?{height:Math.max(c-a.y,0),width:d}:{})}if(i==="bottom"){var j={x:o+d/2,y:c+f+g,textAnchor:"middle",verticalAnchor:x};return En(En({},j),a?{height:Math.max(a.y+a.height-(c+f),0),width:d}:{})}if(i==="left"){var D={x:o-T,y:c+f/2,textAnchor:E,verticalAnchor:"middle"};return En(En({},D),a?{width:Math.max(D.x-a.x,0),height:f}:{})}if(i==="right"){var O={x:o+d+T,y:c+f/2,textAnchor:A,verticalAnchor:"middle"};return En(En({},O),a?{width:Math.max(a.x+a.width-O.x,0),height:f}:{})}var L=a?{width:d,height:f}:{};return i==="insideLeft"?En({x:o+T,y:c+f/2,textAnchor:A,verticalAnchor:"middle"},L):i==="insideRight"?En({x:o+d-T,y:c+f/2,textAnchor:E,verticalAnchor:"middle"},L):i==="insideTop"?En({x:o+d/2,y:c+g,textAnchor:"middle",verticalAnchor:x},L):i==="insideBottom"?En({x:o+d/2,y:c+f-g,textAnchor:"middle",verticalAnchor:v},L):i==="insideTopLeft"?En({x:o+T,y:c+g,textAnchor:A,verticalAnchor:x},L):i==="insideTopRight"?En({x:o+d-T,y:c+g,textAnchor:E,verticalAnchor:x},L):i==="insideBottomLeft"?En({x:o+T,y:c+f-g,textAnchor:A,verticalAnchor:v},L):i==="insideBottomRight"?En({x:o+d-T,y:c+f-g,textAnchor:E,verticalAnchor:v},L):i&&typeof i=="object"&&(ze(i.x)||Rc(i.x))&&(ze(i.y)||Rc(i.y))?En({x:o+Or(i.x,d),y:c+Or(i.y,f),textAnchor:"end",verticalAnchor:"end"},L):En({x:o+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},L)},Ghe={offset:5};function hl(t){var e=Yr(t,Ghe),{viewBox:n,position:r,value:i,children:a,content:o,className:c="",textBreakAll:d,labelRef:f}=e,m=$he(),g=UV(),v=r==="center"?g:m??g,x=n||v;if(!x||rr(i)&&rr(a)&&!S.isValidElement(o)&&typeof o!="function")return null;var w=En(En({},e),{},{viewBox:x});if(S.isValidElement(o)){var{labelRef:T}=w,E=Rhe(w,Ihe);return S.cloneElement(o,E)}var A;if(typeof o=="function"){if(A=S.createElement(o,w),S.isValidElement(A))return A}else A=Bhe(e);var k=VV(x),j=Fn(e,!0);if(k&&(r==="insideStart"||r==="insideEnd"||r==="end"))return Fhe(e,r,A,j,x);var D=k?qhe(x,e.offset,e.position):Hhe(e,x);return S.createElement(tb,no({ref:f,className:Ht("recharts-label",c)},j,D,{breakAll:d}),A)}hl.displayName="Label";var Khe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?S.createElement(hl,no({key:"label-implicit"},r)):bs(t)?S.createElement(hl,no({key:"label-implicit",value:t},r)):S.isValidElement(t)?t.type===hl?S.cloneElement(t,En({key:"label-implicit"},r)):S.createElement(hl,no({key:"label-implicit",content:t},r)):IN(t)?S.createElement(hl,no({key:"label-implicit",content:t},r)):t&&typeof t=="object"?S.createElement(hl,no({},t,{key:"label-implicit"},r)):null};function Whe(t){var{label:e}=t,n=UV();return Khe(e,n)||null}var r2={},i2={},E3;function Yhe(){return E3||(E3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e}(i2)),i2}var a2={},S3;function Xhe(){return S3||(S3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e}(a2)),a2}var T3;function Qhe(){return T3||(T3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yhe(),n=Xhe(),r=fA();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i}(r2)),r2}var s2,A3;function Zhe(){return A3||(A3=1,s2=Qhe().last),s2}var Jhe=Zhe();const eme=hi(Jhe);var tme=["valueAccessor"],nme=["dataKey","clockWise","id","textBreakAll"];function oy(){return oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oy.apply(null,arguments)}function N3(t,e){if(t==null)return{};var n,r,i=rme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ime=t=>Array.isArray(t.value)?eme(t.value):t.value,$V=S.createContext(void 0),ame=$V.Provider,BV=S.createContext(void 0),sme=BV.Provider;function ome(){return S.useContext($V)}function lme(){return S.useContext(BV)}function gs(t){var{valueAccessor:e=ime}=t,n=N3(t,tme),{dataKey:r,clockWise:i,id:a,textBreakAll:o}=n,c=N3(n,nme),d=ome(),f=lme(),m=d||f;return!m||!m.length?null:S.createElement(ui,{className:"recharts-label-list"},m.map((g,v)=>{var x,w=rr(r)?e(g,v):dn(g&&g.payload,r),T=rr(a)?{}:{id:"".concat(a,"-").concat(v)};return S.createElement(hl,oy({},Fn(g,!0),c,T,{fill:(x=n.fill)!==null&&x!==void 0?x:g.fill,parentViewBox:g.parentViewBox,value:w,textBreakAll:o,viewBox:g.viewBox,key:"label-".concat(v),index:v}))}))}gs.displayName="LabelList";function zV(t){var{label:e}=t;return e?e===!0?S.createElement(gs,{key:"labelList-implicit"}):S.isValidElement(e)||IN(e)?S.createElement(gs,{key:"labelList-implicit",content:e}):typeof e=="object"?S.createElement(gs,oy({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var FV=t=>t.graphicalItems.polarItems,cme=ue([on,yp],aN),RN=ue([FV,An,cme],oN),ume=ue([RN],lN),PN=ue([ume,KA],cN),dme=ue([PN,An,RN],dN),fme=ue([PN,An,RN],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,o=dn(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:dn(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),k3=()=>{},hme=ue([An,KU,k3,fme,k3,At,on],hN),qV=ue([An,At,PN,dme,vp,on,hme],mN),mme=ue([qV,An,xf],vN);ue([An,qV,mme,on],xN);var pme={radiusAxis:{},angleAxis:{}},HV=Vi({name:"polarAxis",initialState:pme,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:$2e,removeRadiusAxis:B2e,addAngleAxis:z2e,removeAngleAxis:F2e}=HV.actions,gme=HV.reducer;function j3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j3(Object(n),!0).forEach(function(r){vme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vme(t,e,n){return(e=yme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yme(t){var e=xme(t,"string");return typeof e=="symbol"?e:e+""}function xme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bme=(t,e)=>e,DN=ue([FV,bme],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),wme=[],MN=(t,e,n)=>(n==null?void 0:n.length)===0?wme:n,GV=ue([KA,DN,MN],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>C3(C3({},e.presentationProps),a.props))),i!=null)return i}}),_me=ue([GV,DN,MN],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,o=dn(r,e.nameKey,e.name),c;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?c=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=e.fill,{value:Rx(o,e.dataKey),color:c,payload:r,type:e.legendType}})}),Eme=ue([GV,DN,MN,qn],(t,e,n,r)=>{if(!(e==null||t==null))return _pe({offset:r,pieSettings:e,displayedData:t,cells:n})}),o2={},O3;function Sme(){return O3||(O3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e}(o2)),o2}var l2,I3;function Tme(){return I3||(I3=1,l2=Sme().isPlainObject),l2}var Ame=Tme();const Nme=hi(Ame);function R3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R3(Object(n),!0).forEach(function(r){kme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kme(t,e,n){return(e=jme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jme(t){var e=Cme(t,"string");return typeof e=="symbol"?e:e+""}function Cme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ly(){return ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ly.apply(null,arguments)}var D3=(t,e,n,r,i)=>{var a=n-r,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+n,",").concat(e),o+="L ".concat(t+n-a/2,",").concat(e+i),o+="L ".concat(t+n-a/2-r,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},Ome={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ime=t=>{var e=Yr(t,Ome),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:c}=e,{animationEasing:d,animationDuration:f,animationBegin:m,isUpdateAnimationActive:g}=e,v=S.useRef(),[x,w]=S.useState(-1),T=S.useRef(i),E=S.useRef(a),A=S.useRef(o),k=S.useRef(n),j=S.useRef(r),D=Vx(t,"trapezoid-");if(S.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var G=v.current.getTotalLength();G&&w(G)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var O=Ht("recharts-trapezoid",c);if(!g)return S.createElement("g",null,S.createElement("path",ly({},Fn(e,!0),{className:O,d:D3(n,r,i,a,o)})));var L=T.current,P=E.current,C=A.current,M=k.current,z=j.current,V="0px ".concat(x===-1?1:x,"px"),H="".concat(x,"px 0px"),q=v7(["strokeDasharray"],f,d);return S.createElement(Ux,{animationId:D,key:D,canBegin:x>0,duration:f,easing:d,isActive:g,begin:m},G=>{var W=vr(L,i,G),U=vr(P,a,G),K=vr(C,o,G),ee=vr(M,n,G),Q=vr(z,r,G);v.current&&(T.current=W,E.current=U,A.current=K,k.current=ee,j.current=Q);var $=G>0?{transition:q,strokeDasharray:H}:{strokeDasharray:V};return S.createElement("path",ly({},Fn(e,!0),{className:O,d:D3(ee,Q,W,U,K),ref:v,style:P3(P3({},$),e.style)}))})},Rme=["option","shapeType","propTransformer","activeClassName","isActive"];function Pme(t,e){if(t==null)return{};var n,r,i=Dme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function M3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M3(Object(n),!0).forEach(function(r){Mme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mme(t,e,n){return(e=Lme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lme(t){var e=Ume(t,"string");return typeof e=="symbol"?e:e+""}function Ume(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vme(t,e){return cy(cy({},e),t)}function $me(t,e){return t==="symbols"}function L3(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return S.createElement(w7,n);case"trapezoid":return S.createElement(Ime,n);case"sector":return S.createElement(S7,n);case"symbols":if($me(e))return S.createElement(xL,n);break;default:return null}}function Bme(t){return S.isValidElement(t)?t.props:t}function KV(t){var{option:e,shapeType:n,propTransformer:r=Vme,activeClassName:i="recharts-active-shape",isActive:a}=t,o=Pme(t,Rme),c;if(S.isValidElement(e))c=S.cloneElement(e,cy(cy({},o),Bme(e)));else if(typeof e=="function")c=e(o);else if(Nme(e)&&typeof e!="boolean"){var d=r(e,o);c=S.createElement(L3,{shapeType:n,elementProps:d})}else{var f=o;c=S.createElement(L3,{shapeType:n,elementProps:f})}return a?S.createElement(ui,{className:i},c):c}var LN=(t,e)=>{var n=Tn();return(r,i)=>a=>{t==null||t(r,i,a),n(cV({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},UN=t=>{var e=Tn();return(n,r)=>i=>{t==null||t(n,r,i),e(Ede())}},VN=(t,e)=>{var n=Tn();return(r,i)=>a=>{t==null||t(r,i,a),n(Sde({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function WV(t){var{fn:e,args:n}=t,r=Tn(),i=fa();return S.useEffect(()=>{if(!i){var a=e(n);return r(bde(a)),()=>{r(wde(a))}}},[e,n,r,i]),null}var YV=()=>{};function zme(t){var{legendPayload:e}=t,n=Tn(),r=fa();return S.useEffect(()=>r?YV:(n(h7(e)),()=>{n(m7(e))}),[n,r,e]),null}function Fme(t){var{legendPayload:e}=t,n=Tn(),r=$e(At);return S.useEffect(()=>r!=="centric"&&r!=="radial"?YV:(n(h7(e)),()=>{n(m7(e))}),[n,r,e]),null}var c2,qme=()=>{var[t]=S.useState(()=>km("uid-"));return t},Hme=(c2=SF.useId)!==null&&c2!==void 0?c2:qme;function Gme(t,e){var n=Hme();return e||(t?"".concat(t,"-").concat(n):n)}var Kme=S.createContext(void 0),XV=t=>{var{id:e,type:n,children:r}=t,i=Gme("recharts-".concat(n),e);return S.createElement(Kme.Provider,{value:i},r(i))},Wme={cartesianItems:[],polarItems:[]},QV=Vi({name:"graphicalItems",initialState:Wme,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=mo(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=mo(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=mo(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Yme,replaceCartesianGraphicalItem:Xme,removeCartesianGraphicalItem:Qme,addPolarGraphicalItem:Zme,removePolarGraphicalItem:Jme}=QV.actions,epe=QV.reducer;function tpe(t){var e=Tn(),n=S.useRef(null);return S.useEffect(()=>{n.current===null?e(Yme(t)):n.current!==t&&e(Xme({prev:n.current,next:t})),n.current=t},[e,t]),S.useEffect(()=>()=>{n.current&&(e(Qme(n.current)),n.current=null)},[e]),null}function npe(t){var e=Tn();return S.useEffect(()=>(e(Zme(t)),()=>{e(Jme(t))}),[e,t]),null}var rpe=["onMouseEnter","onClick","onMouseLeave"],ipe=["id"],ape=["id"];function $N(t,e){if(t==null)return{};var n,r,i=spe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function spe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function U3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U3(Object(n),!0).forEach(function(r){ope(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ope(t,e,n){return(e=lpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lpe(t){var e=cpe(t,"string");return typeof e=="symbol"?e:e+""}function cpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dl.apply(null,arguments)}function upe(t){var e=S.useMemo(()=>lA(t.children,ma),[t.children]),n=$e(r=>_me(r,t.id,e));return n==null?null:S.createElement(Fme,{legendPayload:n})}function dpe(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:o,name:c,hide:d,tooltipType:f}=t;return{dataDefinedOnItem:r.map(m=>m.tooltipPayload),positions:r.map(m=>m.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:n,name:Rx(c,e),hide:d,type:f,color:o,unit:""}}}var fpe=(t,e)=>t>e?"start":t<e?"end":"middle",hpe=(t,e,n)=>Or(typeof e=="function"?e(t):e,n,n*.8),mpe=(t,e,n)=>{var{top:r,left:i,width:a,height:o}=e,c=n7(a,o),d=i+Or(t.cx,a,a/2),f=r+Or(t.cy,o,o/2),m=Or(t.innerRadius,c,0),g=hpe(n,t.outerRadius,c),v=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:d,cy:f,innerRadius:m,outerRadius:g,maxRadius:v}},ppe=(t,e)=>{var n=nr(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function gpe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var vpe=(t,e)=>{if(S.isValidElement(t))return S.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Ht("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return S.createElement(g7,Dl({},e,{type:"linear",className:n}))},ype=(t,e,n)=>{if(S.isValidElement(t))return S.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),S.isValidElement(r)))return r;var i=Ht("recharts-pie-label-text",gpe(t));return S.createElement(tb,Dl({},e,{alignmentBaseline:"middle",className:i}),r)};function xpe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:o}=n;if(!r||!i||!e)return null;var c=$l(n),d=Fn(i,!1),f=Fn(a,!1),m=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=e.map((v,x)=>{var w=(v.startAngle+v.endAngle)/2,T=In(v.cx,v.cy,v.outerRadius+m,w),E=rn(rn(rn(rn({},c),v),{},{stroke:"none"},d),{},{index:x,textAnchor:fpe(T.x,v.cx)},T),A=rn(rn(rn(rn({},c),v),{},{fill:"none",stroke:v.fill},f),{},{index:x,points:[In(v.cx,v.cy,v.outerRadius,w),T],key:"line"});return S.createElement(ui,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(x)},a&&vpe(a,A),ype(i,E,dn(v,o)))});return S.createElement(ui,{className:"recharts-pie-labels"},g)}function bpe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?S.createElement(zV,{label:i}):S.createElement(xpe,{sectors:e,props:n,showLabels:r})}function wpe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,a=$e(iu),{onMouseEnter:o,onClick:c,onMouseLeave:d}=i,f=$N(i,rpe),m=LN(o,i.dataKey),g=UN(d),v=VN(c,i.dataKey);return e==null||e.length===0?null:S.createElement(S.Fragment,null,e.map((x,w)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&e.length!==1)return null;var T=n&&String(w)===a,E=a?r:null,A=T?n:E,k=rn(rn({},x),{},{stroke:x.stroke,tabIndex:-1,[o7]:w,[l7]:i.dataKey});return S.createElement(ui,Dl({tabIndex:-1,className:"recharts-pie-sector"},Ex(f,x,w),{onMouseEnter:m(x,w),onMouseLeave:g(x,w),onClick:v(x,w),key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(w)}),S.createElement(KV,Dl({option:A,isActive:T,shapeType:"sector"},k)))}))}function _pe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:o,startAngle:c,endAngle:d,dataKey:f,nameKey:m,tooltipType:g}=n,v=Math.abs(n.minAngle),x=ppe(c,d),w=Math.abs(x),T=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,E=r.filter(L=>dn(L,f,0)!==0).length,A=(w>=360?E:E-1)*T,k=w-E*v-A,j=r.reduce((L,P)=>{var C=dn(P,f,0);return L+(ze(C)?C:0)},0),D;if(j>0){var O;D=r.map((L,P)=>{var C=dn(L,f,0),M=dn(L,m,P),z=mpe(n,a,L),V=(ze(C)?C:0)/j,H,q=rn(rn({},L),i&&i[P]&&i[P].props);P?H=O.endAngle+nr(x)*T*(C!==0?1:0):H=c;var G=H+nr(x)*((C!==0?v:0)+V*k),W=(H+G)/2,U=(z.innerRadius+z.outerRadius)/2,K=[{name:M,value:C,payload:q,dataKey:f,type:g}],ee=In(z.cx,z.cy,U,W);return O=rn(rn(rn(rn({},n.presentationProps),{},{percent:V,cornerRadius:o,name:M,tooltipPayload:K,midAngle:W,middleRadius:U,tooltipPosition:ee},q),z),{},{value:C,startAngle:H,endAngle:G,payload:q,paddingAngle:nr(x)*T}),O})}return D}function Epe(t){var{showLabels:e,sectors:n,children:r}=t,i=S.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return S.createElement(sme,{value:e?i:void 0},r)}function Spe(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:c,activeShape:d,inactiveShape:f,onAnimationStart:m,onAnimationEnd:g}=e,v=Vx(e,"recharts-pie-"),x=n.current,[w,T]=S.useState(!1),E=S.useCallback(()=>{typeof g=="function"&&g(),T(!1)},[g]),A=S.useCallback(()=>{typeof m=="function"&&m(),T(!0)},[m]);return S.createElement(Epe,{showLabels:!w,sectors:r},S.createElement(Ux,{animationId:v,begin:a,duration:o,isActive:i,easing:c,onAnimationStart:A,onAnimationEnd:E,key:v},k=>{var j=[],D=r&&r[0],O=D==null?void 0:D.startAngle;return r==null||r.forEach((L,P)=>{var C=x&&x[P],M=P>0?eu(L,"paddingAngle",0):0;if(C){var z=vr(C.endAngle-C.startAngle,L.endAngle-L.startAngle,k),V=rn(rn({},L),{},{startAngle:O+M,endAngle:O+z+M});j.push(V),O=V.endAngle}else{var{endAngle:H,startAngle:q}=L,G=vr(0,H-q,k),W=rn(rn({},L),{},{startAngle:O+M,endAngle:O+G+M});j.push(W),O=W.endAngle}}),n.current=j,S.createElement(ui,null,S.createElement(wpe,{sectors:j,activeShape:d,inactiveShape:f,allOtherPieProps:e}))}),S.createElement(bpe,{showLabels:!w,sectors:r,props:e}),e.children)}var Tpe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!pu.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Ape(t){var{id:e}=t,n=$N(t,ipe),{hide:r,className:i,rootTabIndex:a}=t,o=S.useMemo(()=>lA(t.children,ma),[t.children]),c=$e(m=>Eme(m,e,o)),d=S.useRef(null),f=Ht("recharts-pie",i);return r||c==null?(d.current=null,S.createElement(ui,{tabIndex:a,className:f})):S.createElement(S.Fragment,null,S.createElement(WV,{fn:dpe,args:rn(rn({},t),{},{sectors:c})}),S.createElement(ui,{tabIndex:a,className:f},S.createElement(Spe,{props:rn(rn({},n),{},{sectors:c}),previousSectorsRef:d})))}function BN(t){var e=Yr(t,Tpe),{id:n}=e,r=$N(e,ape),i=$l(r);return S.createElement(XV,{id:n,type:"pie"},a=>S.createElement(S.Fragment,null,S.createElement(npe,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),S.createElement(upe,Dl({},r,{id:a})),S.createElement(Ape,Dl({},r,{id:a}))))}BN.displayName="Pie";function V3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V3(Object(n),!0).forEach(function(r){Npe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Npe(t,e,n){return(e=kpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kpe(t){var e=jpe(t,"string");return typeof e=="symbol"?e:e+""}function jpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cpe={xAxis:{},yAxis:{},zAxis:{}},ZV=Vi({name:"cartesianAxis",initialState:Cpe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=$3($3({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:Ope,removeXAxis:Ipe,addYAxis:Rpe,removeYAxis:Ppe,addZAxis:q2e,removeZAxis:H2e,updateYAxisWidth:Dpe}=ZV.actions,Mpe=ZV.reducer,Lpe=ue([qn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Upe=ue([Lpe,Io,Ro],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),JV=()=>$e(Upe),Vpe="Invariant failed";function $pe(t,e){throw new Error(Vpe)}var Bpe=["x","y"];function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WE.apply(null,arguments)}function B3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B3(Object(n),!0).forEach(function(r){zpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zpe(t,e,n){return(e=Fpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fpe(t){var e=qpe(t,"string");return typeof e=="symbol"?e:e+""}function qpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hpe(t,e){if(t==null)return{};var n,r,i=Gpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Kpe(t,e){var{x:n,y:r}=t,i=Hpe(t,Bpe),a="".concat(n),o=parseInt(a,10),c="".concat(r),d=parseInt(c,10),f="".concat(e.height||i.height),m=parseInt(f,10),g="".concat(e.width||i.width),v=parseInt(g,10);return Uh(Uh(Uh(Uh(Uh({},e),i),o?{x:o}:{}),d?{y:d}:{}),{},{height:m,width:v,name:e.name,radius:e.radius})}function zN(t){return S.createElement(KV,WE({shapeType:"rectangle",propTransformer:Kpe,activeClassName:"recharts-active-bar"},t))}var Wpe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ze(e))return e;var a=ze(r)||rr(r);return a?e(r,i):(a||$pe(),n)}},Ype={},e$=Vi({name:"errorBars",initialState:Ype,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:G2e,replaceErrorBar:K2e,removeErrorBar:W2e}=e$.actions,Xpe=e$.reducer,Qpe=["children"];function Zpe(t,e){if(t==null)return{};var n,r,i=Jpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ege={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},tge=S.createContext(ege);function nge(t){var{children:e}=t,n=Zpe(t,Qpe);return S.createElement(tge.Provider,{value:n},e)}function t$(t,e){var n,r,i=$e(f=>Do(f,t)),a=$e(f=>Mo(f,e)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:_i.allowDataOverflow,c=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Ei.allowDataOverflow,d=o||c;return{needClip:d,needClipX:o,needClipY:c}}function rge(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=JV(),{needClipX:a,needClipY:o,needClip:c}=t$(e,n);if(!c)return null;var{x:d,y:f,width:m,height:g}=i;return S.createElement("clipPath",{id:"clipPath-".concat(r)},S.createElement("rect",{x:a?d:d-m/2,y:o?f:f-g/2,width:a?m:m*2,height:o?g:g*2}))}var ige=["onMouseEnter","onMouseLeave","onClick"],age=["value","background","tooltipPosition"],sge=["id"],oge=["onMouseEnter","onClick","onMouseLeave"];function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ml.apply(null,arguments)}function z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(n),!0).forEach(function(r){lge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lge(t,e,n){return(e=cge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cge(t){var e=uge(t,"string");return typeof e=="symbol"?e:e+""}function uge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uy(t,e){if(t==null)return{};var n,r,i=dge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fge=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Rx(n,e),payload:t}]};function hge(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:c}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Rx(a,e),hide:o,type:t.tooltipType,color:t.fill,unit:c}}}function mge(t){var e=$e(iu),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:c,onClick:d}=a,f=uy(a,ige),m=LN(o,r),g=UN(c),v=VN(d,r);if(!i||n==null)return null;var x=Fn(i,!1);return S.createElement(S.Fragment,null,n.map((w,T)=>{var{value:E,background:A,tooltipPosition:k}=w,j=uy(w,age);if(!A)return null;var D=m(w,T),O=g(w,T),L=v(w,T),P=Vr(Vr(Vr(Vr(Vr({option:i,isActive:String(T)===e},j),{},{fill:"#eee"},A),x),Ex(f,w,T)),{},{onMouseEnter:D,onMouseLeave:O,onClick:L,dataKey:r,index:T,className:"recharts-bar-background-rectangle"});return S.createElement(zN,Ml({key:"background-bar-".concat(P.index)},P))}))}function pge(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return Vr(Vr({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return S.createElement(ame,{value:e?i:void 0},n)}function gge(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=t,c=$e(iu),d=$e(_V),f=n&&String(a)===c&&(d==null||o===d),m=f?n:e;return S.createElement(zN,Ml({},r,i,{isActive:f,option:m,index:a,dataKey:o}))}function vge(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return S.createElement(zN,Ml({},n,r,{isActive:!1,option:e,index:i,dataKey:a}))}function yge(t){var{data:e,props:n}=t,r=$l(n),{id:i}=r,a=uy(r,sge),{shape:o,dataKey:c,activeBar:d}=n,{onMouseEnter:f,onClick:m,onMouseLeave:g}=n,v=uy(n,oge),x=LN(f,c),w=UN(g),T=VN(m,c);return e?S.createElement(S.Fragment,null,e.map((E,A)=>S.createElement(ui,Ml({className:"recharts-bar-rectangle"},Ex(v,E,A),{onMouseEnter:x(E,A),onMouseLeave:w(E,A),onClick:T(E,A),key:"rectangle-".concat(E==null?void 0:E.x,"-").concat(E==null?void 0:E.y,"-").concat(E==null?void 0:E.value,"-").concat(A)}),d?S.createElement(gge,{shape:o,activeBar:d,baseProps:a,entry:E,index:A,dataKey:c}):S.createElement(vge,{shape:o,baseProps:a,entry:E,index:A,dataKey:c})))):null}function xge(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:m}=e,g=n.current,v=Vx(e,"recharts-bar-"),[x,w]=S.useState(!1),T=!x,E=S.useCallback(()=>{typeof f=="function"&&f(),w(!1)},[f]),A=S.useCallback(()=>{typeof m=="function"&&m(),w(!0)},[m]);return S.createElement(pge,{showLabels:T,rects:r},S.createElement(Ux,{animationId:v,begin:o,duration:c,isActive:a,easing:d,onAnimationEnd:E,onAnimationStart:A,key:v},k=>{var j=k===1?r:r==null?void 0:r.map((D,O)=>{var L=g&&g[O];if(L)return Vr(Vr({},D),{},{x:vr(L.x,D.x,k),y:vr(L.y,D.y,k),width:vr(L.width,D.width,k),height:vr(L.height,D.height,k)});if(i==="horizontal"){var P=vr(0,D.height,k);return Vr(Vr({},D),{},{y:D.y+D.height-P,height:P})}var C=vr(0,D.width,k);return Vr(Vr({},D),{},{width:C})});return k>0&&(n.current=j??null),j==null?null:S.createElement(ui,null,S.createElement(yge,{props:e,data:j}))}),S.createElement(zV,{label:e.label}),e.children)}function bge(t){var e=S.useRef(null);return S.createElement(xge,{previousRectanglesRef:e,props:t})}var n$=0,wge=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:dn(t,e)}};class _ge extends S.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:c,background:d,id:f}=this.props;if(e||n==null)return null;var m=Ht("recharts-bar",i),g=f;return S.createElement(ui,{className:m,id:f},c&&S.createElement("defs",null,S.createElement(rge,{clipPathId:g,xAxisId:a,yAxisId:o})),S.createElement(ui,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(g,")"):void 0},S.createElement(mge,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),S.createElement(bge,this.props)))}}var Ege={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!pu.isSsr,legendType:"rect",minPointSize:n$,xAxisId:0,yAxisId:0};function Sge(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:m}=t,{needClip:g}=t$(e,n),v=EA(),x=fa(),w=lA(t.children,ma),T=$e(k=>Zge(k,e,n,x,t.id,w));if(v!=="vertical"&&v!=="horizontal")return null;var E,A=T==null?void 0:T[0];return A==null||A.height==null||A.width==null?E=0:E=v==="vertical"?A.height/2:A.width/2,S.createElement(nge,{xAxisId:e,yAxisId:n,data:T,dataPointFormatter:wge,errorBarOffset:E},S.createElement(_ge,Ml({},t,{layout:v,needClip:g,data:T,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:m})))}function Tge(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:m,displayedData:g,offset:v,cells:x,parentViewBox:w}=t,T=e==="horizontal"?c:o,E=m?T.scale.domain():null,A=Zae({numericAxis:T});return g.map((k,j)=>{var D,O,L,P,C,M;m?D=Gae(m[j],E):(D=dn(k,n),Array.isArray(D)||(D=[A,D]));var z=Wpe(r,n$)(D[1],j);if(e==="horizontal"){var V,[H,q]=[c.scale(D[0]),c.scale(D[1])];O=OR({axis:o,ticks:d,bandSize:a,offset:i.offset,entry:k,index:j}),L=(V=q??H)!==null&&V!==void 0?V:void 0,P=i.size;var G=H-q;if(C=Di(G)?0:G,M={x:O,y:v.top,width:P,height:v.height},Math.abs(z)>0&&Math.abs(C)<Math.abs(z)){var W=nr(C||z)*(Math.abs(z)-Math.abs(C));L-=W,C+=W}}else{var[U,K]=[o.scale(D[0]),o.scale(D[1])];if(O=U,L=OR({axis:c,ticks:f,bandSize:a,offset:i.offset,entry:k,index:j}),P=K-U,C=i.size,M={x:v.left,y:L,width:v.width,height:C},Math.abs(z)>0&&Math.abs(P)<Math.abs(z)){var ee=nr(P||z)*(Math.abs(z)-Math.abs(P));P+=ee}}if(O==null||L==null||P==null||C==null)return null;var Q=Vr(Vr({},k),{},{x:O,y:L,width:P,height:C,value:m?D:D[1],payload:k,background:M,tooltipPosition:{x:O+P/2,y:L+C/2},parentViewBox:w},x&&x[j]&&x[j].props);return Q}).filter(Boolean)}function Age(t){var e=Yr(t,Ege),n=fa();return S.createElement(XV,{id:e.id,type:"bar"},r=>S.createElement(S.Fragment,null,S.createElement(zme,{legendPayload:fge(e)}),S.createElement(WV,{fn:hge,args:e}),S.createElement(tpe,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:Qae(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),S.createElement(Sge,Ml({},e,{id:r}))))}var Ra=S.memo(Age);Ra.displayName="Bar";function F3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F3(Object(n),!0).forEach(function(r){Nge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nge(t,e,n){return(e=kge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kge(t){var e=jge(t,"string");return typeof e=="symbol"?e:e+""}function jge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cge=(t,e)=>e,Oge=(t,e,n)=>n,Ige=(t,e,n,r)=>r,Rge=(t,e,n,r,i)=>i,Sp=ue([sN,Rge],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Pge=ue([Sp],t=>t==null?void 0:t.maxBarSize),Dge=(t,e,n,r,i,a)=>a,q3=(t,e,n)=>{var r=n??t;if(!rr(r))return Or(r,e,0)},Mge=ue([At,sN,Cge,Oge,Ige],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Lge=(t,e,n,r)=>{var i=At(t);return i==="horizontal"?zE(t,"yAxis",n,r):zE(t,"xAxis",e,r)},Uge=(t,e,n)=>{var r=At(t);return r==="horizontal"?GP(t,"xAxis",e):GP(t,"yAxis",n)},Vge=(t,e,n)=>{var r={},i=t.filter(Yx),a=t.filter(f=>f.stackId==null),o=i.reduce((f,m)=>(f[m.stackId]||(f[m.stackId]=[]),f[m.stackId].push(m),f),r),c=Object.entries(o).map(f=>{var[m,g]=f,v=g.map(w=>w.dataKey),x=q3(e,n,g[0].barSize);return{stackId:m,dataKeys:v,barSize:x}}),d=a.map(f=>{var m=[f.dataKey].filter(v=>v!=null),g=q3(e,n,f.barSize);return{stackId:void 0,dataKeys:m,barSize:g}});return[...c,...d]},$ge=ue([Mge,xue,Uge],Vge),Bge=(t,e,n,r,i)=>{var a,o,c=Sp(t,e,n,r,i);if(c!=null){var d=At(t),f=bU(t),{maxBarSize:m}=c,g=rr(m)?f:m,v,x;return d==="horizontal"?(v=Yd(t,"xAxis",e,r),x=Wd(t,"xAxis",e,r)):(v=Yd(t,"yAxis",n,r),x=Wd(t,"yAxis",n,r)),(a=(o=bA(v,x,!0))!==null&&o!==void 0?o:g)!==null&&a!==void 0?a:0}},r$=(t,e,n,r)=>{var i=At(t),a,o;return i==="horizontal"?(a=Yd(t,"xAxis",e,r),o=Wd(t,"xAxis",e,r)):(a=Yd(t,"yAxis",n,r),o=Wd(t,"yAxis",n,r)),bA(a,o)};function zge(t,e,n,r,i){var a=r.length;if(!(a<1)){var o=Or(t,n,0,!0),c,d=[];if(Li(r[0].barSize)){var f=!1,m=n/a,g=r.reduce((A,k)=>A+(k.barSize||0),0);g+=(a-1)*o,g>=n&&(g-=(a-1)*o,o=0),g>=n&&m>0&&(f=!0,m*=.9,g=a*m);var v=(n-g)/2>>0,x={offset:v-o,size:0};c=r.reduce((A,k)=>{var j,D={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:x.offset+x.size+o,size:f?m:(j=k.barSize)!==null&&j!==void 0?j:0}},O=[...A,D];return x=O[O.length-1].position,O},d)}else{var w=Or(e,n,0,!0);n-2*w-(a-1)*o<=0&&(o=0);var T=(n-2*w-(a-1)*o)/a;T>1&&(T>>=0);var E=Li(i)?Math.min(T,i):T;c=r.reduce((A,k,j)=>[...A,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:w+(T+o)*j+(T-E)/2,size:E}}],d)}return c}}var Fge=(t,e,n,r,i,a,o)=>{var c=rr(o)?e:o,d=zge(n,r,i!==a?i:a,t,c);return i!==a&&d!=null&&(d=d.map(f=>S0(S0({},f),{},{position:S0(S0({},f.position),{},{offset:f.position.offset-i/2})}))),d},qge=ue([$ge,bU,yue,wU,Bge,r$,Pge],Fge),Hge=(t,e,n,r)=>Yd(t,"xAxis",e,r),Gge=(t,e,n,r)=>Yd(t,"yAxis",n,r),Kge=(t,e,n,r)=>Wd(t,"xAxis",e,r),Wge=(t,e,n,r)=>Wd(t,"yAxis",n,r),Yge=ue([qge,Sp],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Xge=(t,e)=>{var n=rN(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},Qge=ue([Lge,Sp],Xge),Zge=ue([qn,wA,Hge,Gge,Kge,Wge,Yge,At,WA,r$,Qge,Sp,Dge],(t,e,n,r,i,a,o,c,d,f,m,g,v)=>{var{chartData:x,dataStartIndex:w,dataEndIndex:T}=d;if(!(g==null||o==null||e==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||a==null||f==null)){var{data:E}=g,A;if(E!=null&&E.length>0?A=E:A=x==null?void 0:x.slice(w,T+1),A!=null)return Tge({layout:c,barSettings:g,pos:o,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:m,displayedData:A,offset:t,cells:v})}}),i$=t=>{var{chartData:e}=t,n=Tn(),r=fa();return S.useEffect(()=>r?()=>{}:(n(n3(e)),()=>{n(n3(void 0))}),[e,n,r]),null},H3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},a$=Vi({name:"brush",initialState:H3,reducers:{setBrushSettings(t,e){return e.payload==null?H3:e.payload}}}),{setBrushSettings:Y2e}=a$.actions,Jge=a$.reducer;function e0e(t,e,n){return(e=t0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t0e(t){var e=n0e(t,"string");return typeof e=="symbol"?e:e+""}function n0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class FN{static create(e){return new FN(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}e0e(FN,"EPS",1e-4);function r0e(t){return(t%180+180)%180}var i0e=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=r0e(i),o=a*Math.PI/180,c=Math.atan(r/n),d=o>c&&o<Math.PI-c?r/Math.sin(o):n/Math.cos(o);return Math.abs(d)},a0e={dots:[],areas:[],lines:[]},s$=Vi({name:"referenceElements",initialState:a0e,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=mo(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=mo(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=mo(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:X2e,removeDot:Q2e,addArea:Z2e,removeArea:J2e,addLine:eEe,removeLine:tEe}=s$.actions,s0e=s$.reducer,o0e=S.createContext(void 0),l0e=t=>{var{children:e}=t,[n]=S.useState("".concat(km("recharts"),"-clip")),r=JV();if(r==null)return null;var{x:i,y:a,width:o,height:c}=r;return S.createElement(o0e.Provider,{value:n},S.createElement("defs",null,S.createElement("clipPath",{id:n},S.createElement("rect",{x:i,y:a,height:c,width:o}))),e)};function Xd(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function o$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function c0e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return i0e(r,n)}function u0e(t,e,n){var r=n==="width",{x:i,y:a,width:o,height:c}=t;return e===1?{start:r?i:a,end:r?i+o:a+c}:{start:r?i+o:a+c,end:r?i:a}}function dy(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function d0e(t,e){return o$(t,e+1)}function f0e(t,e,n,r,i){for(var a=(r||[]).slice(),{start:o,end:c}=e,d=0,f=1,m=o,g=function(){var w=r==null?void 0:r[d];if(w===void 0)return{v:o$(r,f)};var T=d,E,A=()=>(E===void 0&&(E=n(w,T)),E),k=w.coordinate,j=d===0||dy(t,k,A,m,c);j||(d=0,m=o,f+=1),j&&(m=k+t*(A()/2+i),d+=f)},v;f<=a.length;)if(v=g(),v)return v.v;return[]}function G3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G3(Object(n),!0).forEach(function(r){h0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h0e(t,e,n){return(e=m0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m0e(t){var e=p0e(t,"string");return typeof e=="symbol"?e:e+""}function p0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g0e(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:c}=e,{end:d}=e,f=function(v){var x=a[v],w,T=()=>(w===void 0&&(w=n(x,v)),w);if(v===o-1){var E=t*(x.coordinate+t*T()/2-d);a[v]=x=Tr(Tr({},x),{},{tickCoord:E>0?x.coordinate-E*t:x.coordinate})}else a[v]=x=Tr(Tr({},x),{},{tickCoord:x.coordinate});var A=dy(t,x.tickCoord,T,c,d);A&&(d=x.tickCoord-t*(T()/2+i),a[v]=Tr(Tr({},x),{},{isShow:!0}))},m=o-1;m>=0;m--)f(m);return a}function v0e(t,e,n,r,i,a){var o=(r||[]).slice(),c=o.length,{start:d,end:f}=e;if(a){var m=r[c-1],g=n(m,c-1),v=t*(m.coordinate+t*g/2-f);o[c-1]=m=Tr(Tr({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate});var x=dy(t,m.tickCoord,()=>g,d,f);x&&(f=m.tickCoord-t*(g/2+i),o[c-1]=Tr(Tr({},m),{},{isShow:!0}))}for(var w=a?c-1:c,T=function(k){var j=o[k],D,O=()=>(D===void 0&&(D=n(j,k)),D);if(k===0){var L=t*(j.coordinate-t*O()/2-d);o[k]=j=Tr(Tr({},j),{},{tickCoord:L<0?j.coordinate-L*t:j.coordinate})}else o[k]=j=Tr(Tr({},j),{},{tickCoord:j.coordinate});var P=dy(t,j.tickCoord,O,d,f);P&&(d=j.tickCoord+t*(O()/2+i),o[k]=Tr(Tr({},j),{},{isShow:!0}))},E=0;E<w;E++)T(E);return o}function qN(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:c,interval:d,tickFormatter:f,unit:m,angle:g}=t;if(!i||!i.length||!r)return[];if(ze(d)||pu.isSsr){var v;return(v=d0e(i,ze(d)?d:0))!==null&&v!==void 0?v:[]}var x=[],w=c==="top"||c==="bottom"?"width":"height",T=m&&w==="width"?cm(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=(j,D)=>{var O=typeof f=="function"?f(j.value,D):j.value;return w==="width"?c0e(cm(O,{fontSize:e,letterSpacing:n}),T,g):cm(O,{fontSize:e,letterSpacing:n})[w]},A=i.length>=2?nr(i[1].coordinate-i[0].coordinate):1,k=u0e(a,A,w);return d==="equidistantPreserveStart"?f0e(A,k,E,i,o):(d==="preserveStart"||d==="preserveStartEnd"?x=v0e(A,k,E,i,o,d==="preserveStartEnd"):x=g0e(A,k,E,i,o),x.filter(j=>j.isShow))}var y0e=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){e.forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>o&&(o=g.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+a,f=o+d+c+(n?r:0);return Math.round(f)}return 0},x0e=["axisLine","width","height","className","hide","ticks"],b0e=["viewBox"],w0e=["viewBox"];function YE(t,e){if(t==null)return{};var n,r,i=_0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function au(){return au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},au.apply(null,arguments)}function K3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K3(Object(n),!0).forEach(function(r){E0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E0e(t,e,n){return(e=S0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S0e(t){var e=T0e(t,"string");return typeof e=="symbol"?e:e+""}function T0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HN={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function A0e(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:c,otherSvgProps:d}=t;if(!c)return null;var f=Un(Un(Un({},d),Fn(c,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var m=+(a==="top"&&!o||a==="bottom"&&o);f=Un(Un({},f),{},{x1:e,y1:n+m*i,x2:e+r,y2:n+m*i})}else{var g=+(a==="left"&&!o||a==="right"&&o);f=Un(Un({},f),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return S.createElement("line",au({},f,{className:Ht("recharts-cartesian-axis-line",eu(c,"className"))}))}function N0e(t,e,n,r,i,a,o,c,d){var f,m,g,v,x,w,T=c?-1:1,E=t.tickSize||o,A=ze(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=m=t.coordinate,v=n+ +!c*i,g=v-T*E,w=g-T*d,x=A;break;case"left":g=v=t.coordinate,m=e+ +!c*r,f=m-T*E,x=f-T*d,w=A;break;case"right":g=v=t.coordinate,m=e+ +c*r,f=m+T*E,x=f+T*d,w=A;break;default:f=m=t.coordinate,v=n+ +c*i,g=v+T*E,w=g+T*d,x=A;break}return{line:{x1:f,y1:g,x2:m,y2:v},tick:{x,y:w}}}function k0e(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function j0e(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function C0e(t){var{option:e,tickProps:n,value:r}=t,i,a=Ht(n.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(e))i=S.cloneElement(e,Un(Un({},n),{},{className:a}));else if(typeof e=="function")i=e(Un(Un({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=Ht(o,e==null?void 0:e.className)),i=S.createElement(tb,au({},n,{className:o}),r)}return i}function O0e(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:o,padding:c,tickTextProps:d,orientation:f,mirror:m,x:g,y:v,width:x,height:w,tickSize:T,tickMargin:E,fontSize:A,letterSpacing:k,getTicksConfig:j,events:D}=t,O=qN(Un(Un({},j),{},{ticks:e}),A,k),L=k0e(f,m),P=j0e(f,m),C=$l(j),M=Fn(n,!1),z=Un(Un({},C),{},{fill:"none"},Fn(r,!1)),V=O.map((H,q)=>{var{line:G,tick:W}=N0e(H,g,v,x,w,f,T,m,E),U=Un(Un(Un(Un({textAnchor:L,verticalAnchor:P},C),{},{stroke:"none",fill:i},M),W),{},{index:q,payload:H,visibleTicksCount:O.length,tickFormatter:a,padding:c},d);return S.createElement(ui,au({className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},Ex(D,H,q)),r&&S.createElement("line",au({},z,G,{className:Ht("recharts-cartesian-axis-tick-line",eu(r,"className"))})),n&&S.createElement(C0e,{option:n,tickProps:U,value:"".concat(typeof a=="function"?a(H.value,q):H.value).concat(o||"")}))});return V.length>0?S.createElement("g",{className:"recharts-cartesian-axis-ticks"},V):null}var I0e=S.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:c}=t,d=YE(t,x0e),[f,m]=S.useState(""),[g,v]=S.useState(""),x=S.useRef([]);S.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var T;return y0e({ticks:x.current,label:(T=t.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var w=S.useCallback(T=>{if(T){var E=T.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=Array.from(E);var A=E[0];if(A){var k=window.getComputedStyle(A),j=k.fontSize,D=k.letterSpacing;(j!==f||D!==g)&&(m(j),v(D))}}},[f,g]);return o||r!=null&&r<=0||i!=null&&i<=0?null:S.createElement(ui,{className:Ht("recharts-cartesian-axis",a),ref:w},S.createElement(A0e,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:$l(t)}),S.createElement(O0e,{ticks:c,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:f,letterSpacing:g,getTicksConfig:t,events:d}),S.createElement(Uhe,{x:t.x,y:t.y,width:t.width,height:t.height},S.createElement(Whe,{label:t.label}),t.children))}),R0e=S.memo(I0e,(t,e)=>{var{viewBox:n}=t,r=YE(t,b0e),{viewBox:i}=e,a=YE(e,w0e);return Xd(n,i)&&Xd(r,a)}),GN=S.forwardRef((t,e)=>{var n=Yr(t,HN);return S.createElement(R0e,au({},n,{ref:e}))});GN.displayName="CartesianAxis";var P0e=["x1","y1","x2","y2","key"],D0e=["offset"],M0e=["xAxisId","yAxisId"],L0e=["xAxisId","yAxisId"];function W3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W3(Object(n),!0).forEach(function(r){U0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U0e(t,e,n){return(e=V0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V0e(t){var e=$0e(t,"string");return typeof e=="symbol"?e:e+""}function $0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mc.apply(null,arguments)}function fy(t,e){if(t==null)return{};var n,r,i=B0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function B0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var z0e=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:c}=t;return S.createElement("rect",{x:r,y:i,ry:c,width:a,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function l$(t,e){var n;if(S.isValidElement(t))n=S.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:o,key:c}=e,d=fy(e,P0e),f=$l(d),{offset:m}=f,g=fy(f,D0e);n=S.createElement("line",Mc({},g,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:c}))}return n}function F0e(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,c=fy(t,M0e),d=i.map((f,m)=>{var g=jr(jr({},c),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(m),index:m});return l$(r,g)});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function q0e(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,c=fy(t,L0e),d=i.map((f,m)=>{var g=jr(jr({},c),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(m),index:m});return l$(r,g)});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function H0e(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:c,horizontal:d=!0}=t;if(!d||!e||!e.length)return null;var f=c.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==f[0]&&f.unshift(0);var m=f.map((g,v)=>{var x=!f[v+1],w=x?i+o-g:f[v+1]-g;if(w<=0)return null;var T=v%e.length;return S.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:w,width:a,stroke:"none",fill:e[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function G0e(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:c,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var f=d.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==f[0]&&f.unshift(0);var m=f.map((g,v)=>{var x=!f[v+1],w=x?i+o-g:f[v+1]-g;if(w<=0)return null;var T=v%n.length;return S.createElement("rect",{key:"react-".concat(v),x:g,y:a,width:w,height:c,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var K0e=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return i7(qN(jr(jr(jr({},HN),n),{},{ticks:a7(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},W0e=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return i7(qN(jr(jr(jr({},HN),n),{},{ticks:a7(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},Y0e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function XE(t){var e=u7(),n=d7(),r=c7(),i=jr(jr({},Yr(t,Y0e)),{},{x:ze(t.x)?t.x:r.left,y:ze(t.y)?t.y:r.top,width:ze(t.width)?t.width:r.width,height:ze(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:o,x:c,y:d,width:f,height:m,syncWithTicks:g,horizontalValues:v,verticalValues:x}=i,w=fa(),T=$e(M=>KP(M,"xAxis",a,w)),E=$e(M=>KP(M,"yAxis",o,w));if(!ze(f)||f<=0||!ze(m)||m<=0||!ze(c)||c!==+c||!ze(d)||d!==+d)return null;var A=i.verticalCoordinatesGenerator||K0e,k=i.horizontalCoordinatesGenerator||W0e,{horizontalPoints:j,verticalPoints:D}=i;if((!j||!j.length)&&typeof k=="function"){var O=v&&v.length,L=k({yAxis:E?jr(jr({},E),{},{ticks:O?v:E.ticks}):void 0,width:e,height:n,offset:r},O?!0:g);lm(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(j=L)}if((!D||!D.length)&&typeof A=="function"){var P=x&&x.length,C=A({xAxis:T?jr(jr({},T),{},{ticks:P?x:T.ticks}):void 0,width:e,height:n,offset:r},P?!0:g);lm(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(D=C)}return S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(z0e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),S.createElement(H0e,Mc({},i,{horizontalPoints:j})),S.createElement(G0e,Mc({},i,{verticalPoints:D})),S.createElement(F0e,Mc({},i,{offset:r,horizontalPoints:j,xAxis:T,yAxis:E})),S.createElement(q0e,Mc({},i,{offset:r,verticalPoints:D,xAxis:T,yAxis:E})))}XE.displayName="CartesianGrid";var X0e=["dangerouslySetInnerHTML","ticks"],Q0e=["id"],Z0e=["domain"],J0e=["domain"];function QE(){return QE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QE.apply(null,arguments)}function hy(t,e){if(t==null)return{};var n,r,i=eve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tve(t){var e=Tn();return S.useEffect(()=>(e(Ope(t)),()=>{e(Ipe(t))}),[t,e]),null}var nve=t=>{var{xAxisId:e,className:n}=t,r=$e(wA),i=fa(),a="xAxis",o=$e(E=>bf(E,a,e,i)),c=$e(E=>rV(E,a,e,i)),d=$e(E=>JU(E,e)),f=$e(E=>ude(E,e)),m=$e(E=>CU(E,e));if(d==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=t,x=hy(t,X0e),{id:w}=m,T=hy(m,Q0e);return S.createElement(GN,QE({},x,T,{scale:o,x:f.x,y:f.y,width:d.width,height:d.height,className:Ht("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:c}))},rve={allowDataOverflow:_i.allowDataOverflow,allowDecimals:_i.allowDecimals,allowDuplicatedCategory:_i.allowDuplicatedCategory,height:_i.height,hide:!1,mirror:_i.mirror,orientation:_i.orientation,padding:_i.padding,reversed:_i.reversed,scale:_i.scale,tickCount:_i.tickCount,type:_i.type,xAxisId:0},ive=t=>{var e,n,r,i,a,o=Yr(t,rve);return S.createElement(S.Fragment,null,S.createElement(tve,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),S.createElement(nve,o))},ave=(t,e)=>{var{domain:n}=t,r=hy(t,Z0e),{domain:i}=e,a=hy(e,J0e);return Xd(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Xd({domain:n},{domain:i}):!1},To=S.memo(ive,ave);To.displayName="XAxis";var sve=["dangerouslySetInnerHTML","ticks"],ove=["id"],lve=["domain"],cve=["domain"];function ZE(){return ZE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZE.apply(null,arguments)}function my(t,e){if(t==null)return{};var n,r,i=uve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dve(t){var e=Tn();return S.useEffect(()=>(e(Rpe(t)),()=>{e(Ppe(t))}),[t,e]),null}var fve=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=S.useRef(null),o=S.useRef(null),c=$e(wA),d=fa(),f=Tn(),m="yAxis",g=$e(O=>bf(O,m,e,d)),v=$e(O=>eV(O,e)),x=$e(O=>fde(O,e)),w=$e(O=>rV(O,m,e,d)),T=$e(O=>OU(O,e));if(S.useLayoutEffect(()=>{if(!(r!=="auto"||!v||IN(i)||S.isValidElement(i)||T==null)){var O=a.current;if(O){var L=O.getCalculatedWidth();Math.round(v.width)!==Math.round(L)&&f(Dpe({id:e,width:L}))}}},[w,v,f,i,e,r,T]),v==null||x==null||T==null)return null;var{dangerouslySetInnerHTML:E,ticks:A}=t,k=my(t,sve),{id:j}=T,D=my(T,ove);return S.createElement(GN,ZE({},k,D,{ref:a,labelRef:o,scale:g,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:Ht("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:w}))},hve={allowDataOverflow:Ei.allowDataOverflow,allowDecimals:Ei.allowDecimals,allowDuplicatedCategory:Ei.allowDuplicatedCategory,hide:!1,mirror:Ei.mirror,orientation:Ei.orientation,padding:Ei.padding,reversed:Ei.reversed,scale:Ei.scale,tickCount:Ei.tickCount,type:Ei.type,width:Ei.width,yAxisId:0},mve=t=>{var e,n,r,i,a,o=Yr(t,hve);return S.createElement(S.Fragment,null,S.createElement(dve,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),S.createElement(fve,o))},pve=(t,e)=>{var{domain:n}=t,r=my(t,lve),{domain:i}=e,a=my(e,cve);return Xd(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Xd({domain:n},{domain:i}):!1},Ao=S.memo(mve,pve);Ao.displayName="YAxis";var u2={exports:{}},d2={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y3;function gve(){if(Y3)return d2;Y3=1;var t=nf();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,c=t.useDebugValue;return d2.useSyncExternalStoreWithSelector=function(d,f,m,g,v){var x=i(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=o(function(){function E(O){if(!A){if(A=!0,k=O,O=g(O),v!==void 0&&w.hasValue){var L=w.value;if(v(L,O))return j=L}return j=O}if(L=j,n(k,O))return L;var P=g(O);return v!==void 0&&v(L,P)?(k=O,L):(k=O,j=P)}var A=!1,k,j,D=m===void 0?null:m;return[function(){return E(f())},D===null?void 0:function(){return E(D())}]},[f,m,g,v]);var T=r(d,x[0],x[1]);return a(function(){w.hasValue=!0,w.value=T},[T]),c(T),T},d2}var X3;function vve(){return X3||(X3=1,u2.exports=gve()),u2.exports}vve();function yve(t){t()}function xve(){let t=null,e=null;return{clear(){t=null,e=null},notify(){yve(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Q3={notify(){},get:()=>[]};function bve(t,e){let n,r=Q3,i=0,a=!1;function o(T){m();const E=r.subscribe(T);let A=!1;return()=>{A||(A=!0,E(),g())}}function c(){r.notify()}function d(){w.onStateChange&&w.onStateChange()}function f(){return a}function m(){i++,n||(n=t.subscribe(d),r=xve())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Q3)}function v(){a||(a=!0,m())}function x(){a&&(a=!1,g())}const w={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:v,tryUnsubscribe:x,getListeners:()=>r};return w}var wve=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_ve=wve(),Eve=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Sve=Eve(),Tve=()=>_ve||Sve?S.useLayoutEffect:S.useEffect,Ave=Tve(),f2=Symbol.for("react-redux-context"),h2=typeof globalThis<"u"?globalThis:{};function Nve(){if(!S.createContext)return{};const t=h2[f2]??(h2[f2]=new Map);let e=t.get(S.createContext);return e||(e=S.createContext(null),t.set(S.createContext,e)),e}var kve=Nve();function jve(t){const{children:e,context:n,serverState:r,store:i}=t,a=S.useMemo(()=>{const d=bve(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),o=S.useMemo(()=>i.getState(),[i]);Ave(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,o]);const c=n||kve;return S.createElement(c.Provider,{value:a},e)}var Cve=jve,Ove=(t,e)=>e,KN=ue([Ove,At,NU,Gn,yV,Lo,gfe,qn],wfe),WN=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},c$=ca("mouseClick"),u$=dp();u$.startListening({actionCreator:c$,effect:(t,e)=>{var n=t.payload,r=KN(e.getState(),WN(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Tde({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var JE=ca("mouseMove"),d$=dp();d$.startListening({actionCreator:JE,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=_N(r,r.tooltip.settings.shared),a=KN(r,WN(n));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?e.dispatch(dV({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(uV()))}});var Z3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},f$=Vi({name:"rootProps",initialState:Z3,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Z3.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Ive=f$.reducer,{updateOptions:Rve}=f$.actions,h$=Vi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Pve}=h$.actions,Dve=h$.reducer,m$=ca("keyDown"),p$=ca("focus"),YN=dp();YN.startListening({actionCreator:m$,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(EN(i,_f(n))),c=Lo(n);if(a==="Enter"){var d=sy(n,"axis","hover",String(i.index));e.dispatch(qE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var f=gde(n),m=f==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,v=o+g*m;if(!(c==null||v>=c.length||v<0)){var x=sy(n,"axis","hover",String(v));e.dispatch(qE({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});YN.startListening({actionCreator:p$,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=sy(n,"axis","hover",String(a));e.dispatch(qE({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var ea=ca("externalEvent"),g$=dp();g$.startListening({actionCreator:ea,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:ofe(n),activeDataKey:_V(n),activeIndex:iu(n),activeLabel:wV(n),activeTooltipIndex:iu(n),isTooltipActive:lfe(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Mve=ue([wf],t=>t.tooltipItemPayloads),Lve=ue([Mve,_p,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,n);return o}}}),v$=ca("touchMove"),y$=dp();y$.startListening({actionCreator:v$,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=_N(r,r.tooltip.settings.shared);if(i==="axis"){var a=KN(r,WN({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(dV({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,c=n.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(o7),m=(o=d.getAttribute(l7))!==null&&o!==void 0?o:void 0,g=Lve(e.getState(),f,m);e.dispatch(cV({activeDataKey:m,activeIndex:f,activeCoordinate:g}))}}});var Uve=RL({brush:Jge,cartesianAxis:Mpe,chartData:Lfe,errorBars:Xpe,graphicalItems:epe,layout:Cae,legend:yse,options:Ife,polarAxis:gme,polarOptions:Dve,referenceElements:s0e,rootProps:Ive,tooltip:Ade}),Vve=function(e){return tae({reducer:Uve,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([u$.middleware,d$.middleware,YN.middleware,g$.middleware,y$.middleware]),devTools:pu.devToolsEnabled})};function x$(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=fa(),a=S.useRef(null);if(i)return n;a.current==null&&(a.current=Vve(e));var o=mA;return S.createElement(Cve,{context:o,store:a.current},n)}function b$(t){var{layout:e,width:n,height:r,margin:i}=t,a=Tn(),o=fa();return S.useEffect(()=>{o||(a(Nae(e)),a(kae({width:n,height:r})),a(Aae(i)))},[a,o,e,n,r,i]),null}function w$(t){var e=Tn();return S.useEffect(()=>{e(Rve(t))},[e,t]),null}var $ve=["children"];function Bve(t,e){if(t==null)return{};var n,r,i=zve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function py(){return py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},py.apply(null,arguments)}var Fve={width:"100%",height:"100%"},qve=S.forwardRef((t,e)=>{var n=u7(),r=d7(),i=p7();if(!Fd(n)||!Fd(r))return null;var{children:a,otherAttributes:o,title:c,desc:d}=t,f,m;return typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?m=o.role:m=i?"application":void 0,S.createElement(tL,py({},o,{title:c,desc:d,role:m,tabIndex:f,width:n,height:r,style:Fve,ref:e}),a)}),Hve=t=>{var{children:e}=t,n=$e(Lx);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return S.createElement(tL,{width:r,height:i,x:o,y:a},e)},J3=S.forwardRef((t,e)=>{var{children:n}=t,r=Bve(t,$ve),i=fa();return i?S.createElement(Hve,null,n):S.createElement(qve,py({ref:e},r),n)});function Gve(){var t=Tn(),[e,n]=S.useState(null),r=$e(ase);return S.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Li(a)&&a!==r&&t(jae(a))}},[e,t,r]),n}function eD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(n),!0).forEach(function(r){Wve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wve(t,e,n){return(e=Yve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yve(t){var e=Xve(t,"string");return typeof e=="symbol"?e:e+""}function Xve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qve=S.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:g,onMouseUp:v,onTouchEnd:x,onTouchMove:w,onTouchStart:T,style:E,width:A}=t,k=Tn(),[j,D]=S.useState(null),[O,L]=S.useState(null);Gfe();var P=Gve(),C=S.useCallback(J=>{P(J),typeof e=="function"&&e(J),D(J),L(J)},[P,e,D,L]),M=S.useCallback(J=>{k(c$(J)),k(ea({handler:a,reactEvent:J}))},[k,a]),z=S.useCallback(J=>{k(JE(J)),k(ea({handler:f,reactEvent:J}))},[k,f]),V=S.useCallback(J=>{k(uV()),k(ea({handler:m,reactEvent:J}))},[k,m]),H=S.useCallback(J=>{k(JE(J)),k(ea({handler:g,reactEvent:J}))},[k,g]),q=S.useCallback(()=>{k(p$())},[k]),G=S.useCallback(J=>{k(m$(J.key))},[k]),W=S.useCallback(J=>{k(ea({handler:o,reactEvent:J}))},[k,o]),U=S.useCallback(J=>{k(ea({handler:c,reactEvent:J}))},[k,c]),K=S.useCallback(J=>{k(ea({handler:d,reactEvent:J}))},[k,d]),ee=S.useCallback(J=>{k(ea({handler:v,reactEvent:J}))},[k,v]),Q=S.useCallback(J=>{k(ea({handler:T,reactEvent:J}))},[k,T]),$=S.useCallback(J=>{k(v$(J)),k(ea({handler:w,reactEvent:J}))},[k,w]),X=S.useCallback(J=>{k(ea({handler:x,reactEvent:J}))},[k,x]);return S.createElement(kV.Provider,{value:j},S.createElement(Xne.Provider,{value:O},S.createElement("div",{className:Ht("recharts-wrapper",r),style:Kve({position:"relative",cursor:"default",width:A,height:i},E),onClick:M,onContextMenu:W,onDoubleClick:U,onFocus:q,onKeyDown:G,onMouseDown:K,onMouseEnter:z,onMouseLeave:V,onMouseMove:H,onMouseUp:ee,onTouchEnd:X,onTouchMove:$,onTouchStart:Q,ref:C},n)))}),Zve=["children","className","width","height","style","compact","title","desc"];function Jve(t,e){if(t==null)return{};var n,r,i=eye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _$=S.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:a,style:o,compact:c,title:d,desc:f}=t,m=Jve(t,Zve),g=$l(m);return c?S.createElement(J3,{otherAttributes:g,title:d,desc:f},n):S.createElement(Qve,{className:r,style:o,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},S.createElement(J3,{otherAttributes:g,title:d,desc:f,ref:e},S.createElement(l0e,null,n)))}),tye=["width","height"];function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eS.apply(null,arguments)}function nye(t,e){if(t==null)return{};var n,r,i=rye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var iye={top:5,right:5,bottom:5,left:5},aye={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:iye,reverseStackOrder:!1,syncMethod:"index"},E$=S.forwardRef(function(e,n){var r,i=Yr(e.categoricalChartProps,aye),{width:a,height:o}=i,c=nye(i,tye);if(!Fd(a)||!Fd(o))return null;var{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,categoricalChartProps:v}=e,x={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,eventEmitter:void 0};return S.createElement(x$,{preloadedState:{options:x},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:d},S.createElement(i$,{chartData:v.data}),S.createElement(b$,{width:a,height:o,layout:i.layout,margin:i.margin}),S.createElement(w$,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),S.createElement(_$,eS({},c,{width:a,height:o,ref:n})))}),sye=["axis","item"],Ef=S.forwardRef((t,e)=>S.createElement(E$,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:sye,tooltipPayloadSearcher:ON,categoricalChartProps:t,ref:e}));function oye(t){var e=Tn();return S.useEffect(()=>{e(Pve(t))},[e,t]),null}var lye=["width","height","layout"];function tS(){return tS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tS.apply(null,arguments)}function cye(t,e){if(t==null)return{};var n,r,i=uye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dye={top:5,right:5,bottom:5,left:5},fye={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:dye,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},hye=S.forwardRef(function(e,n){var r,i=Yr(e.categoricalChartProps,fye),{width:a,height:o,layout:c}=i,d=cye(i,lye);if(!Fd(a)||!Fd(o))return null;var{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:v}=e,x={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:v,eventEmitter:void 0};return S.createElement(x$,{preloadedState:{options:x},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:f},S.createElement(i$,{chartData:i.data}),S.createElement(b$,{width:a,height:o,layout:c,margin:i.margin}),S.createElement(w$,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),S.createElement(oye,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),S.createElement(_$,tS({width:a,height:o},d,{ref:n})))}),mye=["item"],pye={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},S$=S.forwardRef((t,e)=>{var n=Yr(t,pye);return S.createElement(hye,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:mye,tooltipPayloadSearcher:ON,categoricalChartProps:n,ref:e})}),gye=["axis"],tD=S.forwardRef((t,e)=>S.createElement(E$,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gye,tooltipPayloadSearcher:ON,categoricalChartProps:t,ref:e}));function vye({chartData:t,showOpened:e=!0,showResolved:n=!0,timeRange:r="daily"}){const i=Object.keys(t).sort().map(a=>{var o,c,d;return{date:a,analyzed:((o=t[a])==null?void 0:o.analyzed)||0,nonAnalyzed:(((c=t[a])==null?void 0:c.total)||0)-(((d=t[a])==null?void 0:d.analyzed)||0)}});if(i.length===0){const a=new Date,o=[];for(let c=6;c>=0;c--){const d=new Date(a);d.setDate(a.getDate()-c),o.push({date:d.toISOString().split("T")[0],analyzed:0,nonAnalyzed:0})}return u.jsx("div",{className:"h-full focus:outline-none",children:u.jsx(Es,{width:"100%",height:"100%",className:"focus:outline-none",children:u.jsxs(tD,{data:o,margin:{left:-20,right:10,top:5,bottom:5},className:"text-stone-500 [&_.recharts-text]:text-xs focus:outline-none [&>*]:focus:outline-none",children:[u.jsx(XE,{vertical:!1,stroke:"currentColor",className:"text-stone-200"}),u.jsx(To,{axisLine:!1,tickLine:!1,tickMargin:12,dataKey:"date",angle:r==="weekly"||r==="quarterly"?-45:0,textAnchor:r==="weekly"||r==="quarterly"?"end":"middle",height:r==="weekly"||r==="quarterly"?80:60,tickFormatter:c=>{if(r==="hourly")return c.split(" ")[1]||c;if(r==="daily")return new Date(c+"T00:00:00").toLocaleDateString(void 0,{month:"short",day:"numeric"});if(r==="weekly")return new Date(c+"T00:00:00").toLocaleDateString(void 0,{month:"short",day:"numeric"});if(r==="quarterly")return new Date(c+"T00:00:00").toLocaleDateString(void 0,{month:"short",day:"numeric"});if(r==="alltime"){const[d,f]=c.split("-");return new Date(d,parseInt(f)-1,1).toLocaleDateString(void 0,{month:"short",year:"numeric"})}return c}}),u.jsx(Ao,{axisLine:!1,tickLine:!1,tickFormatter:c=>Number(c).toLocaleString()}),u.jsx(_s,{formatter:(c,d)=>{const f=d==="analyzed"?"Analyzed":"Non-Analyzed";return[Number(c).toLocaleString(),f]},labelFormatter:c=>{if(r==="hourly")return c;if(r==="alltime"){const[d,f]=c.split("-");return new Date(d,parseInt(f)-1,1).toLocaleDateString(void 0,{year:"numeric",month:"long"})}else return new Date(c+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})},contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"}}),u.jsx(Ra,{dataKey:"analyzed",name:"Analyzed",fill:"#ea580c",stackId:"a",radius:[0,0,0,0]}),u.jsx(Ra,{dataKey:"nonAnalyzed",name:"Non-Analyzed",fill:"#6366f1",stackId:"a",radius:[4,4,0,0]})]})})})}return u.jsx("div",{className:"h-full focus:outline-none",children:u.jsx(Es,{width:"100%",height:"100%",className:"focus:outline-none",children:u.jsxs(tD,{data:i,margin:{left:-20,right:10,top:5,bottom:5},className:"text-stone-500 [&_.recharts-text]:text-xs focus:outline-none [&>*]:focus:outline-none",children:[u.jsx(XE,{vertical:!1,stroke:"currentColor",className:"text-stone-200 dark:text-stone-800"}),u.jsx(To,{axisLine:!1,tickLine:!1,tickMargin:12,dataKey:"date",angle:r==="weekly"||r==="quarterly"?-45:0,textAnchor:r==="weekly"||r==="quarterly"?"end":"middle",height:r==="weekly"||r==="quarterly"?80:60,tickFormatter:a=>{if(r==="hourly")return a.split(" ")[1]||a;if(r==="daily")return new Date(a+"T00:00:00").toLocaleDateString(void 0,{month:"short",day:"numeric"});if(r==="weekly")return new Date(a+"T00:00:00").toLocaleDateString(void 0,{month:"short",day:"numeric"});if(r==="quarterly")return new Date(a+"T00:00:00").toLocaleDateString(void 0,{month:"short",day:"numeric"});if(r==="alltime"){const[o,c]=a.split("-");return new Date(o,parseInt(c)-1,1).toLocaleDateString(void 0,{month:"short",year:"numeric"})}return a}}),u.jsx(Ao,{axisLine:!1,tickLine:!1,tickFormatter:a=>Number(a).toLocaleString()}),u.jsx(_s,{formatter:(a,o)=>[Number(a).toLocaleString(),o==="Analyzed"?"Analyzed":"Non-Analyzed"],labelFormatter:a=>{if(r==="hourly")return a;if(r==="alltime"){const[o,c]=a.split("-");return new Date(o,parseInt(c)-1,1).toLocaleDateString(void 0,{year:"numeric",month:"long"})}else return new Date(a+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})},contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"}}),u.jsx(Ra,{dataKey:"analyzed",name:"Analyzed",fill:"#ea580c",stackId:"a",radius:[0,0,0,0]}),u.jsx(Ra,{dataKey:"nonAnalyzed",name:"Non-Analyzed",fill:"#f59e0b",stackId:"a",radius:[4,4,0,0]})]})})})}function yye({data:t=[]}){const[e,n]=S.useState(!1);S.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>n(document.documentElement.classList.contains("dark")||o.matches);c();const d=new MutationObserver(c);return d.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>d.disconnect()},[]);const r=(t==null?void 0:t.reduce((o,c)=>o+(c.value||c.count||0),0))||0,i=(t==null?void 0:t.map((o,c)=>({category:(o.name||o.category||"Unknown").replace(/_/g," "),count:o.value||o.count||0,percentage:r>0?((o.value||o.count||0)/r*100).toFixed(1):0,fill:"rgba(249, 116, 22, 1)"})))||[],a=({active:o,payload:c})=>{if(o&&c&&c.length){const d=c[0].payload;return u.jsxs("div",{className:"backdrop-blur-sm rounded-lg shadow-xl p-3",style:{backgroundColor:e?"#1c1917":"#f5f5f4",border:`1px solid ${e?"#44403c":"#e7e5e4"}`},children:[u.jsx("p",{className:"text-sm font-semibold capitalize",style:{color:e?"#fafaf9":"#1c1917"},children:d.category}),u.jsxs("p",{className:"text-xs mt-1",style:{color:"#f97316"},children:[d.count," conversations (",d.percentage,"%)"]})]})}return null};return!t||t.length===0?u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-stone-400 dark:text-stone-500 text-sm",children:"Not enough data yet"}),u.jsx("div",{className:"text-stone-300 dark:text-stone-600 text-xs mt-1",children:"Start getting conversations to see insights"})]})}):u.jsxs("div",{className:"h-full w-full relative",children:[u.jsx("style",{children:`
        .category-bar {
          transition: fill 0.2s ease;
        }
        .category-bar:hover {
          fill: rgba(209, 111, 40, 1) !important;
        }
      `}),u.jsx(Es,{width:"100%",height:"100%",children:u.jsxs(Ef,{data:i,layout:"vertical",margin:{left:0,right:60,top:5,bottom:5},children:[u.jsx(To,{type:"number",hide:!0}),u.jsx(Ao,{type:"category",dataKey:"category",hide:!0}),u.jsx(_s,{content:u.jsx(a,{}),cursor:!1}),u.jsxs(Ra,{dataKey:"count",radius:10,barSize:40,children:[i.map((o,c)=>u.jsx(ma,{fill:o.fill,className:"category-bar",style:{transition:"fill 0.2s ease"}},`cell-${c}`)),u.jsx(gs,{dataKey:"category",position:"insideLeft",offset:8,className:"category-label",style:{fill:e?"#ffffff":"#1c1917",fontSize:12,fontWeight:600,textTransform:"capitalize"}})]})]})}),u.jsx("div",{className:"absolute right-2 top-0 bottom-0 flex flex-col justify-around py-1",children:i.map((o,c)=>u.jsx("div",{className:"flex items-center h-[40px]",children:u.jsx("span",{className:"text-xs font-semibold",style:{color:e?"#f5f5f4":"#292524"},children:o.count})},c))})]})}const m2={1:{label:"Very Angry",icon:"😡",color:"rgba(249, 115, 22, 1)"},2:{label:"Angry",icon:"😠",color:"rgba(249, 115, 22, 1)"},3:{label:"Frustrated",icon:"😤",color:"rgba(249, 116, 22, 1)"},4:{label:"Disappointed",icon:"😞",color:"rgba(249, 115, 22, 1)"},5:{label:"Neutral",icon:"😐",color:"rgba(249, 115, 22, 1)"},6:{label:"Satisfied",icon:"🙂",color:"rgba(249, 115, 22, 1)"},7:{label:"Happy",icon:"😊",color:"rgba(249, 115, 22, 1)"},8:{label:"Very Happy",icon:"😄",color:"rgba(249, 115, 22, 1)"},9:{label:"Excited",icon:"😁",color:"rgba(249, 115, 22, 1)"},10:{label:"Delighted",icon:"🤩",color:"rgba(249, 115, 22, 1)"}};function xye({data:t=[]}){const[e,n]=S.useState(!1);S.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>n(document.documentElement.classList.contains("dark")||o.matches);c();const d=new MutationObserver(c);return d.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>d.disconnect()},[]);const r={1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0};t&&t.length>0&&t.forEach(o=>{const c=o.sentiment||o.sentimentScore||o.score,d=o.count||0;typeof c=="number"&&c>=1&&c<=10&&(r[c]=(r[c]||0)+d)});const i=Array.from({length:10},(o,c)=>{const d=c+1;return{score:d,label:m2[d].label,count:r[d]||0,icon:m2[d].icon,color:m2[d].color}}),a=({active:o,payload:c})=>{if(o&&c&&c.length){const d=c[0].payload;return u.jsx("div",{className:"backdrop-blur-sm rounded-lg shadow-xl p-3",style:{backgroundColor:e?"#1c1917":"#f5f5f4",border:`1px solid ${e?"#44403c":"#e7e5e4"}`},children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:d.icon}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm font-semibold",style:{color:e?"#fafaf9":"#1c1917"},children:["Score ",d.score,"/10"]}),u.jsxs("p",{className:"text-xs",style:{color:"#f97316"},children:[d.count," ",d.count===1?"conversation":"conversations"]})]})]})})}return null};return u.jsxs("div",{className:"h-full w-full relative",children:[u.jsx("style",{children:`
        .sentiment-bar {
          transition: fill 0.2s ease;
        }
        .sentiment-bar:hover {
          fill: rgba(249, 115, 22, 0.2) !important;
        }
      `}),u.jsx(Es,{width:"100%",height:"100%",children:u.jsxs(Ef,{data:i,layout:"vertical",margin:{left:0,right:60,top:5,bottom:5},children:[u.jsx(To,{type:"number",hide:!0}),u.jsx(Ao,{type:"category",dataKey:"score",hide:!0}),u.jsx(_s,{content:u.jsx(a,{}),cursor:!1}),u.jsxs(Ra,{dataKey:"count",radius:10,barSize:40,children:[i.map((o,c)=>u.jsx(ma,{fill:o.color,className:"sentiment-bar",style:{transition:"fill 0.2s ease"}},`cell-${c}`)),u.jsx(gs,{dataKey:"label",position:"insideLeft",offset:8,className:"sentiment-label",style:{fill:e?"#ffffff":"#1c1917",fontSize:12,fontWeight:600}})]})]})}),u.jsx("div",{className:"absolute right-2 top-0 bottom-0 flex flex-col justify-around py-1",children:i.map((o,c)=>u.jsx("div",{className:"flex items-center h-[40px]",children:u.jsx("span",{className:"text-xs font-semibold",style:{color:e?"#f5f5f4":"#292524"},children:o.count})},c))})]})}function bye({data:t=[]}){const[e,n]=S.useState(!1);S.useEffect(()=>{const d=window.matchMedia("(prefers-color-scheme: dark)"),f=()=>n(document.documentElement.classList.contains("dark")||d.matches);f();const m=new MutationObserver(f);return m.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>m.disconnect()},[]);const r={Low:0,Medium:0,High:0};t&&t.length>0&&t.forEach(d=>{const f=d.name||"Low";r[f]=d.value||0});const i=Object.entries(r).map(([d,f])=>({category:d,count:f})),a=i.reduce((d,f)=>d+f.count,0),o=i.map(d=>({category:d.category,count:d.count,percentage:a>0?(d.count/a*100).toFixed(1):0,fill:"rgba(249, 115, 22, 1)"})),c=({active:d,payload:f})=>{if(d&&f&&f.length){const m=f[0].payload;return u.jsxs("div",{className:"backdrop-blur-sm rounded-lg shadow-xl p-3",style:{backgroundColor:e?"#1c1917":"#f5f5f4",border:`1px solid ${e?"#44403c":"#e7e5e4"}`},children:[u.jsx("p",{className:"text-sm font-semibold capitalize",style:{color:e?"#fafaf9":"#1c1917"},children:m.category}),u.jsxs("p",{className:"text-xs mt-1",style:{color:"#f97316"},children:[m.count," conversations (",m.percentage,"%)"]})]})}return null};return u.jsxs("div",{className:"h-full w-full relative",children:[u.jsx("style",{children:`
        .category-bar {
          transition: fill 0.2s ease;
        }
        .category-bar:hover {
          fill: rgba(249, 115, 22, 0.2) !important;
        }
      `}),u.jsx(Es,{width:"100%",height:"100%",children:u.jsxs(Ef,{data:o,layout:"vertical",margin:{left:0,right:60,top:5,bottom:5},children:[u.jsx(To,{type:"number",hide:!0}),u.jsx(Ao,{type:"category",dataKey:"category",hide:!0}),u.jsx(_s,{content:u.jsx(c,{}),cursor:!1}),u.jsxs(Ra,{dataKey:"count",radius:10,barSize:40,children:[o.map((d,f)=>u.jsx(ma,{fill:d.fill,className:"category-bar",style:{transition:"fill 0.2s ease"}},`cell-${f}`)),u.jsx(gs,{dataKey:"category",position:"insideLeft",offset:8,className:"category-label",style:{fill:e?"#ffffff":"#1c1917",fontSize:12,fontWeight:600,textTransform:"capitalize"}})]})]})}),u.jsx("div",{className:"absolute right-2 top-0 bottom-0 flex flex-col justify-around py-1",children:o.map((d,f)=>u.jsx("div",{className:"flex items-center h-[40px]",children:u.jsx("span",{className:"text-xs font-semibold",style:{color:e?"#f5f5f4":"#292524"},children:d.count})},f))})]})}function wye({data:t=[]}){const[e,n]=S.useState(!1);S.useEffect(()=>{const c=window.matchMedia("(prefers-color-scheme: dark)"),d=()=>n(document.documentElement.classList.contains("dark")||c.matches);d();const f=new MutationObserver(d);return f.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>f.disconnect()},[]);const r=t.filter(c=>(c.value||c.count||0)>0).map(c=>{const d=c.name||c.topic||"Unknown";return{category:d.charAt(0).toUpperCase()+d.slice(1),count:c.value||c.count||0}}),i=r.reduce((c,d)=>c+d.count,0),a=r.map(c=>({category:c.category,count:c.count,percentage:i>0?(c.count/i*100).toFixed(1):0,fill:"rgba(249, 115, 22, 1)"})),o=({active:c,payload:d})=>{if(c&&d&&d.length){const f=d[0].payload;return u.jsxs("div",{className:"backdrop-blur-sm rounded-lg shadow-xl p-3",style:{backgroundColor:e?"#1c1917":"#f5f5f4",border:`1px solid ${e?"#44403c":"#e7e5e4"}`},children:[u.jsx("p",{className:"text-sm font-semibold capitalize",style:{color:e?"#fafaf9":"#1c1917"},children:f.category}),u.jsxs("p",{className:"text-xs mt-1",style:{color:"#f97316"},children:[f.count," conversations (",f.percentage,"%)"]})]})}return null};return i===0?u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-stone-400 dark:text-stone-500 text-sm mb-1",children:"No topic data yet"}),u.jsx("div",{className:"text-stone-300 dark:text-stone-600 text-xs",children:"Data will appear as conversations are analyzed"})]})}):u.jsxs("div",{className:"h-full w-full relative",children:[u.jsx("style",{children:`
        .category-bar {
          transition: fill 0.2s ease;
        }
        .category-bar:hover {
          fill: rgba(249, 115, 22, 0.2) !important;
        }
      `}),u.jsx(Es,{width:"100%",height:"100%",children:u.jsxs(Ef,{data:a,layout:"vertical",margin:{left:0,right:60,top:5,bottom:5},children:[u.jsx(To,{type:"number",hide:!0}),u.jsx(Ao,{type:"category",dataKey:"category",hide:!0}),u.jsx(_s,{content:u.jsx(o,{}),cursor:!1}),u.jsxs(Ra,{dataKey:"count",radius:10,barSize:40,children:[a.map((c,d)=>u.jsx(ma,{fill:c.fill,className:"category-bar",style:{transition:"fill 0.2s ease"}},`cell-${d}`)),u.jsx(gs,{dataKey:"category",position:"insideLeft",offset:8,className:"category-label",style:{fill:e?"#ffffff":"#1c1917",fontSize:12,fontWeight:600,textTransform:"capitalize"}})]})]})}),u.jsx("div",{className:"absolute right-2 top-0 bottom-0 flex flex-col justify-around py-1",children:a.map((c,d)=>u.jsx("div",{className:"flex items-center h-[40px]",children:u.jsx("span",{className:"text-xs font-semibold",style:{color:e?"#f5f5f4":"#292524"},children:c.count})},d))})]})}var p2={exports:{}},g2,nD;function _ye(){if(nD)return g2;nD=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return g2=t,g2}var v2,rD;function Eye(){if(rD)return v2;rD=1;var t=_ye();function e(){}function n(){}return n.resetWarningCache=e,v2=function(){function r(o,c,d,f,m,g){if(g!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},v2}var iD;function Sye(){return iD||(iD=1,p2.exports=Eye()()),p2.exports}var Tye=Sye();const Ae=hi(Tye);class Ir{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=e+a,c=Math.abs(e)<Math.abs(a)?e-(o-a):a-(o-e);c&&(n[r++]=c),e=o}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=e[--n];n>0&&(r=o,i=e[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}function*Aye(t){for(const e of t)yield*e}function T$(t){return Array.from(Aye(t))}function vd(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}var Ke=1e-6,gy=1e-12,ot=Math.PI,yn=ot/2,vy=ot/4,Hr=ot*2,Yt=180/ot,Ge=ot/180,pt=Math.abs,Sf=Math.atan,Gr=Math.atan2,Ue=Math.cos,T0=Math.ceil,A$=Math.exp,nS=Math.hypot,yy=Math.log,y2=Math.pow,Re=Math.sin,aa=Math.sign||function(t){return t>0?1:t<0?-1:0},ir=Math.sqrt,XN=Math.tan;function N$(t){return t>1?0:t<-1?ot:Math.acos(t)}function Kr(t){return t>1?yn:t<-1?-yn:Math.asin(t)}function aD(t){return(t=Re(t/2))*t}function un(){}function xy(t,e){t&&oD.hasOwnProperty(t.type)&&oD[t.type](t,e)}var sD={Feature:function(t,e){xy(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)xy(n[r].geometry,e)}},oD={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){rS(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)rS(n[r],e,0)},Polygon:function(t,e){lD(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)lD(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)xy(n[r],e)}};function rS(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function lD(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)rS(t[n],e,1);e.polygonEnd()}function Ca(t,e){t&&sD.hasOwnProperty(t.type)?sD[t.type](t,e):xy(t,e)}var by=new Ir,wy=new Ir,k$,j$,iS,aS,sS,Ss={point:un,lineStart:un,lineEnd:un,polygonStart:function(){by=new Ir,Ss.lineStart=Nye,Ss.lineEnd=kye},polygonEnd:function(){var t=+by;wy.add(t<0?Hr+t:t),this.lineStart=this.lineEnd=this.point=un},sphere:function(){wy.add(Hr)}};function Nye(){Ss.point=jye}function kye(){C$(k$,j$)}function jye(t,e){Ss.point=C$,k$=t,j$=e,t*=Ge,e*=Ge,iS=t,aS=Ue(e=e/2+vy),sS=Re(e)}function C$(t,e){t*=Ge,e*=Ge,e=e/2+vy;var n=t-iS,r=n>=0?1:-1,i=r*n,a=Ue(e),o=Re(e),c=sS*o,d=aS*a+c*Ue(i),f=c*r*Re(i);by.add(Gr(f,d)),iS=t,aS=a,sS=o}function Cye(t){return wy=new Ir,Ca(t,Ss),wy*2}function _y(t){return[Gr(t[1],t[0]),Kr(t[2])]}function su(t){var e=t[0],n=t[1],r=Ue(n);return[r*Ue(e),r*Re(e),Re(n)]}function A0(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Qd(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function x2(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function N0(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ey(t){var e=ir(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var cn,ai,gn,Ai,jc,O$,I$,kd,um,ml,No,Js={point:oS,lineStart:cD,lineEnd:uD,polygonStart:function(){Js.point=P$,Js.lineStart=Oye,Js.lineEnd=Iye,um=new Ir,Ss.polygonStart()},polygonEnd:function(){Ss.polygonEnd(),Js.point=oS,Js.lineStart=cD,Js.lineEnd=uD,by<0?(cn=-(gn=180),ai=-(Ai=90)):um>Ke?Ai=90:um<-1e-6&&(ai=-90),No[0]=cn,No[1]=gn},sphere:function(){cn=-(gn=180),ai=-(Ai=90)}};function oS(t,e){ml.push(No=[cn=t,gn=t]),e<ai&&(ai=e),e>Ai&&(Ai=e)}function R$(t,e){var n=su([t*Ge,e*Ge]);if(kd){var r=Qd(kd,n),i=[r[1],-r[0],0],a=Qd(i,r);Ey(a),a=_y(a);var o=t-jc,c=o>0?1:-1,d=a[0]*Yt*c,f,m=pt(o)>180;m^(c*jc<d&&d<c*t)?(f=a[1]*Yt,f>Ai&&(Ai=f)):(d=(d+360)%360-180,m^(c*jc<d&&d<c*t)?(f=-a[1]*Yt,f<ai&&(ai=f)):(e<ai&&(ai=e),e>Ai&&(Ai=e))),m?t<jc?Si(cn,t)>Si(cn,gn)&&(gn=t):Si(t,gn)>Si(cn,gn)&&(cn=t):gn>=cn?(t<cn&&(cn=t),t>gn&&(gn=t)):t>jc?Si(cn,t)>Si(cn,gn)&&(gn=t):Si(t,gn)>Si(cn,gn)&&(cn=t)}else ml.push(No=[cn=t,gn=t]);e<ai&&(ai=e),e>Ai&&(Ai=e),kd=n,jc=t}function cD(){Js.point=R$}function uD(){No[0]=cn,No[1]=gn,Js.point=oS,kd=null}function P$(t,e){if(kd){var n=t-jc;um.add(pt(n)>180?n+(n>0?360:-360):n)}else O$=t,I$=e;Ss.point(t,e),R$(t,e)}function Oye(){Ss.lineStart()}function Iye(){P$(O$,I$),Ss.lineEnd(),pt(um)>Ke&&(cn=-(gn=180)),No[0]=cn,No[1]=gn,kd=null}function Si(t,e){return(e-=t)<0?e+360:e}function Rye(t,e){return t[0]-e[0]}function dD(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Pye(t){var e,n,r,i,a,o,c;if(Ai=gn=-(cn=ai=1/0),ml=[],Ca(t,Js),n=ml.length){for(ml.sort(Rye),e=1,r=ml[0],a=[r];e<n;++e)i=ml[e],dD(r,i[0])||dD(r,i[1])?(Si(r[0],i[1])>Si(r[0],r[1])&&(r[1]=i[1]),Si(i[0],r[1])>Si(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,n=a.length-1,e=0,r=a[n];e<=n;r=i,++e)i=a[e],(c=Si(r[1],i[0]))>o&&(o=c,cn=i[0],gn=r[1])}return ml=No=null,cn===1/0||ai===1/0?[[NaN,NaN],[NaN,NaN]]:[[cn,ai],[gn,Ai]]}var Kh,Sy,Ty,Ay,Ny,ky,jy,Cy,lS,cS,uS,D$,M$,$r,Br,zr,Pa={sphere:un,point:QN,lineStart:fD,lineEnd:hD,polygonStart:function(){Pa.lineStart=Lye,Pa.lineEnd=Uye},polygonEnd:function(){Pa.lineStart=fD,Pa.lineEnd=hD}};function QN(t,e){t*=Ge,e*=Ge;var n=Ue(e);Tp(n*Ue(t),n*Re(t),Re(e))}function Tp(t,e,n){++Kh,Ty+=(t-Ty)/Kh,Ay+=(e-Ay)/Kh,Ny+=(n-Ny)/Kh}function fD(){Pa.point=Dye}function Dye(t,e){t*=Ge,e*=Ge;var n=Ue(e);$r=n*Ue(t),Br=n*Re(t),zr=Re(e),Pa.point=Mye,Tp($r,Br,zr)}function Mye(t,e){t*=Ge,e*=Ge;var n=Ue(e),r=n*Ue(t),i=n*Re(t),a=Re(e),o=Gr(ir((o=Br*a-zr*i)*o+(o=zr*r-$r*a)*o+(o=$r*i-Br*r)*o),$r*r+Br*i+zr*a);Sy+=o,ky+=o*($r+($r=r)),jy+=o*(Br+(Br=i)),Cy+=o*(zr+(zr=a)),Tp($r,Br,zr)}function hD(){Pa.point=QN}function Lye(){Pa.point=Vye}function Uye(){L$(D$,M$),Pa.point=QN}function Vye(t,e){D$=t,M$=e,t*=Ge,e*=Ge,Pa.point=L$;var n=Ue(e);$r=n*Ue(t),Br=n*Re(t),zr=Re(e),Tp($r,Br,zr)}function L$(t,e){t*=Ge,e*=Ge;var n=Ue(e),r=n*Ue(t),i=n*Re(t),a=Re(e),o=Br*a-zr*i,c=zr*r-$r*a,d=$r*i-Br*r,f=nS(o,c,d),m=Kr(f),g=f&&-m/f;lS.add(g*o),cS.add(g*c),uS.add(g*d),Sy+=m,ky+=m*($r+($r=r)),jy+=m*(Br+(Br=i)),Cy+=m*(zr+(zr=a)),Tp($r,Br,zr)}function $ye(t){Kh=Sy=Ty=Ay=Ny=ky=jy=Cy=0,lS=new Ir,cS=new Ir,uS=new Ir,Ca(t,Pa);var e=+lS,n=+cS,r=+uS,i=nS(e,n,r);return i<gy&&(e=ky,n=jy,r=Cy,Sy<Ke&&(e=Ty,n=Ay,r=Ny),i=nS(e,n,r),i<gy)?[NaN,NaN]:[Gr(n,e)*Yt,Kr(r/i)*Yt]}function ud(t){return function(){return t}}function dS(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function fS(t,e){return[pt(t)>ot?t+Math.round(-t/Hr)*Hr:t,e]}fS.invert=fS;function ZN(t,e,n){return(t%=Hr)?e||n?dS(pD(t),gD(e,n)):pD(t):e||n?gD(e,n):fS}function mD(t){return function(e,n){return e+=t,[e>ot?e-Hr:e<-ot?e+Hr:e,n]}}function pD(t){var e=mD(t);return e.invert=mD(-t),e}function gD(t,e){var n=Ue(t),r=Re(t),i=Ue(e),a=Re(e);function o(c,d){var f=Ue(d),m=Ue(c)*f,g=Re(c)*f,v=Re(d),x=v*n+m*r;return[Gr(g*i-x*a,m*n-v*r),Kr(x*i+g*a)]}return o.invert=function(c,d){var f=Ue(d),m=Ue(c)*f,g=Re(c)*f,v=Re(d),x=v*i-g*a;return[Gr(g*i+v*a,m*n+x*r),Kr(x*n-m*r)]},o}function U$(t){t=ZN(t[0]*Ge,t[1]*Ge,t.length>2?t[2]*Ge:0);function e(n){return n=t(n[0]*Ge,n[1]*Ge),n[0]*=Yt,n[1]*=Yt,n}return e.invert=function(n){return n=t.invert(n[0]*Ge,n[1]*Ge),n[0]*=Yt,n[1]*=Yt,n},e}function V$(t,e,n,r,i,a){if(n){var o=Ue(e),c=Re(e),d=r*n;i==null?(i=e+r*Hr,a=e-d/2):(i=vD(o,i),a=vD(o,a),(r>0?i<a:i>a)&&(i+=r*Hr));for(var f,m=i;r>0?m>a:m<a;m-=d)f=_y([o,-c*Ue(m),-c*Re(m)]),t.point(f[0],f[1])}}function vD(t,e){e=su(e),e[0]-=t,Ey(e);var n=N$(-e[1]);return((-e[2]<0?-n:n)+Hr-Ke)%Hr}function Bye(){var t=ud([0,0]),e=ud(90),n=ud(6),r,i,a={point:o};function o(d,f){r.push(d=i(d,f)),d[0]*=Yt,d[1]*=Yt}function c(){var d=t.apply(this,arguments),f=e.apply(this,arguments)*Ge,m=n.apply(this,arguments)*Ge;return r=[],i=ZN(-d[0]*Ge,-d[1]*Ge,0).invert,V$(a,f,m,1),d={type:"Polygon",coordinates:[r]},r=i=null,d}return c.center=function(d){return arguments.length?(t=typeof d=="function"?d:ud([+d[0],+d[1]]),c):t},c.radius=function(d){return arguments.length?(e=typeof d=="function"?d:ud(+d),c):e},c.precision=function(d){return arguments.length?(n=typeof d=="function"?d:ud(+d),c):n},c}function $$(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:un,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Q0(t,e){return pt(t[0]-e[0])<Ke&&pt(t[1]-e[1])<Ke}function k0(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function B$(t,e,n,r,i){var a=[],o=[],c,d;if(t.forEach(function(w){if(!((T=w.length-1)<=0)){var T,E=w[0],A=w[T],k;if(Q0(E,A)){if(!E[2]&&!A[2]){for(i.lineStart(),c=0;c<T;++c)i.point((E=w[c])[0],E[1]);i.lineEnd();return}A[0]+=2*Ke}a.push(k=new k0(E,w,null,!0)),o.push(k.o=new k0(E,null,k,!1)),a.push(k=new k0(A,w,null,!1)),o.push(k.o=new k0(A,null,k,!0))}}),!!a.length){for(o.sort(e),yD(a),yD(o),c=0,d=o.length;c<d;++c)o[c].e=n=!n;for(var f=a[0],m,g;;){for(var v=f,x=!0;v.v;)if((v=v.n)===f)return;m=v.z,i.lineStart();do{if(v.v=v.o.v=!0,v.e){if(x)for(c=0,d=m.length;c<d;++c)i.point((g=m[c])[0],g[1]);else r(v.x,v.n.x,1,i);v=v.n}else{if(x)for(m=v.p.z,c=m.length-1;c>=0;--c)i.point((g=m[c])[0],g[1]);else r(v.x,v.p.x,-1,i);v=v.p}v=v.o,m=v.z,x=!x}while(!v.v);i.lineEnd()}}}function yD(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function b2(t){return pt(t[0])<=ot?t[0]:aa(t[0])*((pt(t[0])+ot)%Hr-ot)}function z$(t,e){var n=b2(e),r=e[1],i=Re(r),a=[Re(n),-Ue(n),0],o=0,c=0,d=new Ir;i===1?r=yn+Ke:i===-1&&(r=-yn-Ke);for(var f=0,m=t.length;f<m;++f)if(v=(g=t[f]).length)for(var g,v,x=g[v-1],w=b2(x),T=x[1]/2+vy,E=Re(T),A=Ue(T),k=0;k<v;++k,w=D,E=L,A=P,x=j){var j=g[k],D=b2(j),O=j[1]/2+vy,L=Re(O),P=Ue(O),C=D-w,M=C>=0?1:-1,z=M*C,V=z>ot,H=E*L;if(d.add(Gr(H*M*Re(z),A*P+H*Ue(z))),o+=V?C+M*Hr:C,V^w>=n^D>=n){var q=Qd(su(x),su(j));Ey(q);var G=Qd(a,q);Ey(G);var W=(V^C>=0?-1:1)*Kr(G[2]);(r>W||r===W&&(q[0]||q[1]))&&(c+=V^C>=0?1:-1)}}return(o<-1e-6||o<Ke&&d<-1e-12)^c&1}function F$(t,e,n,r){return function(i){var a=e(i),o=$$(),c=e(o),d=!1,f,m,g,v={point:x,lineStart:T,lineEnd:E,polygonStart:function(){v.point=A,v.lineStart=k,v.lineEnd=j,m=[],f=[]},polygonEnd:function(){v.point=x,v.lineStart=T,v.lineEnd=E,m=T$(m);var D=z$(f,r);m.length?(d||(i.polygonStart(),d=!0),B$(m,Fye,D,n,i)):D&&(d||(i.polygonStart(),d=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),d&&(i.polygonEnd(),d=!1),m=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function x(D,O){t(D,O)&&i.point(D,O)}function w(D,O){a.point(D,O)}function T(){v.point=w,a.lineStart()}function E(){v.point=x,a.lineEnd()}function A(D,O){g.push([D,O]),c.point(D,O)}function k(){c.lineStart(),g=[]}function j(){A(g[0][0],g[0][1]),c.lineEnd();var D=c.clean(),O=o.result(),L,P=O.length,C,M,z;if(g.pop(),f.push(g),g=null,!!P){if(D&1){if(M=O[0],(C=M.length-1)>0){for(d||(i.polygonStart(),d=!0),i.lineStart(),L=0;L<C;++L)i.point((z=M[L])[0],z[1]);i.lineEnd()}return}P>1&&D&2&&O.push(O.pop().concat(O.shift())),m.push(O.filter(zye))}}return v}}function zye(t){return t.length>1}function Fye(t,e){return((t=t.x)[0]<0?t[1]-yn-Ke:yn-t[1])-((e=e.x)[0]<0?e[1]-yn-Ke:yn-e[1])}const hS=F$(function(){return!0},qye,Gye,[-ot,-yn]);function qye(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var c=a>0?ot:-ot,d=pt(a-e);pt(d-ot)<Ke?(t.point(e,n=(n+o)/2>0?yn:-yn),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(c,n),t.point(a,n),i=0):r!==c&&d>=ot&&(pt(e-r)<Ke&&(e-=r*Ke),pt(a-c)<Ke&&(a-=c*Ke),n=Hye(e,n,a,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(c,n),i=0),t.point(e=a,n=o),r=c},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function Hye(t,e,n,r){var i,a,o=Re(t-n);return pt(o)>Ke?Sf((Re(e)*(a=Ue(r))*Re(n)-Re(r)*(i=Ue(e))*Re(t))/(i*a*o)):(e+r)/2}function Gye(t,e,n,r){var i;if(t==null)i=n*yn,r.point(-ot,i),r.point(0,i),r.point(ot,i),r.point(ot,0),r.point(ot,-i),r.point(0,-i),r.point(-ot,-i),r.point(-ot,0),r.point(-ot,i);else if(pt(t[0]-e[0])>Ke){var a=t[0]<e[0]?ot:-ot;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function q$(t){var e=Ue(t),n=6*Ge,r=e>0,i=pt(e)>Ke;function a(m,g,v,x){V$(x,t,n,v,m,g)}function o(m,g){return Ue(m)*Ue(g)>e}function c(m){var g,v,x,w,T;return{lineStart:function(){w=x=!1,T=1},point:function(E,A){var k=[E,A],j,D=o(E,A),O=r?D?0:f(E,A):D?f(E+(E<0?ot:-ot),A):0;if(!g&&(w=x=D)&&m.lineStart(),D!==x&&(j=d(g,k),(!j||Q0(g,j)||Q0(k,j))&&(k[2]=1)),D!==x)T=0,D?(m.lineStart(),j=d(k,g),m.point(j[0],j[1])):(j=d(g,k),m.point(j[0],j[1],2),m.lineEnd()),g=j;else if(i&&g&&r^D){var L;!(O&v)&&(L=d(k,g,!0))&&(T=0,r?(m.lineStart(),m.point(L[0][0],L[0][1]),m.point(L[1][0],L[1][1]),m.lineEnd()):(m.point(L[1][0],L[1][1]),m.lineEnd(),m.lineStart(),m.point(L[0][0],L[0][1],3)))}D&&(!g||!Q0(g,k))&&m.point(k[0],k[1]),g=k,x=D,v=O},lineEnd:function(){x&&m.lineEnd(),g=null},clean:function(){return T|(w&&x)<<1}}}function d(m,g,v){var x=su(m),w=su(g),T=[1,0,0],E=Qd(x,w),A=A0(E,E),k=E[0],j=A-k*k;if(!j)return!v&&m;var D=e*A/j,O=-e*k/j,L=Qd(T,E),P=N0(T,D),C=N0(E,O);x2(P,C);var M=L,z=A0(P,M),V=A0(M,M),H=z*z-V*(A0(P,P)-1);if(!(H<0)){var q=ir(H),G=N0(M,(-z-q)/V);if(x2(G,P),G=_y(G),!v)return G;var W=m[0],U=g[0],K=m[1],ee=g[1],Q;U<W&&(Q=W,W=U,U=Q);var $=U-W,X=pt($-ot)<Ke,J=X||$<Ke;if(!X&&ee<K&&(Q=K,K=ee,ee=Q),J?X?K+ee>0^G[1]<(pt(G[0]-W)<Ke?K:ee):K<=G[1]&&G[1]<=ee:$>ot^(W<=G[0]&&G[0]<=U)){var ce=N0(M,(-z+q)/V);return x2(ce,P),[G,_y(ce)]}}}function f(m,g){var v=r?t:ot-t,x=0;return m<-v?x|=1:m>v&&(x|=2),g<-v?x|=4:g>v&&(x|=8),x}return F$(o,c,a,r?[0,-t]:[-ot,t-ot])}function Kye(t,e,n,r,i,a){var o=t[0],c=t[1],d=e[0],f=e[1],m=0,g=1,v=d-o,x=f-c,w;if(w=n-o,!(!v&&w>0)){if(w/=v,v<0){if(w<m)return;w<g&&(g=w)}else if(v>0){if(w>g)return;w>m&&(m=w)}if(w=i-o,!(!v&&w<0)){if(w/=v,v<0){if(w>g)return;w>m&&(m=w)}else if(v>0){if(w<m)return;w<g&&(g=w)}if(w=r-c,!(!x&&w>0)){if(w/=x,x<0){if(w<m)return;w<g&&(g=w)}else if(x>0){if(w>g)return;w>m&&(m=w)}if(w=a-c,!(!x&&w<0)){if(w/=x,x<0){if(w>g)return;w>m&&(m=w)}else if(x>0){if(w<m)return;w<g&&(g=w)}return m>0&&(t[0]=o+m*v,t[1]=c+m*x),g<1&&(e[0]=o+g*v,e[1]=c+g*x),!0}}}}}var j0=1e9,C0=-1e9;function nb(t,e,n,r){function i(f,m){return t<=f&&f<=n&&e<=m&&m<=r}function a(f,m,g,v){var x=0,w=0;if(f==null||(x=o(f,g))!==(w=o(m,g))||d(f,m)<0^g>0)do v.point(x===0||x===3?t:n,x>1?r:e);while((x=(x+g+4)%4)!==w);else v.point(m[0],m[1])}function o(f,m){return pt(f[0]-t)<Ke?m>0?0:3:pt(f[0]-n)<Ke?m>0?2:1:pt(f[1]-e)<Ke?m>0?1:0:m>0?3:2}function c(f,m){return d(f.x,m.x)}function d(f,m){var g=o(f,1),v=o(m,1);return g!==v?g-v:g===0?m[1]-f[1]:g===1?f[0]-m[0]:g===2?f[1]-m[1]:m[0]-f[0]}return function(f){var m=f,g=$$(),v,x,w,T,E,A,k,j,D,O,L,P={point:C,lineStart:H,lineEnd:q,polygonStart:z,polygonEnd:V};function C(W,U){i(W,U)&&m.point(W,U)}function M(){for(var W=0,U=0,K=x.length;U<K;++U)for(var ee=x[U],Q=1,$=ee.length,X=ee[0],J,ce,xe=X[0],be=X[1];Q<$;++Q)J=xe,ce=be,X=ee[Q],xe=X[0],be=X[1],ce<=r?be>r&&(xe-J)*(r-ce)>(be-ce)*(t-J)&&++W:be<=r&&(xe-J)*(r-ce)<(be-ce)*(t-J)&&--W;return W}function z(){m=g,v=[],x=[],L=!0}function V(){var W=M(),U=L&&W,K=(v=T$(v)).length;(U||K)&&(f.polygonStart(),U&&(f.lineStart(),a(null,null,1,f),f.lineEnd()),K&&B$(v,c,W,a,f),f.polygonEnd()),m=f,v=x=w=null}function H(){P.point=G,x&&x.push(w=[]),O=!0,D=!1,k=j=NaN}function q(){v&&(G(T,E),A&&D&&g.rejoin(),v.push(g.result())),P.point=C,D&&m.lineEnd()}function G(W,U){var K=i(W,U);if(x&&w.push([W,U]),O)T=W,E=U,A=K,O=!1,K&&(m.lineStart(),m.point(W,U));else if(K&&D)m.point(W,U);else{var ee=[k=Math.max(C0,Math.min(j0,k)),j=Math.max(C0,Math.min(j0,j))],Q=[W=Math.max(C0,Math.min(j0,W)),U=Math.max(C0,Math.min(j0,U))];Kye(ee,Q,t,e,n,r)?(D||(m.lineStart(),m.point(ee[0],ee[1])),m.point(Q[0],Q[1]),K||m.lineEnd(),L=!1):K&&(m.lineStart(),m.point(W,U),L=!1)}k=W,j=U,D=K}return P}}function Wye(){var t=0,e=0,n=960,r=500,i,a,o;return o={stream:function(c){return i&&a===c?i:i=nb(t,e,n,r)(a=c)},extent:function(c){return arguments.length?(t=+c[0][0],e=+c[0][1],n=+c[1][0],r=+c[1][1],i=a=null,o):[[t,e],[n,r]]}}}var mS,pS,Z0,J0,Zd={sphere:un,point:un,lineStart:Yye,lineEnd:un,polygonStart:un,polygonEnd:un};function Yye(){Zd.point=Qye,Zd.lineEnd=Xye}function Xye(){Zd.point=Zd.lineEnd=un}function Qye(t,e){t*=Ge,e*=Ge,pS=t,Z0=Re(e),J0=Ue(e),Zd.point=Zye}function Zye(t,e){t*=Ge,e*=Ge;var n=Re(e),r=Ue(e),i=pt(t-pS),a=Ue(i),o=Re(i),c=r*o,d=J0*n-Z0*r*a,f=Z0*n+J0*r*a;mS.add(Gr(ir(c*c+d*d),f)),pS=t,Z0=n,J0=r}function H$(t){return mS=new Ir,Ca(t,Zd),+mS}var gS=[null,null],Jye={type:"LineString",coordinates:gS};function Oy(t,e){return gS[0]=t,gS[1]=e,H$(Jye)}var xD={Feature:function(t,e){return Iy(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Iy(n[r].geometry,e))return!0;return!1}},bD={Sphere:function(){return!0},Point:function(t,e){return wD(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(wD(n[r],e))return!0;return!1},LineString:function(t,e){return _D(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(_D(n[r],e))return!0;return!1},Polygon:function(t,e){return ED(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(ED(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Iy(n[r],e))return!0;return!1}};function Iy(t,e){return t&&bD.hasOwnProperty(t.type)?bD[t.type](t,e):!1}function wD(t,e){return Oy(t,e)===0}function _D(t,e){for(var n,r,i,a=0,o=t.length;a<o;a++){if(r=Oy(t[a],e),r===0||a>0&&(i=Oy(t[a],t[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<gy*i))return!0;n=r}return!1}function ED(t,e){return!!z$(t.map(exe),G$(e))}function exe(t){return t=t.map(G$),t.pop(),t}function G$(t){return[t[0]*Ge,t[1]*Ge]}function txe(t,e){return(t&&xD.hasOwnProperty(t.type)?xD[t.type]:Iy)(t,e)}function SD(t,e,n){var r=vd(t,e-Ke,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function TD(t,e,n){var r=vd(t,e-Ke,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function JN(){var t,e,n,r,i,a,o,c,d=10,f=d,m=90,g=360,v,x,w,T,E=2.5;function A(){return{type:"MultiLineString",coordinates:k()}}function k(){return vd(T0(r/m)*m,n,m).map(w).concat(vd(T0(c/g)*g,o,g).map(T)).concat(vd(T0(e/d)*d,t,d).filter(function(j){return pt(j%m)>Ke}).map(v)).concat(vd(T0(a/f)*f,i,f).filter(function(j){return pt(j%g)>Ke}).map(x))}return A.lines=function(){return k().map(function(j){return{type:"LineString",coordinates:j}})},A.outline=function(){return{type:"Polygon",coordinates:[w(r).concat(T(o).slice(1),w(n).reverse().slice(1),T(c).reverse().slice(1))]}},A.extent=function(j){return arguments.length?A.extentMajor(j).extentMinor(j):A.extentMinor()},A.extentMajor=function(j){return arguments.length?(r=+j[0][0],n=+j[1][0],c=+j[0][1],o=+j[1][1],r>n&&(j=r,r=n,n=j),c>o&&(j=c,c=o,o=j),A.precision(E)):[[r,c],[n,o]]},A.extentMinor=function(j){return arguments.length?(e=+j[0][0],t=+j[1][0],a=+j[0][1],i=+j[1][1],e>t&&(j=e,e=t,t=j),a>i&&(j=a,a=i,i=j),A.precision(E)):[[e,a],[t,i]]},A.step=function(j){return arguments.length?A.stepMajor(j).stepMinor(j):A.stepMinor()},A.stepMajor=function(j){return arguments.length?(m=+j[0],g=+j[1],A):[m,g]},A.stepMinor=function(j){return arguments.length?(d=+j[0],f=+j[1],A):[d,f]},A.precision=function(j){return arguments.length?(E=+j,v=SD(a,i,90),x=TD(e,t,E),w=SD(c,o,90),T=TD(r,n,E),A):E},A.extentMajor([[-180,-90+Ke],[180,90-Ke]]).extentMinor([[-180,-80-Ke],[180,80+Ke]])}function nxe(){return JN()()}function rxe(t,e){var n=t[0]*Ge,r=t[1]*Ge,i=e[0]*Ge,a=e[1]*Ge,o=Ue(r),c=Re(r),d=Ue(a),f=Re(a),m=o*Ue(n),g=o*Re(n),v=d*Ue(i),x=d*Re(i),w=2*Kr(ir(aD(a-r)+o*d*aD(i-n))),T=Re(w),E=w?function(A){var k=Re(A*=w)/T,j=Re(w-A)/T,D=j*m+k*v,O=j*g+k*x,L=j*c+k*f;return[Gr(O,D)*Yt,Gr(L,ir(D*D+O*O))*Yt]}:function(){return[n*Yt,r*Yt]};return E.distance=w,E}const Um=t=>t;var w2=new Ir,vS=new Ir,K$,W$,yS,xS,ro={point:un,lineStart:un,lineEnd:un,polygonStart:function(){ro.lineStart=ixe,ro.lineEnd=sxe},polygonEnd:function(){ro.lineStart=ro.lineEnd=ro.point=un,w2.add(pt(vS)),vS=new Ir},result:function(){var t=w2/2;return w2=new Ir,t}};function ixe(){ro.point=axe}function axe(t,e){ro.point=Y$,K$=yS=t,W$=xS=e}function Y$(t,e){vS.add(xS*t-yS*e),yS=t,xS=e}function sxe(){Y$(K$,W$)}var Jd=1/0,Ry=Jd,Vm=-Jd,Py=Vm,Dy={point:oxe,lineStart:un,lineEnd:un,polygonStart:un,polygonEnd:un,result:function(){var t=[[Jd,Ry],[Vm,Py]];return Vm=Py=-(Ry=Jd=1/0),t}};function oxe(t,e){t<Jd&&(Jd=t),t>Vm&&(Vm=t),e<Ry&&(Ry=e),e>Py&&(Py=e)}var bS=0,wS=0,Wh=0,My=0,Ly=0,yd=0,_S=0,ES=0,Yh=0,X$,Q$,os,ls,ra={point:ou,lineStart:AD,lineEnd:ND,polygonStart:function(){ra.lineStart=uxe,ra.lineEnd=dxe},polygonEnd:function(){ra.point=ou,ra.lineStart=AD,ra.lineEnd=ND},result:function(){var t=Yh?[_S/Yh,ES/Yh]:yd?[My/yd,Ly/yd]:Wh?[bS/Wh,wS/Wh]:[NaN,NaN];return bS=wS=Wh=My=Ly=yd=_S=ES=Yh=0,t}};function ou(t,e){bS+=t,wS+=e,++Wh}function AD(){ra.point=lxe}function lxe(t,e){ra.point=cxe,ou(os=t,ls=e)}function cxe(t,e){var n=t-os,r=e-ls,i=ir(n*n+r*r);My+=i*(os+t)/2,Ly+=i*(ls+e)/2,yd+=i,ou(os=t,ls=e)}function ND(){ra.point=ou}function uxe(){ra.point=fxe}function dxe(){Z$(X$,Q$)}function fxe(t,e){ra.point=Z$,ou(X$=os=t,Q$=ls=e)}function Z$(t,e){var n=t-os,r=e-ls,i=ir(n*n+r*r);My+=i*(os+t)/2,Ly+=i*(ls+e)/2,yd+=i,i=ls*t-os*e,_S+=i*(os+t),ES+=i*(ls+e),Yh+=i*3,ou(os=t,ls=e)}function J$(t){this._context=t}J$.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Hr);break}}},result:un};var SS=new Ir,_2,eB,tB,Xh,Qh,$m={point:un,lineStart:function(){$m.point=hxe},lineEnd:function(){_2&&nB(eB,tB),$m.point=un},polygonStart:function(){_2=!0},polygonEnd:function(){_2=null},result:function(){var t=+SS;return SS=new Ir,t}};function hxe(t,e){$m.point=nB,eB=Xh=t,tB=Qh=e}function nB(t,e){Xh-=t,Qh-=e,SS.add(ir(Xh*Xh+Qh*Qh)),Xh=t,Qh=e}function rB(){this._string=[]}rB.prototype={_radius:4.5,_circle:kD(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=kD(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function kD(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function iB(t,e){var n=4.5,r,i;function a(o){return o&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),Ca(o,r(i))),i.result()}return a.area=function(o){return Ca(o,r(ro)),ro.result()},a.measure=function(o){return Ca(o,r($m)),$m.result()},a.bounds=function(o){return Ca(o,r(Dy)),Dy.result()},a.centroid=function(o){return Ca(o,r(ra)),ra.result()},a.projection=function(o){return arguments.length?(r=o==null?(t=null,Um):(t=o).stream,a):t},a.context=function(o){return arguments.length?(i=o==null?(e=null,new rB):new J$(e=o),typeof n!="function"&&i.pointRadius(n),a):e},a.pointRadius=function(o){return arguments.length?(n=typeof o=="function"?o:(i.pointRadius(+o),+o),a):n},a.projection(t).context(e)}function mxe(t){return{stream:Ap(t)}}function Ap(t){return function(e){var n=new TS;for(var r in t)n[r]=t[r];return n.stream=e,n}}function TS(){}TS.prototype={constructor:TS,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ek(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Ca(n,t.stream(Dy)),e(Dy.result()),r!=null&&t.clipExtent(r),t}function rb(t,e,n){return ek(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),c=+e[0][0]+(i-o*(r[1][0]+r[0][0]))/2,d=+e[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([c,d])},n)}function tk(t,e,n){return rb(t,[[0,0],e],n)}function nk(t,e,n){return ek(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,c=-a*r[0][1];t.scale(150*a).translate([o,c])},n)}function rk(t,e,n){return ek(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],c=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,c])},n)}var jD=16,pxe=Ue(30*Ge);function CD(t,e){return+e?vxe(t,e):gxe(t)}function gxe(t){return Ap({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function vxe(t,e){function n(r,i,a,o,c,d,f,m,g,v,x,w,T,E){var A=f-r,k=m-i,j=A*A+k*k;if(j>4*e&&T--){var D=o+v,O=c+x,L=d+w,P=ir(D*D+O*O+L*L),C=Kr(L/=P),M=pt(pt(L)-1)<Ke||pt(a-g)<Ke?(a+g)/2:Gr(O,D),z=t(M,C),V=z[0],H=z[1],q=V-r,G=H-i,W=k*q-A*G;(W*W/j>e||pt((A*q+k*G)/j-.5)>.3||o*v+c*x+d*w<pxe)&&(n(r,i,a,o,c,d,V,H,M,D/=P,O/=P,L,T,E),E.point(V,H),n(V,H,M,D,O,L,f,m,g,v,x,w,T,E))}}return function(r){var i,a,o,c,d,f,m,g,v,x,w,T,E={point:A,lineStart:k,lineEnd:D,polygonStart:function(){r.polygonStart(),E.lineStart=O},polygonEnd:function(){r.polygonEnd(),E.lineStart=k}};function A(C,M){C=t(C,M),r.point(C[0],C[1])}function k(){g=NaN,E.point=j,r.lineStart()}function j(C,M){var z=su([C,M]),V=t(C,M);n(g,v,m,x,w,T,g=V[0],v=V[1],m=C,x=z[0],w=z[1],T=z[2],jD,r),r.point(g,v)}function D(){E.point=A,r.lineEnd()}function O(){k(),E.point=L,E.lineEnd=P}function L(C,M){j(i=C,M),a=g,o=v,c=x,d=w,f=T,E.point=j}function P(){n(g,v,m,x,w,T,a,o,i,c,d,f,jD,r),E.lineEnd=D,D()}return E}}var yxe=Ap({point:function(t,e){this.stream.point(t*Ge,e*Ge)}});function xxe(t){return Ap({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function bxe(t,e,n,r,i){function a(o,c){return o*=r,c*=i,[e+t*o,n-t*c]}return a.invert=function(o,c){return[(o-e)/t*r,(n-c)/t*i]},a}function OD(t,e,n,r,i,a){if(!a)return bxe(t,e,n,r,i);var o=Ue(a),c=Re(a),d=o*t,f=c*t,m=o/t,g=c/t,v=(c*n-o*e)/t,x=(c*e+o*n)/t;function w(T,E){return T*=r,E*=i,[d*T-f*E+e,n-f*T-d*E]}return w.invert=function(T,E){return[r*(m*T-g*E+v),i*(x-g*T-m*E)]},w}function Ts(t){return ik(function(){return t})()}function ik(t){var e,n=150,r=480,i=250,a=0,o=0,c=0,d=0,f=0,m,g=0,v=1,x=1,w=null,T=hS,E=null,A,k,j,D=Um,O=.5,L,P,C,M,z;function V(W){return C(W[0]*Ge,W[1]*Ge)}function H(W){return W=C.invert(W[0],W[1]),W&&[W[0]*Yt,W[1]*Yt]}V.stream=function(W){return M&&z===W?M:M=yxe(xxe(m)(T(L(D(z=W)))))},V.preclip=function(W){return arguments.length?(T=W,w=void 0,G()):T},V.postclip=function(W){return arguments.length?(D=W,E=A=k=j=null,G()):D},V.clipAngle=function(W){return arguments.length?(T=+W?q$(w=W*Ge):(w=null,hS),G()):w*Yt},V.clipExtent=function(W){return arguments.length?(D=W==null?(E=A=k=j=null,Um):nb(E=+W[0][0],A=+W[0][1],k=+W[1][0],j=+W[1][1]),G()):E==null?null:[[E,A],[k,j]]},V.scale=function(W){return arguments.length?(n=+W,q()):n},V.translate=function(W){return arguments.length?(r=+W[0],i=+W[1],q()):[r,i]},V.center=function(W){return arguments.length?(a=W[0]%360*Ge,o=W[1]%360*Ge,q()):[a*Yt,o*Yt]},V.rotate=function(W){return arguments.length?(c=W[0]%360*Ge,d=W[1]%360*Ge,f=W.length>2?W[2]%360*Ge:0,q()):[c*Yt,d*Yt,f*Yt]},V.angle=function(W){return arguments.length?(g=W%360*Ge,q()):g*Yt},V.reflectX=function(W){return arguments.length?(v=W?-1:1,q()):v<0},V.reflectY=function(W){return arguments.length?(x=W?-1:1,q()):x<0},V.precision=function(W){return arguments.length?(L=CD(P,O=W*W),G()):ir(O)},V.fitExtent=function(W,U){return rb(V,W,U)},V.fitSize=function(W,U){return tk(V,W,U)},V.fitWidth=function(W,U){return nk(V,W,U)},V.fitHeight=function(W,U){return rk(V,W,U)};function q(){var W=OD(n,0,0,v,x,g).apply(null,e(a,o)),U=OD(n,r-W[0],i-W[1],v,x,g);return m=ZN(c,d,f),P=dS(e,U),C=dS(m,P),L=CD(P,O),G()}function G(){return M=z=null,V}return function(){return e=t.apply(this,arguments),V.invert=e.invert&&H,q()}}function ak(t){var e=0,n=ot/3,r=ik(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*Ge,n=a[1]*Ge):[e*Yt,n*Yt]},i}function wxe(t){var e=Ue(t);function n(r,i){return[r*e,Re(i)/e]}return n.invert=function(r,i){return[r/e,Kr(i*e)]},n}function aB(t,e){var n=Re(t),r=(n+Re(e))/2;if(pt(r)<Ke)return wxe(t);var i=1+n*(2*r-n),a=ir(i)/r;function o(c,d){var f=ir(i-2*r*Re(d))/r;return[f*Re(c*=r),a-f*Ue(c)]}return o.invert=function(c,d){var f=a-d,m=Gr(c,pt(f))*aa(f);return f*r<0&&(m-=ot*aa(c)*aa(f)),[m/r,Kr((i-(c*c+f*f)*r*r)/(2*r))]},o}function Uy(){return ak(aB).scale(155.424).center([0,33.6442])}function sB(){return Uy().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function _xe(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Exe(){var t,e,n=sB(),r,i=Uy().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=Uy().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c,d,f={point:function(v,x){d=[v,x]}};function m(v){var x=v[0],w=v[1];return d=null,r.point(x,w),d||(a.point(x,w),d)||(c.point(x,w),d)}m.invert=function(v){var x=n.scale(),w=n.translate(),T=(v[0]-w[0])/x,E=(v[1]-w[1])/x;return(E>=.12&&E<.234&&T>=-.425&&T<-.214?i:E>=.166&&E<.234&&T>=-.214&&T<-.115?o:n).invert(v)},m.stream=function(v){return t&&e===v?t:t=_xe([n.stream(e=v),i.stream(v),o.stream(v)])},m.precision=function(v){return arguments.length?(n.precision(v),i.precision(v),o.precision(v),g()):n.precision()},m.scale=function(v){return arguments.length?(n.scale(v),i.scale(v*.35),o.scale(v),m.translate(n.translate())):n.scale()},m.translate=function(v){if(!arguments.length)return n.translate();var x=n.scale(),w=+v[0],T=+v[1];return r=n.translate(v).clipExtent([[w-.455*x,T-.238*x],[w+.455*x,T+.238*x]]).stream(f),a=i.translate([w-.307*x,T+.201*x]).clipExtent([[w-.425*x+Ke,T+.12*x+Ke],[w-.214*x-Ke,T+.234*x-Ke]]).stream(f),c=o.translate([w-.205*x,T+.212*x]).clipExtent([[w-.214*x+Ke,T+.166*x+Ke],[w-.115*x-Ke,T+.234*x-Ke]]).stream(f),g()},m.fitExtent=function(v,x){return rb(m,v,x)},m.fitSize=function(v,x){return tk(m,v,x)},m.fitWidth=function(v,x){return nk(m,v,x)},m.fitHeight=function(v,x){return rk(m,v,x)};function g(){return t=e=null,m}return m.scale(1070)}function oB(t){return function(e,n){var r=Ue(e),i=Ue(n),a=t(r*i);return a===1/0?[2,0]:[a*i*Re(e),a*Re(n)]}}function Np(t){return function(e,n){var r=ir(e*e+n*n),i=t(r),a=Re(i),o=Ue(i);return[Gr(e*a,r*o),Kr(r&&n*a/r)]}}var sk=oB(function(t){return ir(2/(1+t))});sk.invert=Np(function(t){return 2*Kr(t/2)});function Sxe(){return Ts(sk).scale(124.75).clipAngle(180-.001)}var ok=oB(function(t){return(t=N$(t))&&t/Re(t)});ok.invert=Np(function(t){return t});function Txe(){return Ts(ok).scale(79.4188).clipAngle(180-.001)}function kp(t,e){return[t,yy(XN((yn+e)/2))]}kp.invert=function(t,e){return[t,2*Sf(A$(e))-yn]};function Axe(){return lB(kp).scale(961/Hr)}function lB(t){var e=Ts(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,o=null,c,d,f;e.scale=function(g){return arguments.length?(r(g),m()):r()},e.translate=function(g){return arguments.length?(i(g),m()):i()},e.center=function(g){return arguments.length?(n(g),m()):n()},e.clipExtent=function(g){return arguments.length?(g==null?o=c=d=f=null:(o=+g[0][0],c=+g[0][1],d=+g[1][0],f=+g[1][1]),m()):o==null?null:[[o,c],[d,f]]};function m(){var g=ot*r(),v=e(U$(e.rotate()).invert([0,0]));return a(o==null?[[v[0]-g,v[1]-g],[v[0]+g,v[1]+g]]:t===kp?[[Math.max(v[0]-g,o),c],[Math.min(v[0]+g,d),f]]:[[o,Math.max(v[1]-g,c)],[d,Math.min(v[1]+g,f)]])}return m()}function O0(t){return XN((yn+t)/2)}function cB(t,e){var n=Ue(t),r=t===e?Re(t):yy(n/Ue(e))/yy(O0(e)/O0(t)),i=n*y2(O0(t),r)/r;if(!r)return kp;function a(o,c){i>0?c<-yn+Ke&&(c=-yn+Ke):c>yn-Ke&&(c=yn-Ke);var d=i/y2(O0(c),r);return[d*Re(r*o),i-d*Ue(r*o)]}return a.invert=function(o,c){var d=i-c,f=aa(r)*ir(o*o+d*d),m=Gr(o,pt(d))*aa(d);return d*r<0&&(m-=ot*aa(o)*aa(d)),[m/r,2*Sf(y2(i/f,1/r))-yn]},a}function Nxe(){return ak(cB).scale(109.5).parallels([30,30])}function Bm(t,e){return[t,e]}Bm.invert=Bm;function kxe(){return Ts(Bm).scale(152.63)}function uB(t,e){var n=Ue(t),r=t===e?Re(t):(n-Ue(e))/(e-t),i=n/r+t;if(pt(r)<Ke)return Bm;function a(o,c){var d=i-c,f=r*o;return[d*Re(f),i-d*Ue(f)]}return a.invert=function(o,c){var d=i-c,f=Gr(o,pt(d))*aa(d);return d*r<0&&(f-=ot*aa(o)*aa(d)),[f/r,i-aa(r)*ir(o*o+d*d)]},a}function jxe(){return ak(uB).scale(131.154).center([0,13.9389])}var dm=1.340264,fm=-.081106,hm=893e-6,mm=.003796,Vy=ir(3)/2,Cxe=12;function lk(t,e){var n=Kr(Vy*Re(e)),r=n*n,i=r*r*r;return[t*Ue(n)/(Vy*(dm+3*fm*r+i*(7*hm+9*mm*r))),n*(dm+fm*r+i*(hm+mm*r))]}lk.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,o,c,d;a<Cxe&&(c=n*(dm+fm*r+i*(hm+mm*r))-e,d=dm+3*fm*r+i*(7*hm+9*mm*r),n-=o=c/d,r=n*n,i=r*r*r,!(pt(o)<gy));++a);return[Vy*t*(dm+3*fm*r+i*(7*hm+9*mm*r))/Ue(n),Kr(Re(n)/Vy)]};function Oxe(){return Ts(lk).scale(177.158)}function ck(t,e){var n=Ue(e),r=Ue(t)*n;return[n*Re(t)/r,Re(e)/r]}ck.invert=Np(Sf);function Ixe(){return Ts(ck).scale(144.049).clipAngle(60)}function Rxe(){var t=1,e=0,n=0,r=1,i=1,a=0,o,c,d=null,f,m,g,v=1,x=1,w=Ap({point:function(D,O){var L=j([D,O]);this.stream.point(L[0],L[1])}}),T=Um,E,A;function k(){return v=t*r,x=t*i,E=A=null,j}function j(D){var O=D[0]*v,L=D[1]*x;if(a){var P=L*o-O*c;O=O*o+L*c,L=P}return[O+e,L+n]}return j.invert=function(D){var O=D[0]-e,L=D[1]-n;if(a){var P=L*o+O*c;O=O*o-L*c,L=P}return[O/v,L/x]},j.stream=function(D){return E&&A===D?E:E=w(T(A=D))},j.postclip=function(D){return arguments.length?(T=D,d=f=m=g=null,k()):T},j.clipExtent=function(D){return arguments.length?(T=D==null?(d=f=m=g=null,Um):nb(d=+D[0][0],f=+D[0][1],m=+D[1][0],g=+D[1][1]),k()):d==null?null:[[d,f],[m,g]]},j.scale=function(D){return arguments.length?(t=+D,k()):t},j.translate=function(D){return arguments.length?(e=+D[0],n=+D[1],k()):[e,n]},j.angle=function(D){return arguments.length?(a=D%360*Ge,c=Re(a),o=Ue(a),k()):a*Yt},j.reflectX=function(D){return arguments.length?(r=D?-1:1,k()):r<0},j.reflectY=function(D){return arguments.length?(i=D?-1:1,k()):i<0},j.fitExtent=function(D,O){return rb(j,D,O)},j.fitSize=function(D,O){return tk(j,D,O)},j.fitWidth=function(D,O){return nk(j,D,O)},j.fitHeight=function(D,O){return rk(j,D,O)},j}function uk(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}uk.invert=function(t,e){var n=e,r=25,i;do{var a=n*n,o=a*a;n-=i=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-e)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(pt(i)>Ke&&--r>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function Pxe(){return Ts(uk).scale(175.295)}function dk(t,e){return[Ue(e)*Re(t),Re(e)]}dk.invert=Np(Kr);function Dxe(){return Ts(dk).scale(249.5).clipAngle(90+Ke)}function fk(t,e){var n=Ue(e),r=1+Ue(t)*n;return[n*Re(t)/r,Re(e)/r]}fk.invert=Np(function(t){return 2*Sf(t)});function Mxe(){return Ts(fk).scale(250).clipAngle(142)}function hk(t,e){return[yy(XN((yn+e)/2)),-t]}hk.invert=function(t,e){return[-e,2*Sf(A$(t))-yn]};function Lxe(){var t=lB(hk),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const Uxe=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:sB,geoAlbersUsa:Exe,geoArea:Cye,geoAzimuthalEqualArea:Sxe,geoAzimuthalEqualAreaRaw:sk,geoAzimuthalEquidistant:Txe,geoAzimuthalEquidistantRaw:ok,geoBounds:Pye,geoCentroid:$ye,geoCircle:Bye,geoClipAntimeridian:hS,geoClipCircle:q$,geoClipExtent:Wye,geoClipRectangle:nb,geoConicConformal:Nxe,geoConicConformalRaw:cB,geoConicEqualArea:Uy,geoConicEqualAreaRaw:aB,geoConicEquidistant:jxe,geoConicEquidistantRaw:uB,geoContains:txe,geoDistance:Oy,geoEqualEarth:Oxe,geoEqualEarthRaw:lk,geoEquirectangular:kxe,geoEquirectangularRaw:Bm,geoGnomonic:Ixe,geoGnomonicRaw:ck,geoGraticule:JN,geoGraticule10:nxe,geoIdentity:Rxe,geoInterpolate:rxe,geoLength:H$,geoMercator:Axe,geoMercatorRaw:kp,geoNaturalEarth1:Pxe,geoNaturalEarth1Raw:uk,geoOrthographic:Dxe,geoOrthographicRaw:dk,geoPath:iB,geoProjection:Ts,geoProjectionMutator:ik,geoRotation:U$,geoStereographic:Mxe,geoStereographicRaw:fk,geoStream:Ca,geoTransform:mxe,geoTransverseMercator:Lxe,geoTransverseMercatorRaw:hk},Symbol.toStringTag,{value:"Module"}));function Vxe(t){return t}function $xe(t){if(t==null)return Vxe;var e,n,r=t.scale[0],i=t.scale[1],a=t.translate[0],o=t.translate[1];return function(c,d){d||(e=n=0);var f=2,m=c.length,g=new Array(m);for(g[0]=(e+=c[0])*r+a,g[1]=(n+=c[1])*i+o;f<m;)g[f]=c[f],++f;return g}}function Bxe(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function zxe(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return ID(t,n)})}:ID(t,e)}function ID(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,a=dB(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function dB(t,e){var n=$xe(t.transform),r=t.arcs;function i(m,g){g.length&&g.pop();for(var v=r[m<0?~m:m],x=0,w=v.length;x<w;++x)g.push(n(v[x],x));m<0&&Bxe(g,w)}function a(m){return n(m)}function o(m){for(var g=[],v=0,x=m.length;v<x;++v)i(m[v],g);return g.length<2&&g.push(g[0]),g}function c(m){for(var g=o(m);g.length<4;)g.push(g[0]);return g}function d(m){return m.map(c)}function f(m){var g=m.type,v;switch(g){case"GeometryCollection":return{type:g,geometries:m.geometries.map(f)};case"Point":v=a(m.coordinates);break;case"MultiPoint":v=m.coordinates.map(a);break;case"LineString":v=o(m.arcs);break;case"MultiLineString":v=m.arcs.map(o);break;case"Polygon":v=d(m.arcs);break;case"MultiPolygon":v=m.arcs.map(d);break;default:return null}return{type:g,coordinates:v}}return f(e)}function Fxe(t,e){var n={},r={},i={},a=[],o=-1;e.forEach(function(f,m){var g=t.arcs[f<0?~f:f],v;g.length<3&&!g[1][0]&&!g[1][1]&&(v=e[++o],e[o]=f,e[m]=v)}),e.forEach(function(f){var m=c(f),g=m[0],v=m[1],x,w;if(x=i[g])if(delete i[x.end],x.push(f),x.end=v,w=r[v]){delete r[w.start];var T=w===x?x:x.concat(w);r[T.start=x.start]=i[T.end=w.end]=T}else r[x.start]=i[x.end]=x;else if(x=r[v])if(delete r[x.start],x.unshift(f),x.start=g,w=i[g]){delete i[w.end];var E=w===x?x:w.concat(x);r[E.start=w.start]=i[E.end=x.end]=E}else r[x.start]=i[x.end]=x;else x=[f],r[x.start=g]=i[x.end=v]=x});function c(f){var m=t.arcs[f<0?~f:f],g=m[0],v;return t.transform?(v=[0,0],m.forEach(function(x){v[0]+=x[0],v[1]+=x[1]})):v=m[m.length-1],f<0?[v,g]:[g,v]}function d(f,m){for(var g in f){var v=f[g];delete m[v.start],delete v.start,delete v.end,v.forEach(function(x){n[x<0?~x:x]=1}),a.push(v)}}return d(i,r),d(r,i),e.forEach(function(f){n[f<0?~f:f]||a.push([f])}),a}function RD(t){return dB(t,qxe.apply(this,arguments))}function qxe(t,e,n){var r,i,a;if(arguments.length>1)r=Hxe(t,e,n);else for(i=0,r=new Array(a=t.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:Fxe(t,r)}}function Hxe(t,e,n){var r=[],i=[],a;function o(g){var v=g<0?~g:g;(i[v]||(i[v]=[])).push({i:g,g:a})}function c(g){g.forEach(o)}function d(g){g.forEach(c)}function f(g){g.forEach(d)}function m(g){switch(a=g,g.type){case"GeometryCollection":g.geometries.forEach(m);break;case"LineString":c(g.arcs);break;case"MultiLineString":case"Polygon":d(g.arcs);break;case"MultiPolygon":f(g.arcs);break}}return m(e),i.forEach(n==null?function(g){r.push(g[0].i)}:function(g){n(g[0].g,g[g.length-1].g)&&r.push(g[0].i)}),r}var Gxe={value:()=>{}};function mk(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ev(n)}function ev(t){this._=t}function Kxe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ev.prototype=mk.prototype={constructor:ev,on:function(t,e){var n=this._,r=Kxe(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=Wxe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=PD(n[i],t.name,e);else if(e==null)for(i in n)n[i]=PD(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ev(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function Wxe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function PD(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Gxe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var AS="http://www.w3.org/1999/xhtml";const DD={svg:"http://www.w3.org/2000/svg",xhtml:AS,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ib(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),DD.hasOwnProperty(e)?{space:DD[e],local:t}:t}function Yxe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===AS&&e.documentElement.namespaceURI===AS?e.createElement(t):e.createElementNS(n,t)}}function Xxe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function fB(t){var e=ib(t);return(e.local?Xxe:Yxe)(e)}function Qxe(){}function pk(t){return t==null?Qxe:function(){return this.querySelector(t)}}function Zxe(t){typeof t!="function"&&(t=pk(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,c=r[i]=new Array(o),d,f,m=0;m<o;++m)(d=a[m])&&(f=t.call(d,d.__data__,m,a))&&("__data__"in d&&(f.__data__=d.__data__),c[m]=f);return new di(r,this._parents)}function hB(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Jxe(){return[]}function mB(t){return t==null?Jxe:function(){return this.querySelectorAll(t)}}function ebe(t){return function(){var e=t.apply(this,arguments);return e==null?[]:hB(e)}}function tbe(t){typeof t=="function"?t=ebe(t):t=mB(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],c=o.length,d,f=0;f<c;++f)(d=o[f])&&(r.push(t.call(d,d.__data__,f,o)),i.push(d));return new di(r,i)}function pB(t){return function(){return this.matches(t)}}function gB(t){return function(e){return e.matches(t)}}var nbe=Array.prototype.find;function rbe(t){return function(){return nbe.call(this.children,t)}}function ibe(){return this.firstElementChild}function abe(t){return this.select(t==null?ibe:rbe(typeof t=="function"?t:gB(t)))}var sbe=Array.prototype.filter;function obe(){return this.children}function lbe(t){return function(){return sbe.call(this.children,t)}}function cbe(t){return this.selectAll(t==null?obe:lbe(typeof t=="function"?t:gB(t)))}function ube(t){typeof t!="function"&&(t=pB(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,c=r[i]=[],d,f=0;f<o;++f)(d=a[f])&&t.call(d,d.__data__,f,a)&&c.push(d);return new di(r,this._parents)}function vB(t){return new Array(t.length)}function dbe(){return new di(this._enter||this._groups.map(vB),this._parents)}function $y(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}$y.prototype={constructor:$y,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function fbe(t){return function(){return t}}function hbe(t,e,n,r,i,a){for(var o=0,c,d=e.length,f=a.length;o<f;++o)(c=e[o])?(c.__data__=a[o],r[o]=c):n[o]=new $y(t,a[o]);for(;o<d;++o)(c=e[o])&&(i[o]=c)}function mbe(t,e,n,r,i,a,o){var c,d,f=new Map,m=e.length,g=a.length,v=new Array(m),x;for(c=0;c<m;++c)(d=e[c])&&(v[c]=x=o.call(d,d.__data__,c,e)+"",f.has(x)?i[c]=d:f.set(x,d));for(c=0;c<g;++c)x=o.call(t,a[c],c,a)+"",(d=f.get(x))?(r[c]=d,d.__data__=a[c],f.delete(x)):n[c]=new $y(t,a[c]);for(c=0;c<m;++c)(d=e[c])&&f.get(v[c])===d&&(i[c]=d)}function pbe(t){return t.__data__}function gbe(t,e){if(!arguments.length)return Array.from(this,pbe);var n=e?mbe:hbe,r=this._parents,i=this._groups;typeof t!="function"&&(t=fbe(t));for(var a=i.length,o=new Array(a),c=new Array(a),d=new Array(a),f=0;f<a;++f){var m=r[f],g=i[f],v=g.length,x=hB(t.call(m,m&&m.__data__,f,r)),w=x.length,T=c[f]=new Array(w),E=o[f]=new Array(w),A=d[f]=new Array(v);n(m,g,T,E,A,x,e);for(var k=0,j=0,D,O;k<w;++k)if(D=T[k]){for(k>=j&&(j=k+1);!(O=E[j])&&++j<w;);D._next=O||null}}return o=new di(o,r),o._enter=c,o._exit=d,o}function vbe(){return new di(this._exit||this._groups.map(vB),this._parents)}function ybe(t,e,n){var r=this.enter(),i=this,a=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function xbe(t){if(!(t instanceof di))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),c=0;c<a;++c)for(var d=e[c],f=n[c],m=d.length,g=o[c]=new Array(m),v,x=0;x<m;++x)(v=d[x]||f[x])&&(g[x]=v);for(;c<r;++c)o[c]=e[c];return new di(o,this._parents)}function bbe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function wbe(t){t||(t=_be);function e(g,v){return g&&v?t(g.__data__,v.__data__):!g-!v}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],c=o.length,d=i[a]=new Array(c),f,m=0;m<c;++m)(f=o[m])&&(d[m]=f);d.sort(e)}return new di(i,this._parents).order()}function _be(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ebe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Sbe(){return Array.from(this)}function Tbe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Abe(){let t=0;for(const e of this)++t;return t}function Nbe(){return!this.node()}function kbe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,c;a<o;++a)(c=i[a])&&t.call(c,c.__data__,a,i);return this}function jbe(t){return function(){this.removeAttribute(t)}}function Cbe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Obe(t,e){return function(){this.setAttribute(t,e)}}function Ibe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Rbe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Pbe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Dbe(t,e){var n=ib(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Cbe:jbe:typeof e=="function"?n.local?Pbe:Rbe:n.local?Ibe:Obe)(n,e))}function yB(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Mbe(t){return function(){this.style.removeProperty(t)}}function Lbe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ube(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Vbe(t,e,n){return arguments.length>1?this.each((e==null?Mbe:typeof e=="function"?Ube:Lbe)(t,e,n??"")):ef(this.node(),t)}function ef(t,e){return t.style.getPropertyValue(e)||yB(t).getComputedStyle(t,null).getPropertyValue(e)}function $be(t){return function(){delete this[t]}}function Bbe(t,e){return function(){this[t]=e}}function zbe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Fbe(t,e){return arguments.length>1?this.each((e==null?$be:typeof e=="function"?zbe:Bbe)(t,e)):this.node()[t]}function xB(t){return t.trim().split(/^|\s+/)}function gk(t){return t.classList||new bB(t)}function bB(t){this._node=t,this._names=xB(t.getAttribute("class")||"")}bB.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function wB(t,e){for(var n=gk(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function _B(t,e){for(var n=gk(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function qbe(t){return function(){wB(this,t)}}function Hbe(t){return function(){_B(this,t)}}function Gbe(t,e){return function(){(e.apply(this,arguments)?wB:_B)(this,t)}}function Kbe(t,e){var n=xB(t+"");if(arguments.length<2){for(var r=gk(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Gbe:e?qbe:Hbe)(n,e))}function Wbe(){this.textContent=""}function Ybe(t){return function(){this.textContent=t}}function Xbe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Qbe(t){return arguments.length?this.each(t==null?Wbe:(typeof t=="function"?Xbe:Ybe)(t)):this.node().textContent}function Zbe(){this.innerHTML=""}function Jbe(t){return function(){this.innerHTML=t}}function e1e(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function t1e(t){return arguments.length?this.each(t==null?Zbe:(typeof t=="function"?e1e:Jbe)(t)):this.node().innerHTML}function n1e(){this.nextSibling&&this.parentNode.appendChild(this)}function r1e(){return this.each(n1e)}function i1e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function a1e(){return this.each(i1e)}function s1e(t){var e=typeof t=="function"?t:fB(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function o1e(){return null}function l1e(t,e){var n=typeof t=="function"?t:fB(t),r=e==null?o1e:typeof e=="function"?e:pk(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function c1e(){var t=this.parentNode;t&&t.removeChild(this)}function u1e(){return this.each(c1e)}function d1e(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function f1e(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function h1e(t){return this.select(t?f1e:d1e)}function m1e(t){return arguments.length?this.property("__data__",t):this.node().__data__}function p1e(t){return function(e){t.call(this,e,this.__data__)}}function g1e(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function v1e(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function y1e(t,e,n){return function(){var r=this.__on,i,a=p1e(e);if(r){for(var o=0,c=r.length;o<c;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function x1e(t,e,n){var r=g1e(t+""),i,a=r.length,o;if(arguments.length<2){var c=this.node().__on;if(c){for(var d=0,f=c.length,m;d<f;++d)for(i=0,m=c[d];i<a;++i)if((o=r[i]).type===m.type&&o.name===m.name)return m.value}return}for(c=e?y1e:v1e,i=0;i<a;++i)this.each(c(r[i],e,n));return this}function EB(t,e,n){var r=yB(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function b1e(t,e){return function(){return EB(this,t,e)}}function w1e(t,e){return function(){return EB(this,t,e.apply(this,arguments))}}function _1e(t,e){return this.each((typeof e=="function"?w1e:b1e)(t,e))}function*E1e(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var SB=[null];function di(t,e){this._groups=t,this._parents=e}function jp(){return new di([[document.documentElement]],SB)}function S1e(){return this}di.prototype=jp.prototype={constructor:di,select:Zxe,selectAll:tbe,selectChild:abe,selectChildren:cbe,filter:ube,data:gbe,enter:dbe,exit:vbe,join:ybe,merge:xbe,selection:S1e,order:bbe,sort:wbe,call:Ebe,nodes:Sbe,node:Tbe,size:Abe,empty:Nbe,each:kbe,attr:Dbe,style:Vbe,property:Fbe,classed:Kbe,text:Qbe,html:t1e,raise:r1e,lower:a1e,append:s1e,insert:l1e,remove:u1e,clone:h1e,datum:m1e,on:x1e,dispatch:_1e,[Symbol.iterator]:E1e};function io(t){return typeof t=="string"?new di([[document.querySelector(t)]],[document.documentElement]):new di([[t]],SB)}function T1e(t){let e;for(;e=t.sourceEvent;)t=e;return t}function _c(t,e){if(t=T1e(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function NS(t){t.preventDefault(),t.stopImmediatePropagation()}function A1e(t){var e=t.document.documentElement,n=io(t).on("dragstart.drag",NS,!0);"onselectstart"in e?n.on("selectstart.drag",NS,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function N1e(t,e){var n=t.document.documentElement,r=io(t).on("dragstart.drag",null);e&&(r.on("click.drag",NS,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var k1e=1e-12;function MD(t){return((t=Math.exp(t))+1/t)/2}function j1e(t){return((t=Math.exp(t))-1/t)/2}function C1e(t){return((t=Math.exp(2*t))-1)/(t+1)}const O1e=function t(e,n,r){function i(a,o){var c=a[0],d=a[1],f=a[2],m=o[0],g=o[1],v=o[2],x=m-c,w=g-d,T=x*x+w*w,E,A;if(T<k1e)A=Math.log(v/f)/e,E=function(P){return[c+P*x,d+P*w,f*Math.exp(e*P*A)]};else{var k=Math.sqrt(T),j=(v*v-f*f+r*T)/(2*f*n*k),D=(v*v-f*f-r*T)/(2*v*n*k),O=Math.log(Math.sqrt(j*j+1)-j),L=Math.log(Math.sqrt(D*D+1)-D);A=(L-O)/e,E=function(P){var C=P*A,M=MD(O),z=f/(n*k)*(M*C1e(e*C+O)-j1e(O));return[c+z*x,d+z*w,f*M/MD(e*C+O)]}}return E.duration=A*1e3*e/Math.SQRT2,E}return i.rho=function(a){var o=Math.max(.001,+a),c=o*o,d=c*c;return t(o,c,d)},i}(Math.SQRT2,2,4);var tf=0,Zh=0,Vh=0,TB=1e3,By,Jh,zy=0,lu=0,ab=0,zm=typeof performance=="object"&&performance.now?performance:Date,AB=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function vk(){return lu||(AB(I1e),lu=zm.now()+ab)}function I1e(){lu=0}function Fy(){this._call=this._time=this._next=null}Fy.prototype=NB.prototype={constructor:Fy,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?vk():+n)+(e==null?0:+e),!this._next&&Jh!==this&&(Jh?Jh._next=this:By=this,Jh=this),this._call=t,this._time=n,kS()},stop:function(){this._call&&(this._call=null,this._time=1/0,kS())}};function NB(t,e,n){var r=new Fy;return r.restart(t,e,n),r}function R1e(){vk(),++tf;for(var t=By,e;t;)(e=lu-t._time)>=0&&t._call.call(null,e),t=t._next;--tf}function LD(){lu=(zy=zm.now())+ab,tf=Zh=0;try{R1e()}finally{tf=0,D1e(),lu=0}}function P1e(){var t=zm.now(),e=t-zy;e>TB&&(ab-=e,zy=t)}function D1e(){for(var t,e=By,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:By=n);Jh=t,kS(r)}function kS(t){if(!tf){Zh&&(Zh=clearTimeout(Zh));var e=t-lu;e>24?(t<1/0&&(Zh=setTimeout(LD,t-zm.now()-ab)),Vh&&(Vh=clearInterval(Vh))):(Vh||(zy=zm.now(),Vh=setInterval(P1e,TB)),tf=1,AB(LD))}}function UD(t,e,n){var r=new Fy;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var M1e=mk("start","end","cancel","interrupt"),L1e=[],kB=0,VD=1,jS=2,tv=3,$D=4,CS=5,nv=6;function sb(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;U1e(t,n,{name:e,index:r,group:i,on:M1e,tween:L1e,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:kB})}function yk(t,e){var n=Fa(t,e);if(n.state>kB)throw new Error("too late; already scheduled");return n}function As(t,e){var n=Fa(t,e);if(n.state>tv)throw new Error("too late; already running");return n}function Fa(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function U1e(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=NB(a,0,n.time);function a(f){n.state=VD,n.timer.restart(o,n.delay,n.time),n.delay<=f&&o(f-n.delay)}function o(f){var m,g,v,x;if(n.state!==VD)return d();for(m in r)if(x=r[m],x.name===n.name){if(x.state===tv)return UD(o);x.state===$D?(x.state=nv,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete r[m]):+m<e&&(x.state=nv,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete r[m])}if(UD(function(){n.state===tv&&(n.state=$D,n.timer.restart(c,n.delay,n.time),c(f))}),n.state=jS,n.on.call("start",t,t.__data__,n.index,n.group),n.state===jS){for(n.state=tv,i=new Array(v=n.tween.length),m=0,g=-1;m<v;++m)(x=n.tween[m].value.call(t,t.__data__,n.index,n.group))&&(i[++g]=x);i.length=g+1}}function c(f){for(var m=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(d),n.state=CS,1),g=-1,v=i.length;++g<v;)i[g].call(t,m);n.state===CS&&(n.on.call("end",t,t.__data__,n.index,n.group),d())}function d(){n.state=nv,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function rv(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>jS&&r.state<CS,r.state=nv,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function V1e(t){return this.each(function(){rv(this,t)})}function xk(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function jB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Cp(){}var Fm=.7,qy=1/Fm,jd="\\s*([+-]?\\d+)\\s*",qm="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",vs="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$1e=/^#([0-9a-f]{3,8})$/,B1e=new RegExp("^rgb\\("+[jd,jd,jd]+"\\)$"),z1e=new RegExp("^rgb\\("+[vs,vs,vs]+"\\)$"),F1e=new RegExp("^rgba\\("+[jd,jd,jd,qm]+"\\)$"),q1e=new RegExp("^rgba\\("+[vs,vs,vs,qm]+"\\)$"),H1e=new RegExp("^hsl\\("+[qm,vs,vs]+"\\)$"),G1e=new RegExp("^hsla\\("+[qm,vs,vs,qm]+"\\)$"),BD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xk(Cp,Hm,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:zD,formatHex:zD,formatHsl:K1e,formatRgb:FD,toString:FD});function zD(){return this.rgb().formatHex()}function K1e(){return CB(this).formatHsl()}function FD(){return this.rgb().formatRgb()}function Hm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$1e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?qD(e):n===3?new Oi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?I0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?I0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=B1e.exec(t))?new Oi(e[1],e[2],e[3],1):(e=z1e.exec(t))?new Oi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=F1e.exec(t))?I0(e[1],e[2],e[3],e[4]):(e=q1e.exec(t))?I0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=H1e.exec(t))?KD(e[1],e[2]/100,e[3]/100,1):(e=G1e.exec(t))?KD(e[1],e[2]/100,e[3]/100,e[4]):BD.hasOwnProperty(t)?qD(BD[t]):t==="transparent"?new Oi(NaN,NaN,NaN,0):null}function qD(t){return new Oi(t>>16&255,t>>8&255,t&255,1)}function I0(t,e,n,r){return r<=0&&(t=e=n=NaN),new Oi(t,e,n,r)}function W1e(t){return t instanceof Cp||(t=Hm(t)),t?(t=t.rgb(),new Oi(t.r,t.g,t.b,t.opacity)):new Oi}function OS(t,e,n,r){return arguments.length===1?W1e(t):new Oi(t,e,n,r??1)}function Oi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}xk(Oi,OS,jB(Cp,{brighter:function(t){return t=t==null?qy:Math.pow(qy,t),new Oi(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Fm:Math.pow(Fm,t),new Oi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HD,formatHex:HD,formatRgb:GD,toString:GD}));function HD(){return"#"+E2(this.r)+E2(this.g)+E2(this.b)}function GD(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function E2(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function KD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new cs(t,e,n,r)}function CB(t){if(t instanceof cs)return new cs(t.h,t.s,t.l,t.opacity);if(t instanceof Cp||(t=Hm(t)),!t)return new cs;if(t instanceof cs)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,c=a-i,d=(a+i)/2;return c?(e===a?o=(n-r)/c+(n<r)*6:n===a?o=(r-e)/c+2:o=(e-n)/c+4,c/=d<.5?a+i:2-a-i,o*=60):c=d>0&&d<1?0:o,new cs(o,c,d,t.opacity)}function Y1e(t,e,n,r){return arguments.length===1?CB(t):new cs(t,e,n,r??1)}function cs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}xk(cs,Y1e,jB(Cp,{brighter:function(t){return t=t==null?qy:Math.pow(qy,t),new cs(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Fm:Math.pow(Fm,t),new cs(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Oi(S2(t>=240?t-240:t+120,i,r),S2(t,i,r),S2(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function S2(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const OB=t=>()=>t;function X1e(t,e){return function(n){return t+n*e}}function Q1e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Z1e(t){return(t=+t)==1?IB:function(e,n){return n-e?Q1e(e,n,t):OB(isNaN(e)?n:e)}}function IB(t,e){var n=e-t;return n?X1e(t,n):OB(isNaN(t)?e:t)}const WD=function t(e){var n=Z1e(e);function r(i,a){var o=n((i=OS(i)).r,(a=OS(a)).r),c=n(i.g,a.g),d=n(i.b,a.b),f=IB(i.opacity,a.opacity);return function(m){return i.r=o(m),i.g=c(m),i.b=d(m),i.opacity=f(m),i+""}}return r.gamma=t,r}(1);function pl(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var IS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,T2=new RegExp(IS.source,"g");function J1e(t){return function(){return t}}function ewe(t){return function(e){return t(e)+""}}function twe(t,e){var n=IS.lastIndex=T2.lastIndex=0,r,i,a,o=-1,c=[],d=[];for(t=t+"",e=e+"";(r=IS.exec(t))&&(i=T2.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),c[o]?c[o]+=a:c[++o]=a),(r=r[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,d.push({i:o,x:pl(r,i)})),n=T2.lastIndex;return n<e.length&&(a=e.slice(n),c[o]?c[o]+=a:c[++o]=a),c.length<2?d[0]?ewe(d[0].x):J1e(e):(e=d.length,function(f){for(var m=0,g;m<e;++m)c[(g=d[m]).i]=g.x(f);return c.join("")})}var YD=180/Math.PI,RS={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function RB(t,e,n,r,i,a){var o,c,d;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(d=t*n+e*r)&&(n-=t*d,r-=e*d),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,d/=c),t*r<e*n&&(t=-t,e=-e,d=-d,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*YD,skewX:Math.atan(d)*YD,scaleX:o,scaleY:c}}var R0;function nwe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?RS:RB(e.a,e.b,e.c,e.d,e.e,e.f)}function rwe(t){return t==null||(R0||(R0=document.createElementNS("http://www.w3.org/2000/svg","g")),R0.setAttribute("transform",t),!(t=R0.transform.baseVal.consolidate()))?RS:(t=t.matrix,RB(t.a,t.b,t.c,t.d,t.e,t.f))}function PB(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function a(f,m,g,v,x,w){if(f!==g||m!==v){var T=x.push("translate(",null,e,null,n);w.push({i:T-4,x:pl(f,g)},{i:T-2,x:pl(m,v)})}else(g||v)&&x.push("translate("+g+e+v+n)}function o(f,m,g,v){f!==m?(f-m>180?m+=360:m-f>180&&(f+=360),v.push({i:g.push(i(g)+"rotate(",null,r)-2,x:pl(f,m)})):m&&g.push(i(g)+"rotate("+m+r)}function c(f,m,g,v){f!==m?v.push({i:g.push(i(g)+"skewX(",null,r)-2,x:pl(f,m)}):m&&g.push(i(g)+"skewX("+m+r)}function d(f,m,g,v,x,w){if(f!==g||m!==v){var T=x.push(i(x)+"scale(",null,",",null,")");w.push({i:T-4,x:pl(f,g)},{i:T-2,x:pl(m,v)})}else(g!==1||v!==1)&&x.push(i(x)+"scale("+g+","+v+")")}return function(f,m){var g=[],v=[];return f=t(f),m=t(m),a(f.translateX,f.translateY,m.translateX,m.translateY,g,v),o(f.rotate,m.rotate,g,v),c(f.skewX,m.skewX,g,v),d(f.scaleX,f.scaleY,m.scaleX,m.scaleY,g,v),f=m=null,function(x){for(var w=-1,T=v.length,E;++w<T;)g[(E=v[w]).i]=E.x(x);return g.join("")}}}var iwe=PB(nwe,"px, ","px)","deg)"),awe=PB(rwe,", ",")",")");function swe(t,e){var n,r;return function(){var i=As(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,c=r.length;o<c;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function owe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=As(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var c={name:e,value:n},d=0,f=i.length;d<f;++d)if(i[d].name===e){i[d]=c;break}d===f&&i.push(c)}a.tween=i}}function lwe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Fa(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?swe:owe)(n,t,e))}function bk(t,e,n){var r=t._id;return t.each(function(){var i=As(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Fa(i,r).value[e]}}function DB(t,e){var n;return(typeof e=="number"?pl:e instanceof Hm?WD:(n=Hm(e))?(e=n,WD):twe)(t,e)}function cwe(t){return function(){this.removeAttribute(t)}}function uwe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function dwe(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function fwe(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function hwe(t,e,n){var r,i,a;return function(){var o,c=n(this),d;return c==null?void this.removeAttribute(t):(o=this.getAttribute(t),d=c+"",o===d?null:o===r&&d===i?a:(i=d,a=e(r=o,c)))}}function mwe(t,e,n){var r,i,a;return function(){var o,c=n(this),d;return c==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),d=c+"",o===d?null:o===r&&d===i?a:(i=d,a=e(r=o,c)))}}function pwe(t,e){var n=ib(t),r=n==="transform"?awe:DB;return this.attrTween(t,typeof e=="function"?(n.local?mwe:hwe)(n,r,bk(this,"attr."+t,e)):e==null?(n.local?uwe:cwe)(n):(n.local?fwe:dwe)(n,r,e))}function gwe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function vwe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ywe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&vwe(t,a)),n}return i._value=e,i}function xwe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&gwe(t,a)),n}return i._value=e,i}function bwe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=ib(t);return this.tween(n,(r.local?ywe:xwe)(r,e))}function wwe(t,e){return function(){yk(this,t).delay=+e.apply(this,arguments)}}function _we(t,e){return e=+e,function(){yk(this,t).delay=e}}function Ewe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?wwe:_we)(e,t)):Fa(this.node(),e).delay}function Swe(t,e){return function(){As(this,t).duration=+e.apply(this,arguments)}}function Twe(t,e){return e=+e,function(){As(this,t).duration=e}}function Awe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Swe:Twe)(e,t)):Fa(this.node(),e).duration}function Nwe(t,e){if(typeof e!="function")throw new Error;return function(){As(this,t).ease=e}}function kwe(t){var e=this._id;return arguments.length?this.each(Nwe(e,t)):Fa(this.node(),e).ease}function jwe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;As(this,t).ease=n}}function Cwe(t){if(typeof t!="function")throw new Error;return this.each(jwe(this._id,t))}function Owe(t){typeof t!="function"&&(t=pB(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,c=r[i]=[],d,f=0;f<o;++f)(d=a[f])&&t.call(d,d.__data__,f,a)&&c.push(d);return new ko(r,this._parents,this._name,this._id)}function Iwe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),c=0;c<a;++c)for(var d=e[c],f=n[c],m=d.length,g=o[c]=new Array(m),v,x=0;x<m;++x)(v=d[x]||f[x])&&(g[x]=v);for(;c<r;++c)o[c]=e[c];return new ko(o,this._parents,this._name,this._id)}function Rwe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Pwe(t,e,n){var r,i,a=Rwe(e)?yk:As;return function(){var o=a(this,t),c=o.on;c!==r&&(i=(r=c).copy()).on(e,n),o.on=i}}function Dwe(t,e){var n=this._id;return arguments.length<2?Fa(this.node(),n).on.on(t):this.each(Pwe(n,t,e))}function Mwe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Lwe(){return this.on("end.remove",Mwe(this._id))}function Uwe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=pk(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var c=r[o],d=c.length,f=a[o]=new Array(d),m,g,v=0;v<d;++v)(m=c[v])&&(g=t.call(m,m.__data__,v,c))&&("__data__"in m&&(g.__data__=m.__data__),f[v]=g,sb(f[v],e,n,v,f,Fa(m,n)));return new ko(a,this._parents,e,n)}function Vwe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=mB(t));for(var r=this._groups,i=r.length,a=[],o=[],c=0;c<i;++c)for(var d=r[c],f=d.length,m,g=0;g<f;++g)if(m=d[g]){for(var v=t.call(m,m.__data__,g,d),x,w=Fa(m,n),T=0,E=v.length;T<E;++T)(x=v[T])&&sb(x,e,n,T,v,w);a.push(v),o.push(m)}return new ko(a,o,e,n)}var $we=jp.prototype.constructor;function Bwe(){return new $we(this._groups,this._parents)}function zwe(t,e){var n,r,i;return function(){var a=ef(this,t),o=(this.style.removeProperty(t),ef(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function MB(t){return function(){this.style.removeProperty(t)}}function Fwe(t,e,n){var r,i=n+"",a;return function(){var o=ef(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function qwe(t,e,n){var r,i,a;return function(){var o=ef(this,t),c=n(this),d=c+"";return c==null&&(d=c=(this.style.removeProperty(t),ef(this,t))),o===d?null:o===r&&d===i?a:(i=d,a=e(r=o,c))}}function Hwe(t,e){var n,r,i,a="style."+e,o="end."+a,c;return function(){var d=As(this,t),f=d.on,m=d.value[a]==null?c||(c=MB(e)):void 0;(f!==n||i!==m)&&(r=(n=f).copy()).on(o,i=m),d.on=r}}function Gwe(t,e,n){var r=(t+="")=="transform"?iwe:DB;return e==null?this.styleTween(t,zwe(t,r)).on("end.style."+t,MB(t)):typeof e=="function"?this.styleTween(t,qwe(t,r,bk(this,"style."+t,e))).each(Hwe(this._id,t)):this.styleTween(t,Fwe(t,r,e),n).on("end.style."+t,null)}function Kwe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Wwe(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Kwe(t,o,n)),r}return a._value=e,a}function Ywe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Wwe(t,e,n??""))}function Xwe(t){return function(){this.textContent=t}}function Qwe(t){return function(){var e=t(this);this.textContent=e??""}}function Zwe(t){return this.tween("text",typeof t=="function"?Qwe(bk(this,"text",t)):Xwe(t==null?"":t+""))}function Jwe(t){return function(e){this.textContent=t.call(this,e)}}function e_e(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Jwe(i)),e}return r._value=t,r}function t_e(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,e_e(t))}function n_e(){for(var t=this._name,e=this._id,n=LB(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],c=o.length,d,f=0;f<c;++f)if(d=o[f]){var m=Fa(d,e);sb(d,t,n,f,o,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new ko(r,this._parents,t,n)}function r_e(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var c={value:o},d={value:function(){--i===0&&a()}};n.each(function(){var f=As(this,r),m=f.on;m!==t&&(e=(t=m).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(d)),f.on=e}),i===0&&a()})}var i_e=0;function ko(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function LB(){return++i_e}var Ec=jp.prototype;ko.prototype={constructor:ko,select:Uwe,selectAll:Vwe,filter:Owe,merge:Iwe,selection:Bwe,transition:n_e,call:Ec.call,nodes:Ec.nodes,node:Ec.node,size:Ec.size,empty:Ec.empty,each:Ec.each,on:Dwe,attr:pwe,attrTween:bwe,style:Gwe,styleTween:Ywe,text:Zwe,textTween:t_e,remove:Lwe,tween:lwe,delay:Ewe,duration:Awe,ease:kwe,easeVarying:Cwe,end:r_e,[Symbol.iterator]:Ec[Symbol.iterator]};function a_e(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var s_e={time:null,delay:0,duration:250,ease:a_e};function o_e(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function l_e(t){var e,n;t instanceof ko?(e=t._id,t=t._name):(e=LB(),(n=s_e).time=vk(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],c=o.length,d,f=0;f<c;++f)(d=o[f])&&sb(d,t,e,f,o,n||o_e(d,e));return new ko(r,this._parents,t,e)}jp.prototype.interrupt=V1e;jp.prototype.transition=l_e;const P0=t=>()=>t;function c_e(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function co(t,e,n){this.k=t,this.x=e,this.y=n}co.prototype={constructor:co,scale:function(t){return t===1?this:new co(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new co(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var wk=new co(1,0,0);co.prototype;function A2(t){t.stopImmediatePropagation()}function $h(t){t.preventDefault(),t.stopImmediatePropagation()}function u_e(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function d_e(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function XD(){return this.__zoom||wk}function f_e(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function h_e(){return navigator.maxTouchPoints||"ontouchstart"in this}function m_e(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function p_e(){var t=u_e,e=d_e,n=m_e,r=f_e,i=h_e,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],c=250,d=O1e,f=mk("start","zoom","end"),m,g,v,x=500,w=150,T=0,E=10;function A(G){G.property("__zoom",XD).on("wheel.zoom",C).on("mousedown.zoom",M).on("dblclick.zoom",z).filter(i).on("touchstart.zoom",V).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}A.transform=function(G,W,U,K){var ee=G.selection?G.selection():G;ee.property("__zoom",XD),G!==ee?O(G,W,U,K):ee.interrupt().each(function(){L(this,arguments).event(K).start().zoom(null,typeof W=="function"?W.apply(this,arguments):W).end()})},A.scaleBy=function(G,W,U,K){A.scaleTo(G,function(){var ee=this.__zoom.k,Q=typeof W=="function"?W.apply(this,arguments):W;return ee*Q},U,K)},A.scaleTo=function(G,W,U,K){A.transform(G,function(){var ee=e.apply(this,arguments),Q=this.__zoom,$=U==null?D(ee):typeof U=="function"?U.apply(this,arguments):U,X=Q.invert($),J=typeof W=="function"?W.apply(this,arguments):W;return n(j(k(Q,J),$,X),ee,o)},U,K)},A.translateBy=function(G,W,U,K){A.transform(G,function(){return n(this.__zoom.translate(typeof W=="function"?W.apply(this,arguments):W,typeof U=="function"?U.apply(this,arguments):U),e.apply(this,arguments),o)},null,K)},A.translateTo=function(G,W,U,K,ee){A.transform(G,function(){var Q=e.apply(this,arguments),$=this.__zoom,X=K==null?D(Q):typeof K=="function"?K.apply(this,arguments):K;return n(wk.translate(X[0],X[1]).scale($.k).translate(typeof W=="function"?-W.apply(this,arguments):-W,typeof U=="function"?-U.apply(this,arguments):-U),Q,o)},K,ee)};function k(G,W){return W=Math.max(a[0],Math.min(a[1],W)),W===G.k?G:new co(W,G.x,G.y)}function j(G,W,U){var K=W[0]-U[0]*G.k,ee=W[1]-U[1]*G.k;return K===G.x&&ee===G.y?G:new co(G.k,K,ee)}function D(G){return[(+G[0][0]+ +G[1][0])/2,(+G[0][1]+ +G[1][1])/2]}function O(G,W,U,K){G.on("start.zoom",function(){L(this,arguments).event(K).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(K).end()}).tween("zoom",function(){var ee=this,Q=arguments,$=L(ee,Q).event(K),X=e.apply(ee,Q),J=U==null?D(X):typeof U=="function"?U.apply(ee,Q):U,ce=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),xe=ee.__zoom,be=typeof W=="function"?W.apply(ee,Q):W,Ne=d(xe.invert(J).concat(ce/xe.k),be.invert(J).concat(ce/be.k));return function(Fe){if(Fe===1)Fe=be;else{var Ie=Ne(Fe),pe=ce/Ie[2];Fe=new co(pe,J[0]-Ie[0]*pe,J[1]-Ie[1]*pe)}$.zoom(null,Fe)}})}function L(G,W,U){return!U&&G.__zooming||new P(G,W)}function P(G,W){this.that=G,this.args=W,this.active=0,this.sourceEvent=null,this.extent=e.apply(G,W),this.taps=0}P.prototype={event:function(G){return G&&(this.sourceEvent=G),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(G,W){return this.mouse&&G!=="mouse"&&(this.mouse[1]=W.invert(this.mouse[0])),this.touch0&&G!=="touch"&&(this.touch0[1]=W.invert(this.touch0[0])),this.touch1&&G!=="touch"&&(this.touch1[1]=W.invert(this.touch1[0])),this.that.__zoom=W,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(G){var W=io(this.that).datum();f.call(G,this.that,new c_e(G,{sourceEvent:this.sourceEvent,target:A,transform:this.that.__zoom,dispatch:f}),W)}};function C(G,...W){if(!t.apply(this,arguments))return;var U=L(this,W).event(G),K=this.__zoom,ee=Math.max(a[0],Math.min(a[1],K.k*Math.pow(2,r.apply(this,arguments)))),Q=_c(G);if(U.wheel)(U.mouse[0][0]!==Q[0]||U.mouse[0][1]!==Q[1])&&(U.mouse[1]=K.invert(U.mouse[0]=Q)),clearTimeout(U.wheel);else{if(K.k===ee)return;U.mouse=[Q,K.invert(Q)],rv(this),U.start()}$h(G),U.wheel=setTimeout($,w),U.zoom("mouse",n(j(k(K,ee),U.mouse[0],U.mouse[1]),U.extent,o));function $(){U.wheel=null,U.end()}}function M(G,...W){if(v||!t.apply(this,arguments))return;var U=L(this,W,!0).event(G),K=io(G.view).on("mousemove.zoom",J,!0).on("mouseup.zoom",ce,!0),ee=_c(G,Q),Q=G.currentTarget,$=G.clientX,X=G.clientY;A1e(G.view),A2(G),U.mouse=[ee,this.__zoom.invert(ee)],rv(this),U.start();function J(xe){if($h(xe),!U.moved){var be=xe.clientX-$,Ne=xe.clientY-X;U.moved=be*be+Ne*Ne>T}U.event(xe).zoom("mouse",n(j(U.that.__zoom,U.mouse[0]=_c(xe,Q),U.mouse[1]),U.extent,o))}function ce(xe){K.on("mousemove.zoom mouseup.zoom",null),N1e(xe.view,U.moved),$h(xe),U.event(xe).end()}}function z(G,...W){if(t.apply(this,arguments)){var U=this.__zoom,K=_c(G.changedTouches?G.changedTouches[0]:G,this),ee=U.invert(K),Q=U.k*(G.shiftKey?.5:2),$=n(j(k(U,Q),K,ee),e.apply(this,W),o);$h(G),c>0?io(this).transition().duration(c).call(O,$,K,G):io(this).call(A.transform,$,K,G)}}function V(G,...W){if(t.apply(this,arguments)){var U=G.touches,K=U.length,ee=L(this,W,G.changedTouches.length===K).event(G),Q,$,X,J;for(A2(G),$=0;$<K;++$)X=U[$],J=_c(X,this),J=[J,this.__zoom.invert(J),X.identifier],ee.touch0?!ee.touch1&&ee.touch0[2]!==J[2]&&(ee.touch1=J,ee.taps=0):(ee.touch0=J,Q=!0,ee.taps=1+!!m);m&&(m=clearTimeout(m)),Q&&(ee.taps<2&&(g=J[0],m=setTimeout(function(){m=null},x)),rv(this),ee.start())}}function H(G,...W){if(this.__zooming){var U=L(this,W).event(G),K=G.changedTouches,ee=K.length,Q,$,X,J;for($h(G),Q=0;Q<ee;++Q)$=K[Q],X=_c($,this),U.touch0&&U.touch0[2]===$.identifier?U.touch0[0]=X:U.touch1&&U.touch1[2]===$.identifier&&(U.touch1[0]=X);if($=U.that.__zoom,U.touch1){var ce=U.touch0[0],xe=U.touch0[1],be=U.touch1[0],Ne=U.touch1[1],Fe=(Fe=be[0]-ce[0])*Fe+(Fe=be[1]-ce[1])*Fe,Ie=(Ie=Ne[0]-xe[0])*Ie+(Ie=Ne[1]-xe[1])*Ie;$=k($,Math.sqrt(Fe/Ie)),X=[(ce[0]+be[0])/2,(ce[1]+be[1])/2],J=[(xe[0]+Ne[0])/2,(xe[1]+Ne[1])/2]}else if(U.touch0)X=U.touch0[0],J=U.touch0[1];else return;U.zoom("touch",n(j($,X,J),U.extent,o))}}function q(G,...W){if(this.__zooming){var U=L(this,W).event(G),K=G.changedTouches,ee=K.length,Q,$;for(A2(G),v&&clearTimeout(v),v=setTimeout(function(){v=null},x),Q=0;Q<ee;++Q)$=K[Q],U.touch0&&U.touch0[2]===$.identifier?delete U.touch0:U.touch1&&U.touch1[2]===$.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&($=_c($,this),Math.hypot(g[0]-$[0],g[1]-$[1])<E)){var X=io(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return A.wheelDelta=function(G){return arguments.length?(r=typeof G=="function"?G:P0(+G),A):r},A.filter=function(G){return arguments.length?(t=typeof G=="function"?G:P0(!!G),A):t},A.touchable=function(G){return arguments.length?(i=typeof G=="function"?G:P0(!!G),A):i},A.extent=function(G){return arguments.length?(e=typeof G=="function"?G:P0([[+G[0][0],+G[0][1]],[+G[1][0],+G[1][1]]]),A):e},A.scaleExtent=function(G){return arguments.length?(a[0]=+G[0],a[1]=+G[1],A):[a[0],a[1]]},A.translateExtent=function(G){return arguments.length?(o[0][0]=+G[0][0],o[1][0]=+G[1][0],o[0][1]=+G[0][1],o[1][1]=+G[1][1],A):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},A.constrain=function(G){return arguments.length?(n=G,A):n},A.duration=function(G){return arguments.length?(c=+G,A):c},A.interpolate=function(G){return arguments.length?(d=G,A):d},A.on=function(){var G=f.on.apply(f,arguments);return G===f?A:G},A.clickDistance=function(G){return arguments.length?(T=(G=+G)*G,A):Math.sqrt(T)},A.tapDistance=function(G){return arguments.length?(E=+G,A):E},A}function QD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QD(Object(n),!0).forEach(function(r){g_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PS(t){"@babel/helpers - typeof";return PS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PS(t)}function g_e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fi(){return fi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fi.apply(this,arguments)}function v_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pa(t,e){if(t==null)return{};var n=v_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gr(t,e){return y_e(t)||x_e(t,e)||b_e(t,e)||w_e()}function y_e(t){if(Array.isArray(t))return t}function x_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,o,c;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(d){a=!0,c=d}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw c}}return r}}function b_e(t,e){if(t){if(typeof t=="string")return ZD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZD(t,e)}}function ZD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var __e=["width","height","projection","projectionConfig"],E_e=iB,S_e=pa(Uxe,["geoPath"]),Ns=S.createContext(),T_e=function(e){var n=e.projectionConfig,r=n===void 0?{}:n,i=e.projection,a=i===void 0?"geoEqualEarth":i,o=e.width,c=o===void 0?800:o,d=e.height,f=d===void 0?600:d,m=typeof a=="function";if(m)return a;var g=S_e[a]().translate([c/2,f/2]),v=[g.center?"center":null,g.rotate?"rotate":null,g.scale?"scale":null,g.parallels?"parallels":null];return v.forEach(function(x){x&&(g=g[x](r[x]||g[x]()))}),g},UB=function(e){var n=e.width,r=e.height,i=e.projection,a=e.projectionConfig,o=pa(e,__e),c=a.center||[],d=gr(c,2),f=d[0],m=d[1],g=a.rotate||[],v=gr(g,3),x=v[0],w=v[1],T=v[2],E=a.parallels||[],A=gr(E,2),k=A[0],j=A[1],D=a.scale||null,O=S.useMemo(function(){return T_e({projectionConfig:{center:f||f===0||m||m===0?[f,m]:null,rotate:x||x===0||w||w===0?[x,w,T]:null,parallels:k||k===0||j||j===0?[k,j]:null,scale:D},projection:i,width:n,height:r})},[n,r,i,f,m,x,w,T,k,j,D]),L=S.useCallback(O,[O]),P=S.useMemo(function(){return{width:n,height:r,projection:L,path:E_e().projection(L)}},[n,r,L]);return Ct.createElement(Ns.Provider,fi({value:P},o))};UB.propTypes={width:Ae.number,height:Ae.number,projection:Ae.oneOfType([Ae.string,Ae.func]),projectionConfig:Ae.object};var A_e=["width","height","projection","projectionConfig","className"],_k=S.forwardRef(function(t,e){var n=t.width,r=n===void 0?800:n,i=t.height,a=i===void 0?600:i,o=t.projection,c=o===void 0?"geoEqualEarth":o,d=t.projectionConfig,f=d===void 0?{}:d,m=t.className,g=m===void 0?"":m,v=pa(t,A_e);return Ct.createElement(UB,{width:r,height:a,projection:c,projectionConfig:f},Ct.createElement("svg",fi({ref:e,viewBox:"0 0 ".concat(r," ").concat(a),className:"rsm-svg ".concat(g)},v)))});_k.displayName="ComposableMap";_k.propTypes={width:Ae.number,height:Ae.number,projection:Ae.oneOfType([Ae.string,Ae.func]),projectionConfig:Ae.object,className:Ae.string};function JD(t,e,n){var r=(t*n.k-t)/2,i=(e*n.k-e)/2;return[t/2-(r+n.x)/n.k,e/2-(i+n.y)/n.k]}function N_e(t){return fetch(t).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){console.log("There was a problem when fetching the data: ",e)})}function e6(t,e){var n=t.type==="Topology";if(!n)return e?e(t.features||t):t.features||t;var r=zxe(t,t.objects[Object.keys(t.objects)[0]]).features;return e?e(r):r}function t6(t){var e=t.type==="Topology";if(!e)return null;var n=RD(t,t.objects[Object.keys(t.objects)[0]],function(i,a){return i===a}),r=RD(t,t.objects[Object.keys(t.objects)[0]],function(i,a){return i!==a});return{outline:n,borders:r}}function k_e(t,e,n){return t&&e?{outline:xd(xd({},t),{},{rsmKey:"outline",svgPath:n(t)}),borders:xd(xd({},e),{},{rsmKey:"borders",svgPath:n(e)})}:{}}function j_e(t,e){return t?t.map(function(n,r){return xd(xd({},n),{},{rsmKey:"geo-".concat(r),svgPath:e(n)})}):[]}function C_e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,r=Array.isArray(n)?n:[n,n],i=t/2*r[0],a=e/2*r[1];return"M".concat(0,",",0," Q",-t/2-i,",").concat(-e/2+a," ").concat(-t,",").concat(-e)}function O_e(t){return typeof t=="string"}function I_e(t){var e=t.geography,n=t.parseGeographies,r=S.useContext(Ns),i=r.path,a=S.useState({}),o=gr(a,2),c=o[0],d=o[1];S.useEffect(function(){(typeof window>"u"?"undefined":PS(window))!=="undefined"&&e&&(O_e(e)?N_e(e).then(function(x){x&&d({geographies:e6(x,n),mesh:t6(x)})}):d({geographies:e6(e,n),mesh:t6(e)}))},[e,n]);var f=S.useMemo(function(){var x=c.mesh||{},w=k_e(x.outline,x.borders,i);return{geographies:j_e(c.geographies,i),outline:w.outline,borders:w.borders}},[c,i]),m=f.geographies,g=f.outline,v=f.borders;return{geographies:m,outline:g,borders:v}}var R_e=["geography","children","parseGeographies","className"],Ek=S.forwardRef(function(t,e){var n=t.geography,r=t.children,i=t.parseGeographies,a=t.className,o=a===void 0?"":a,c=pa(t,R_e),d=S.useContext(Ns),f=d.path,m=d.projection,g=I_e({geography:n,parseGeographies:i}),v=g.geographies,x=g.outline,w=g.borders;return Ct.createElement("g",fi({ref:e,className:"rsm-geographies ".concat(o)},c),v&&v.length>0&&r({geographies:v,outline:x,borders:w,path:f,projection:m}))});Ek.displayName="Geographies";Ek.propTypes={geography:Ae.oneOfType([Ae.string,Ae.object,Ae.array]),children:Ae.func,parseGeographies:Ae.func,className:Ae.string};var P_e=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],Sk=S.forwardRef(function(t,e){var n=t.geography,r=t.onMouseEnter,i=t.onMouseLeave,a=t.onMouseDown,o=t.onMouseUp,c=t.onFocus,d=t.onBlur,f=t.style,m=f===void 0?{}:f,g=t.className,v=g===void 0?"":g,x=pa(t,P_e),w=S.useState(!1),T=gr(w,2),E=T[0],A=T[1],k=S.useState(!1),j=gr(k,2),D=j[0],O=j[1];function L(H){O(!0),r&&r(H)}function P(H){O(!1),E&&A(!1),i&&i(H)}function C(H){O(!0),c&&c(H)}function M(H){O(!1),E&&A(!1),d&&d(H)}function z(H){A(!0),a&&a(H)}function V(H){A(!1),o&&o(H)}return Ct.createElement("path",fi({ref:e,tabIndex:"0",className:"rsm-geography ".concat(v),d:n.svgPath,onMouseEnter:L,onMouseLeave:P,onFocus:C,onBlur:M,onMouseDown:z,onMouseUp:V,style:m[E||D?E?"pressed":"hover":"default"]},x))});Sk.displayName="Geography";Sk.propTypes={geography:Ae.object,onMouseEnter:Ae.func,onMouseLeave:Ae.func,onMouseDown:Ae.func,onMouseUp:Ae.func,onFocus:Ae.func,onBlur:Ae.func,style:Ae.object,className:Ae.string};var D_e=S.memo(Sk),M_e=["fill","stroke","step","className"],Tk=S.forwardRef(function(t,e){var n=t.fill,r=n===void 0?"transparent":n,i=t.stroke,a=i===void 0?"currentcolor":i,o=t.step,c=o===void 0?[10,10]:o,d=t.className,f=d===void 0?"":d,m=pa(t,M_e),g=S.useContext(Ns),v=g.path;return Ct.createElement("path",fi({ref:e,d:v(JN().step(c)()),fill:r,stroke:a,className:"rsm-graticule ".concat(f)},m))});Tk.displayName="Graticule";Tk.propTypes={fill:Ae.string,stroke:Ae.string,step:Ae.array,className:Ae.string};S.memo(Tk);var L_e=["value"],U_e=S.createContext(),V_e={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},VB=function(e){var n=e.value,r=n===void 0?V_e:n,i=pa(e,L_e);return Ct.createElement(U_e.Provider,fi({value:r},i))};VB.propTypes={x:Ae.number,y:Ae.number,k:Ae.number,transformString:Ae.string};function $_e(t){var e=t.center,n=t.filterZoomEvent,r=t.onMoveStart,i=t.onMoveEnd,a=t.onMove,o=t.translateExtent,c=o===void 0?[[-1/0,-1/0],[1/0,1/0]]:o,d=t.scaleExtent,f=d===void 0?[1,8]:d,m=t.zoom,g=m===void 0?1:m,v=S.useContext(Ns),x=v.width,w=v.height,T=v.projection,E=gr(e,2),A=E[0],k=E[1],j=S.useState({x:0,y:0,k:1}),D=gr(j,2),O=D[0],L=D[1],P=S.useRef({x:0,y:0,k:1}),C=S.useRef(),M=S.useRef(),z=S.useRef(!1),V=gr(c,2),H=V[0],q=V[1],G=gr(H,2),W=G[0],U=G[1],K=gr(q,2),ee=K[0],Q=K[1],$=gr(f,2),X=$[0],J=$[1];return S.useEffect(function(){var ce=io(C.current);function xe(pe){!r||z.current||r({coordinates:T.invert(JD(x,w,pe.transform)),zoom:pe.transform.k},pe)}function be(pe){if(!z.current){var Ee=pe.transform,re=pe.sourceEvent;L({x:Ee.x,y:Ee.y,k:Ee.k,dragging:re}),a&&a({x:Ee.x,y:Ee.y,zoom:Ee.k,dragging:re},pe)}}function Ne(pe){if(z.current){z.current=!1;return}var Ee=T.invert(JD(x,w,pe.transform)),re=gr(Ee,2),se=re[0],_e=re[1];P.current={x:se,y:_e,k:pe.transform.k},i&&i({coordinates:[se,_e],zoom:pe.transform.k},pe)}function Fe(pe){return n?n(pe):pe?!pe.ctrlKey&&!pe.button:!1}var Ie=p_e().filter(Fe).scaleExtent([X,J]).translateExtent([[W,U],[ee,Q]]).on("start",xe).on("zoom",be).on("end",Ne);M.current=Ie,ce.call(Ie)},[x,w,W,U,ee,Q,X,J,T,r,a,i,n]),S.useEffect(function(){if(!(A===P.current.x&&k===P.current.y&&g===P.current.k)){var ce=T([A,k]),xe=ce[0]*g,be=ce[1]*g,Ne=io(C.current);z.current=!0,Ne.call(M.current.transform,wk.translate(x/2-xe,w/2-be).scale(g)),L({x:x/2-xe,y:w/2-be,k:g}),P.current={x:A,y:k,k:g}}},[A,k,g,x,w,T]),{mapRef:C,position:O,transformString:"translate(".concat(O.x," ").concat(O.y,") scale(").concat(O.k,")")}}var B_e=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],$B=S.forwardRef(function(t,e){var n=t.center,r=n===void 0?[0,0]:n,i=t.zoom,a=i===void 0?1:i,o=t.minZoom,c=o===void 0?1:o,d=t.maxZoom,f=d===void 0?8:d,m=t.translateExtent,g=t.filterZoomEvent,v=t.onMoveStart,x=t.onMove,w=t.onMoveEnd,T=t.className,E=pa(t,B_e),A=S.useContext(Ns),k=A.width,j=A.height,D=$_e({center:r,filterZoomEvent:g,onMoveStart:v,onMove:x,onMoveEnd:w,scaleExtent:[c,f],translateExtent:m,zoom:a}),O=D.mapRef,L=D.transformString,P=D.position;return Ct.createElement(VB,{value:{x:P.x,y:P.y,k:P.k,transformString:L}},Ct.createElement("g",{ref:O},Ct.createElement("rect",{width:k,height:j,fill:"transparent"}),Ct.createElement("g",fi({ref:e,transform:L,className:"rsm-zoomable-group ".concat(T)},E))))});$B.displayName="ZoomableGroup";$B.propTypes={center:Ae.array,zoom:Ae.number,minZoom:Ae.number,maxZoom:Ae.number,translateExtent:Ae.arrayOf(Ae.array),onMoveStart:Ae.func,onMove:Ae.func,onMoveEnd:Ae.func,className:Ae.string};var z_e=["id","fill","stroke","strokeWidth","className"],Ak=S.forwardRef(function(t,e){var n=t.id,r=n===void 0?"rsm-sphere":n,i=t.fill,a=i===void 0?"transparent":i,o=t.stroke,c=o===void 0?"currentcolor":o,d=t.strokeWidth,f=d===void 0?.5:d,m=t.className,g=m===void 0?"":m,v=pa(t,z_e),x=S.useContext(Ns),w=x.path,T=S.useMemo(function(){return w({type:"Sphere"})},[w]);return Ct.createElement(S.Fragment,null,Ct.createElement("defs",null,Ct.createElement("clipPath",{id:r},Ct.createElement("path",{d:T}))),Ct.createElement("path",fi({ref:e,d:T,fill:a,stroke:c,strokeWidth:f,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(g)},v)))});Ak.displayName="Sphere";Ak.propTypes={id:Ae.string,fill:Ae.string,stroke:Ae.string,strokeWidth:Ae.number,className:Ae.string};S.memo(Ak);var F_e=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],BB=S.forwardRef(function(t,e){var n=t.coordinates,r=t.children,i=t.onMouseEnter,a=t.onMouseLeave,o=t.onMouseDown,c=t.onMouseUp,d=t.onFocus,f=t.onBlur,m=t.style,g=m===void 0?{}:m,v=t.className,x=v===void 0?"":v,w=pa(t,F_e),T=S.useContext(Ns),E=T.projection,A=S.useState(!1),k=gr(A,2),j=k[0],D=k[1],O=S.useState(!1),L=gr(O,2),P=L[0],C=L[1],M=E(n),z=gr(M,2),V=z[0],H=z[1];function q(Q){C(!0),i&&i(Q)}function G(Q){C(!1),j&&D(!1),a&&a(Q)}function W(Q){C(!0),d&&d(Q)}function U(Q){C(!1),j&&D(!1),f&&f(Q)}function K(Q){D(!0),o&&o(Q)}function ee(Q){D(!1),c&&c(Q)}return Ct.createElement("g",fi({ref:e,transform:"translate(".concat(V,", ").concat(H,")"),className:"rsm-marker ".concat(x),onMouseEnter:q,onMouseLeave:G,onFocus:W,onBlur:U,onMouseDown:K,onMouseUp:ee,style:g[j||P?j?"pressed":"hover":"default"]},w),r)});BB.displayName="Marker";BB.propTypes={coordinates:Ae.array,children:Ae.oneOfType([Ae.node,Ae.arrayOf(Ae.node)]),onMouseEnter:Ae.func,onMouseLeave:Ae.func,onMouseDown:Ae.func,onMouseUp:Ae.func,onFocus:Ae.func,onBlur:Ae.func,style:Ae.object,className:Ae.string};var q_e=["from","to","coordinates","stroke","strokeWidth","fill","className"],zB=S.forwardRef(function(t,e){var n=t.from,r=n===void 0?[0,0]:n,i=t.to,a=i===void 0?[0,0]:i,o=t.coordinates,c=t.stroke,d=c===void 0?"currentcolor":c,f=t.strokeWidth,m=f===void 0?3:f,g=t.fill,v=g===void 0?"transparent":g,x=t.className,w=x===void 0?"":x,T=pa(t,q_e),E=S.useContext(Ns),A=E.path,k={type:"LineString",coordinates:o||[r,a]};return Ct.createElement("path",fi({ref:e,d:A(k),className:"rsm-line ".concat(w),stroke:d,strokeWidth:m,fill:v},T))});zB.displayName="Line";zB.propTypes={from:Ae.array,to:Ae.array,coordinates:Ae.array,stroke:Ae.string,strokeWidth:Ae.number,fill:Ae.string,className:Ae.string};var H_e=["subject","children","connectorProps","dx","dy","curve","className"],FB=S.forwardRef(function(t,e){var n=t.subject,r=t.children,i=t.connectorProps,a=t.dx,o=a===void 0?30:a,c=t.dy,d=c===void 0?30:c,f=t.curve,m=f===void 0?0:f,g=t.className,v=g===void 0?"":g,x=pa(t,H_e),w=S.useContext(Ns),T=w.projection,E=T(n),A=gr(E,2),k=A[0],j=A[1],D=C_e(o,d,m);return Ct.createElement("g",fi({ref:e,transform:"translate(".concat(k+o,", ").concat(j+d,")"),className:"rsm-annotation ".concat(v)},x),Ct.createElement("path",fi({d:D,fill:"transparent",stroke:"#000"},i)),r)});FB.displayName="Annotation";FB.propTypes={subject:Ae.array,children:Ae.oneOfType([Ae.node,Ae.arrayOf(Ae.node)]),dx:Ae.number,dy:Ae.number,curve:Ae.number,connectorProps:Ae.object,className:Ae.string};const G_e="https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json";function K_e({data:t}){const[e,n]=S.useState(null),[r,i]=S.useState(!1);S.useEffect(()=>{const m=window.matchMedia("(prefers-color-scheme: dark)"),g=()=>i(document.documentElement.classList.contains("dark")||m.matches);g();const v=new MutationObserver(g);return v.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>v.disconnect()},[]);const a=t.reduce((m,g)=>{const v=g.countryCode||g.country||"unknown";return m[v]=(m[v]||0)+(g.count||1),m},{}),o=Math.max(...Object.values(a),1),c={US:"840",CA:"124",GB:"826",DE:"276",FR:"250",IT:"380",ES:"724",BR:"076",RU:"643",CN:"156",IN:"356",JP:"392",AU:"036",TR:"792",EG:"818",ZA:"710",MX:"484",AR:"032",KR:"410",TH:"764"},d=(m,g)=>{const v=Object.keys(c).find(T=>c[T]===m);if(!v||!a[v])return r?"#44403c":"#d6d3d1";const w=a[v]/o;return w>.8?"#ea580c":w>.6?"#f97316":w>.4?"#fb923c":w>.2?"#fdba74":"#fed7aa"},f=(m,g)=>{const v=Object.keys(c).find(x=>c[x]===m);return!v||!a[v]?null:{code:v,name:(g==null?void 0:g.name)||v,count:a[v]}};return!t||t.length===0?u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-stone-400 dark:text-stone-500 text-sm",children:"Not enough data yet"}),u.jsx("div",{className:"text-stone-300 dark:text-stone-600 text-xs mt-1",children:"Start getting conversations to see insights"})]})}):u.jsx("div",{className:"h-full",children:u.jsxs("div",{className:"relative h-full",children:[u.jsx(_k,{projection:"geoNaturalEarth1",projectionConfig:{scale:140,center:[0,0]},width:800,height:400,className:"w-full h-full",children:u.jsx(Ek,{geography:G_e,children:({geographies:m})=>m.map(g=>{const v=f(g.id,g.properties);return u.jsx(D_e,{geography:g,fill:d(g.id,g.properties),stroke:r?"#57534e":"#ffffff",strokeWidth:.5,onMouseEnter:()=>{v&&n(v.code)},onMouseLeave:()=>n(null),style:{default:{outline:"none",cursor:v?"pointer":"default"},hover:{outline:"none",filter:v?"brightness(1.1)":"none"},pressed:{outline:"none"}}},g.rsmKey)})})}),e&&u.jsxs("div",{className:"absolute top-3 left-3 bg-black/80 backdrop-blur-sm rounded-md px-2 py-1 pointer-events-none",children:[u.jsx("div",{className:"text-sm font-medium text-white",children:e}),u.jsxs("div",{className:"text-xs text-gray-300",children:[a[e]," users"]})]}),u.jsx("div",{className:"absolute bottom-3 left-3 bg-black/70 backdrop-blur-sm rounded-md px-2 py-2",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 bg-orange-200 rounded-full"}),u.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),u.jsx("div",{className:"w-2 h-2 bg-orange-600 rounded-full"}),u.jsx("span",{className:"text-xs text-white ml-1",children:"Activity"})]})}),u.jsxs("div",{className:"absolute top-3 right-3 bg-black/80 backdrop-blur-sm rounded-md px-3 py-2",children:[u.jsx("div",{className:"text-lg font-bold text-white",children:Object.values(a).reduce((m,g)=>m+g,0)}),u.jsx("div",{className:"text-xs text-gray-300",children:"users"})]})]})})}function W_e({data:t={}}){const[e,n]=S.useState(!1);S.useEffect(()=>{const c=window.matchMedia("(prefers-color-scheme: dark)"),d=()=>n(document.documentElement.classList.contains("dark")||c.matches);d();const f=new MutationObserver(d);return f.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>f.disconnect()},[]);const r=Object.entries(t).map(([c,d])=>({category:c.toUpperCase(),count:d})).filter(c=>c.count>0),i=r.reduce((c,d)=>c+d.count,0),a=r.map(c=>({category:c.category,count:c.count,percentage:i>0?(c.count/i*100).toFixed(1):0,fill:"rgba(249, 115, 22, 1)"})),o=({active:c,payload:d})=>{if(c&&d&&d.length){const f=d[0].payload;return u.jsxs("div",{className:"backdrop-blur-sm rounded-lg shadow-xl p-3",style:{backgroundColor:e?"#1c1917":"#f5f5f4",border:`1px solid ${e?"#44403c":"#e7e5e4"}`},children:[u.jsx("p",{className:"text-sm font-semibold",style:{color:e?"#fafaf9":"#1c1917"},children:f.category}),u.jsxs("p",{className:"text-xs mt-1",style:{color:"#f97316"},children:[f.count," sessions (",f.percentage,"%)"]})]})}return null};return i===0?u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-stone-400 dark:text-stone-500 text-sm",children:"Not enough data yet"}),u.jsx("div",{className:"text-stone-300 dark:text-stone-600 text-xs mt-1",children:"Start getting conversations to see insights"})]})}):u.jsxs("div",{className:"h-full w-full relative",children:[u.jsx("style",{children:`
        .category-bar {
          transition: fill 0.2s ease;
        }
        .category-bar:hover {
          fill: rgba(249, 115, 22, 0.2) !important;
        }
      `}),u.jsx(Es,{width:"100%",height:"100%",children:u.jsxs(Ef,{data:a,layout:"vertical",margin:{left:0,right:60,top:5,bottom:5},children:[u.jsx(To,{type:"number",hide:!0}),u.jsx(Ao,{type:"category",dataKey:"category",hide:!0}),u.jsx(_s,{content:u.jsx(o,{}),cursor:!1}),u.jsxs(Ra,{dataKey:"count",radius:10,barSize:40,children:[a.map((c,d)=>u.jsx(ma,{fill:c.fill,className:"category-bar",style:{transition:"fill 0.2s ease"}},`cell-${d}`)),u.jsx(gs,{dataKey:"category",position:"insideLeft",offset:8,className:"category-label",style:{fill:e?"#ffffff":"#1c1917",fontSize:12,fontWeight:600}})]})]})}),u.jsx("div",{className:"absolute right-2 top-0 bottom-0 flex flex-col justify-around py-1",children:a.map((c,d)=>u.jsx("div",{className:"flex items-center h-[40px]",children:u.jsx("span",{className:"text-xs font-semibold",style:{color:e?"#f5f5f4":"#292524"},children:c.count})},d))})]})}function Y_e({data:t={}}){const[e,n]=S.useState(!1);S.useEffect(()=>{const c=window.matchMedia("(prefers-color-scheme: dark)"),d=()=>n(document.documentElement.classList.contains("dark")||c.matches);d();const f=new MutationObserver(d);return f.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>f.disconnect()},[]);const r=Object.entries(t).map(([c,d])=>({category:c.charAt(0).toUpperCase()+c.slice(1),count:d})).filter(c=>c.count>0),i=r.reduce((c,d)=>c+d.count,0),a=r.map(c=>({category:c.category,count:c.count,percentage:i>0?(c.count/i*100).toFixed(1):0,fill:"rgba(249, 115, 22, 1)"})),o=({active:c,payload:d})=>{if(c&&d&&d.length){const f=d[0].payload;return u.jsxs("div",{className:"backdrop-blur-sm rounded-lg shadow-xl p-3",style:{backgroundColor:e?"#1c1917":"#f5f5f4",border:`1px solid ${e?"#44403c":"#e7e5e4"}`},children:[u.jsx("p",{className:"text-sm font-semibold capitalize",style:{color:e?"#fafaf9":"#1c1917"},children:f.category}),u.jsxs("p",{className:"text-xs mt-1",style:{color:"#f97316"},children:[f.count," sessions (",f.percentage,"%)"]})]})}return null};return i===0?u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-stone-400 dark:text-stone-500 text-sm",children:"Not enough data yet"}),u.jsx("div",{className:"text-stone-300 dark:text-stone-600 text-xs mt-1",children:"Start getting conversations to see insights"})]})}):u.jsxs("div",{className:"h-full w-full relative",children:[u.jsx("style",{children:`
        .category-bar {
          transition: fill 0.2s ease;
        }
        .category-bar:hover {
          fill: rgba(249, 115, 22, 0.2) !important;
        }
      `}),u.jsx(Es,{width:"100%",height:"100%",children:u.jsxs(Ef,{data:a,layout:"vertical",margin:{left:0,right:60,top:5,bottom:5},children:[u.jsx(To,{type:"number",hide:!0}),u.jsx(Ao,{type:"category",dataKey:"category",hide:!0}),u.jsx(_s,{content:u.jsx(o,{}),cursor:!1}),u.jsxs(Ra,{dataKey:"count",radius:10,barSize:40,children:[a.map((c,d)=>u.jsx(ma,{fill:c.fill,className:"category-bar",style:{transition:"fill 0.2s ease"}},`cell-${d}`)),u.jsx(gs,{dataKey:"category",position:"insideLeft",offset:8,className:"category-label",style:{fill:e?"#ffffff":"#1c1917",fontSize:12,fontWeight:600,textTransform:"capitalize"}})]})]})}),u.jsx("div",{className:"absolute right-2 top-0 bottom-0 flex flex-col justify-around py-1",children:a.map((c,d)=>u.jsx("div",{className:"flex items-center h-[40px]",children:u.jsx("span",{className:"text-xs font-semibold",style:{color:e?"#f5f5f4":"#292524"},children:c.count})},d))})]})}function X_e({data:t={}}){const[e,n]=S.useState(!1);S.useEffect(()=>{const c=window.matchMedia("(prefers-color-scheme: dark)"),d=()=>n(document.documentElement.classList.contains("dark")||c.matches);d();const f=new MutationObserver(d);return f.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>f.disconnect()},[]);const r=Object.entries(t).map(([c,d])=>({name:c.charAt(0).toUpperCase()+c.slice(1),value:d,device:c})).filter(c=>c.value>0),i=r.reduce((c,d)=>c+d.value,0),a=r.map((c,d)=>{const f=1+d*.3;return{...c,fill:`rgba(249, 115, 22, ${f})`}}),o=({active:c,payload:d})=>{if(c&&d&&d.length){const f=d[0],m=(f.value/i*100).toFixed(1);return u.jsxs("div",{className:"backdrop-blur-sm rounded-lg shadow-xl p-3",style:{backgroundColor:e?"#1c1917":"#f5f5f4",border:`1px solid ${e?"#44403c":"#e7e5e4"}`},children:[u.jsx("p",{className:"text-sm font-semibold capitalize",style:{color:e?"#fafaf9":"#1c1917"},children:f.name}),u.jsxs("p",{className:"text-xs mt-1",style:{color:"#f97316"},children:[f.value," sessions (",m,"%)"]})]})}return null};return i===0?u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-stone-400 dark:text-stone-500 text-sm",children:"Not enough data yet"}),u.jsx("div",{className:"text-stone-300 dark:text-stone-600 text-xs mt-1",children:"Start getting conversations to see insights"})]})}):u.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center",children:[u.jsx(Es,{width:"100%",height:"85%",children:u.jsxs(S$,{children:[u.jsx(BN,{data:a,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:2,dataKey:"value",children:a.map((c,d)=>u.jsx(ma,{fill:c.fill,stroke:e?"#292524":"#fafaf9",strokeWidth:2},`cell-${d}`))}),u.jsx(_s,{content:u.jsx(o,{})})]})}),u.jsx("div",{className:"flex gap-4 justify-center mt-2",children:a.map((c,d)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:c.fill}}),u.jsxs("span",{className:"text-xs font-medium text-stone-700 dark:text-stone-300",children:[c.name,": ",c.value]})]},d))})]})}function Q_e({data:t=[]}){const[e,n]=S.useState(!1);S.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>n(document.documentElement.classList.contains("dark")||o.matches);c();const d=new MutationObserver(c);return d.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>d.disconnect()},[]);const r=t.reduce((o,c)=>o+(c.value||0),0),i=t.map((o,c)=>{const d=1+c*.3;return{...o,fill:`rgba(249, 115, 22, ${d})`}}),a=({active:o,payload:c})=>{if(o&&c&&c.length){const d=c[0],f=r>0?(d.value/r*100).toFixed(1):0;return u.jsxs("div",{className:"backdrop-blur-sm rounded-lg shadow-xl p-3",style:{backgroundColor:e?"#1c1917":"#f5f5f4",border:`1px solid ${e?"#44403c":"#e7e5e4"}`},children:[u.jsx("p",{className:"text-sm font-semibold",style:{color:e?"#fafaf9":"#1c1917"},children:d.name}),u.jsxs("p",{className:"text-xs mt-1",style:{color:"#f97316"},children:[d.value," users (",f,"%)"]})]})}return null};return r===0?u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-stone-400 dark:text-stone-500 text-sm",children:"Not enough data yet"}),u.jsx("div",{className:"text-stone-300 dark:text-stone-600 text-xs mt-1",children:"Start getting conversations to see insights"})]})}):u.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center",children:[u.jsx(Es,{width:"100%",height:"85%",children:u.jsxs(S$,{children:[u.jsx(BN,{data:i,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:2,dataKey:"value",children:i.map((o,c)=>u.jsx(ma,{fill:o.fill,stroke:e?"#292524":"#fafaf9",strokeWidth:2},`cell-${c}`))}),u.jsx(_s,{content:u.jsx(a,{})})]})}),u.jsx("div",{className:"flex gap-4 justify-center mt-2",children:i.map((o,c)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:o.fill}}),u.jsxs("span",{className:"text-xs font-medium text-stone-700 dark:text-stone-300",children:[o.name,": ",o.value]})]},c))})]})}function Z_e({gap:t,isOpen:e,onClose:n,onSubmit:r}){const[i,a]=S.useState(""),[o,c]=S.useState(!1);if(!e||!t)return null;const d=async f=>{if(f.preventDefault(),!!i.trim()){c(!0);try{await r(t,i),a(""),n()}catch(m){console.error("Error submitting answer:",m)}finally{c(!1)}}};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white dark:bg-stone-900 rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden border border-stone-200 dark:border-stone-800",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-stone-200 dark:border-stone-800",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Nm,{className:"w-5 h-5 text-orange-600"}),u.jsx("h2",{className:"text-lg font-semibold text-stone-900 dark:text-stone-50",children:"Fill Knowledge Gap"})]}),u.jsx("button",{onClick:n,className:"p-2 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-lg transition-colors",children:u.jsx(lp,{className:"w-5 h-5 text-stone-500"})})]}),u.jsxs("form",{onSubmit:d,className:"p-6 space-y-4 overflow-y-auto max-h-[calc(90vh-140px)]",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"text-xs font-medium text-stone-500 dark:text-stone-400 mb-2 block",children:["Question (",t.count,"x asked)"]}),u.jsxs("div",{className:"p-4 bg-stone-50 dark:bg-stone-900/50 rounded-lg border border-stone-200 dark:border-stone-800",children:[t.category&&u.jsx("span",{className:"inline-block text-xs px-2 py-1 rounded-full bg-purple-100 text-purple-800 border border-purple-200 mb-2",children:t.category}),u.jsx("p",{className:"text-sm text-stone-900 dark:text-stone-50 font-medium",children:t.representativeQuestion||t.question||"Unknown question"}),t.recentQuestions&&t.recentQuestions.length>0&&u.jsxs("div",{className:"mt-3 pt-3 border-t border-stone-200 dark:border-stone-700",children:[u.jsx("p",{className:"text-xs text-stone-500 dark:text-stone-400 mb-2",children:"Recent variations:"}),u.jsx("ul",{className:"space-y-1",children:t.recentQuestions.slice(0,3).map((f,m)=>u.jsxs("li",{className:"text-xs text-stone-600 dark:text-stone-400",children:["• ",f.question]},m))})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"answer",className:"text-xs font-medium text-stone-500 dark:text-stone-400 mb-2 block",children:"Your Answer"}),u.jsx("textarea",{id:"answer",value:i,onChange:f=>a(f.target.value),placeholder:"Provide a clear and comprehensive answer to this question...",rows:8,className:"w-full px-4 py-3 bg-white dark:bg-stone-800 border border-stone-200 dark:border-stone-700 rounded-lg text-sm text-stone-900 dark:text-stone-50 placeholder-stone-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none",required:!0}),u.jsx("p",{className:"text-xs text-stone-500 dark:text-stone-400 mt-2",children:"💡 The AI will enhance your answer and add it to the agent's knowledge base"})]}),u.jsx("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:u.jsxs("p",{className:"text-xs text-orange-800 dark:text-orange-400",children:[u.jsx("strong",{children:"What happens next:"}),u.jsx("br",{}),"1. AI will enhance and format your answer professionally",u.jsx("br",{}),"2. The enhanced answer will be added to your agent's knowledge base as a new chunk",u.jsx("br",{}),"3. Your agent will be able to answer this question in future conversations"]})})]}),u.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-stone-200 dark:border-stone-800 bg-stone-50 dark:bg-stone-900/50",children:[u.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-stone-700 dark:text-stone-300 hover:bg-stone-200 dark:hover:bg-stone-800 rounded-lg transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",onClick:d,disabled:!i.trim()||o,className:"px-4 py-2 text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 disabled:bg-stone-300 disabled:cursor-not-allowed rounded-lg transition-colors flex items-center gap-2",children:o?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Nm,{className:"w-4 h-4"}),"Add to Knowledge Base"]})})]})]})})}function J_e(t){const e={"America/New_York":"US","America/Chicago":"US","America/Denver":"US","America/Los_Angeles":"US","America/Toronto":"CA","America/Vancouver":"CA","America/Mexico_City":"MX","America/Sao_Paulo":"BR","America/Argentina/Buenos_Aires":"AR","Europe/London":"GB","Europe/Paris":"FR","Europe/Berlin":"DE","Europe/Madrid":"ES","Europe/Rome":"IT","Europe/Istanbul":"TR","Europe/Moscow":"RU","Asia/Dubai":"AE","Asia/Kolkata":"IN","Asia/Shanghai":"CN","Asia/Tokyo":"JP","Asia/Seoul":"KR","Asia/Singapore":"SG","Asia/Bangkok":"TH","Australia/Sydney":"AU","Australia/Melbourne":"AU","Pacific/Auckland":"NZ","Africa/Cairo":"EG","Africa/Johannesburg":"ZA"};if(e[t])return e[t];for(const[n,r]of Object.entries(e))if(t.startsWith(n.split("/")[0]))return r;return null}const e2e=async(t,e="daily",n=null)=>{try{if(!n||!t)return r6();const r=new Date;let i;switch(e){case"weekly":i=new Date(r.getTime()-7*24*60*60*1e3);break;case"monthly":i=new Date(r.getTime()-30*24*60*60*1e3);break;default:i=new Date(r.getTime()-24*60*60*1e3)}const a=qt(nt,"users",n,"agents",t,"sessions"),o=await zn(a),c=[],d=[];for(const g of o.docs){const v=g.data();d.push({id:g.id,...v});const x=qt(nt,"users",n,"agents",t,"sessions",g.id,"conversations");(await zn(x)).docs.forEach(T=>{var k,j;const E=T.data(),A=(j=(k=E.lastMessageTime)==null?void 0:k.toDate)==null?void 0:j.call(k);A&&A>=i&&c.push({id:T.id,sessionId:g.id,userInfo:v.userInfo||{},...E})})}const f=c.filter(g=>g.analyzed&&g.analysis);return t2e(c,f,e,d)}catch(r){return console.error("Error fetching conversation analytics:",r),r6()}};function t2e(t,e,n,r=[]){const i={},a=new Date;let o=null;switch(n){case"hourly":for(let Q=23;Q>=0;Q--){const $=new Date(a.getTime()-Q*60*60*1e3),X=`${$.toISOString().split("T")[0]} ${$.getHours().toString().padStart(2,"0")}:00`;i[X]={total:0,analyzed:0,resolved:0}}o=Q=>{const $=Q.toDate?Q.toDate():Q;return`${$.toISOString().split("T")[0]} ${$.getHours().toString().padStart(2,"0")}:00`};break;case"daily":for(let Q=6;Q>=0;Q--){const X=new Date(a.getTime()-Q*24*60*60*1e3).toISOString().split("T")[0];i[X]={total:0,analyzed:0,resolved:0}}o=Q=>(Q.toDate?Q.toDate():Q).toISOString().split("T")[0];break;case"weekly":for(let Q=29;Q>=0;Q--){const X=new Date(a.getTime()-Q*24*60*60*1e3).toISOString().split("T")[0];i[X]={total:0,analyzed:0,resolved:0}}o=Q=>(Q.toDate?Q.toDate():Q).toISOString().split("T")[0];break;case"quarterly":for(let Q=12;Q>=0;Q--){const X=`Week of ${new Date(a.getTime()-Q*7*24*60*60*1e3).toISOString().split("T")[0]}`;i[X]={total:0,analyzed:0,resolved:0}}o=Q=>{const $=Q.toDate?Q.toDate():Q,X=new Date($);return X.setDate($.getDate()-$.getDay()),`Week of ${X.toISOString().split("T")[0]}`};break;case"alltime":const U=t.length>0?t.reduce((Q,$)=>{var J,ce;const X=((ce=(J=$.lastMessageTime)==null?void 0:J.toDate)==null?void 0:ce.call(J))||new Date;return X<Q?X:Q},new Date):new Date,K=Math.ceil((a-U)/(30*24*60*60*1e3)),ee=Math.max(K,12);for(let Q=ee-1;Q>=0;Q--){const $=new Date(a.getFullYear(),a.getMonth()-Q,1),X=`${$.getFullYear()}-${($.getMonth()+1).toString().padStart(2,"0")}`;i[X]={total:0,analyzed:0,resolved:0}}o=Q=>{const $=Q.toDate?Q.toDate():Q;return`${$.getFullYear()}-${($.getMonth()+1).toString().padStart(2,"0")}`};break;default:for(let Q=6;Q>=0;Q--){const X=new Date(a.getTime()-Q*24*60*60*1e3).toISOString().split("T")[0];i[X]={total:0,analyzed:0,resolved:0}}o=Q=>(Q.toDate?Q.toDate():Q).toISOString().split("T")[0]}t.forEach(U=>{const K=U.lastMessageTime;if(K&&o){const ee=o(K);i[ee]&&(i[ee].total+=1)}}),e.forEach(U=>{var ee;const K=U.lastMessageTime;if(K&&o){const Q=o(K);i[Q]&&(i[Q].analyzed+=1,(ee=U.analysis)!=null&&ee.resolved&&(i[Q].resolved+=1))}});const c={};e.forEach(U=>{var ee;const K=((ee=U.analysis)==null?void 0:ee.mainCategory)||"General";c[K]=(c[K]||0)+1});const d=Object.entries(c).map(([U,K])=>({name:U,value:K,percentage:Math.round(K/e.length*100)})),f={1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0};e.forEach(U=>{var ee;const K=(ee=U.analysis)==null?void 0:ee.sentimentScore;K&&K>=1&&K<=10&&(f[K]+=1)});const m=Object.entries(f).map(([U,K])=>({score:parseInt(U),count:K})),g={low:0,medium:0,high:0};e.forEach(U=>{var ee;const K=((ee=U.analysis)==null?void 0:ee.urgency)||"low";g[K]=(g[K]||0)+1});const v=Object.entries(g).map(([U,K])=>({name:U?U.charAt(0).toUpperCase()+U.slice(1):"Unknown",value:K,percentage:e.length>0?Math.round(K/e.length*100):0})),x={};e.forEach(U=>{var ee;(((ee=U.analysis)==null?void 0:ee.keyTopics)||[]).forEach(Q=>{x[Q]=(x[Q]||0)+1})});const w=Object.entries(x).sort((U,K)=>K[1]-U[1]).slice(0,10).map(([U,K])=>({name:U,value:K})),T=t.length,E=e.length,A=e.filter(U=>{var K;return(K=U.analysis)==null?void 0:K.resolved}).length,k=E-A,j=E>0?Math.round(A/E*100):0,D=e.map(U=>{var K;return(K=U.analysis)==null?void 0:K.sentimentScore}).filter(U=>U&&U>=1&&U<=10),O=D.length>0?(D.reduce((U,K)=>U+K,0)/D.length).toFixed(1):5,L=e.sort((U,K)=>{var $,X,J,ce;const ee=((X=($=U.lastMessageTime)==null?void 0:$.toDate)==null?void 0:X.call($))||new Date(0);return(((ce=(J=K.lastMessageTime)==null?void 0:J.toDate)==null?void 0:ce.call(J))||new Date(0))-ee}).slice(0,10).map(U=>{var K,ee,Q,$,X,J,ce;return{id:U.id,sessionId:U.sessionId,category:((K=U.analysis)==null?void 0:K.mainCategory)||"General",sentiment:((ee=U.analysis)==null?void 0:ee.sentimentScore)||5,urgency:((Q=U.analysis)==null?void 0:Q.urgency)||"low",resolved:(($=U.analysis)==null?void 0:$.resolved)||!1,summary:((X=U.analysis)==null?void 0:X.summary)||"No summary available",messageCount:U.messageCount||0,timestamp:((ce=(J=U.lastMessageTime)==null?void 0:J.toDate)==null?void 0:ce.call(J))||new Date}}),P={},C={},M={},z=[];let V=0,H=0;r.forEach(U=>{var ee,Q,$,X,J;const K=U.userInfo||{};if((ee=K.device)!=null&&ee.browser&&(P[K.device.browser]=(P[K.device.browser]||0)+1),(Q=K.device)!=null&&Q.deviceType&&(C[K.device.deviceType]=(C[K.device.deviceType]||0)+1),K.language&&(M[K.language]=(M[K.language]||0)+1),($=K.location)!=null&&$.country&&((X=K.location)!=null&&X.city))z.push({city:K.location.city,country:K.location.country,countryCode:K.location.countryCode,count:1});else if((J=K.location)!=null&&J.timezone){const ce=J_e(K.location.timezone);ce&&z.push({city:"Unknown",country:ce,countryCode:ce,count:1})}K.isReturnUser===!0?V++:H++});const q=[{name:"New Users",value:H},{name:"Return Users",value:V}];let G=0;r.forEach(U=>{U.userInfo,U.totalConversations&&(G+=U.totalConversations)});const W={avgTimeOnPageBeforeChat:0,avgSessionDuration:0,avgScrollDepth:0,returnVisitorRate:r.length>0?V/r.length*100:0,avgMessagesPerSession:r.length>0?G/r.length:0,totalSessions:r.length};return{chartData:i,categoryData:d,sentimentData:m,urgencyData:v,topicData:w,browserData:P,deviceData:C,languageData:M,locationData:z,returnUserData:q,detailedMetrics:W,summary:{totalConversations:T,analyzedConversations:E,nonAnalyzedConversations:T-E,resolvedConversations:A,unresolvedConversations:k,resolutionRate:j,avgSentiment:parseFloat(O)},recentSessions:L,totalConversations:t.length}}const n6=async(t,e)=>{try{if(!e||!t)return[];const n=qt(nt,"users",e,"agents",t,"knowledgeGaps"),i=(await zn(n)).docs.map(a=>{var o,c,d,f;return{id:a.id,...a.data(),firstAsked:(c=(o=a.data().firstAsked)==null?void 0:o.toDate)==null?void 0:c.call(o),lastAsked:(f=(d=a.data().lastAsked)==null?void 0:d.toDate)==null?void 0:f.call(d)}}).filter(a=>a.filled!==!0);return i.sort((a,o)=>(o.count||0)-(a.count||0)),i}catch(n){return console.error("Error fetching knowledge gaps:",n),[]}};function r6(){return{chartData:{},categoryData:[],sentimentData:[],urgencyData:[],topicData:[],summary:{openTickets:0,resolvedToday:0,resolutionRate:0,avgResponseTime:"0m"},recentSessions:[],totalConversations:0}}function n2e({agent:t,onShowEmbed:e}){var Ie,pe,Ee,re,se,_e,He,Gt,_t,Ut,Xr,qa,ga,$i,Uo,va,ya;const n=Wr(),{user:r}=da(),{agents:i,selectAgent:a,selectedAgent:o}=hf(),[c,d]=S.useState(!1),[f,m]=S.useState(!1),g=S.useRef(null),v=S.useRef(null),[x,w]=S.useState(null),[T,E]=S.useState([]),[A,k]=S.useState("weekly"),[j,D]=S.useState(!1),[O,L]=S.useState(null),[P,C]=S.useState(!1),[M,z]=S.useState("analytics"),[V,H]=S.useState([]),[q,G]=S.useState(!1),[W,U]=S.useState(null),[K,ee]=S.useState([]),[Q,$]=S.useState(!1);S.useEffect(()=>{const Se=Be=>{g.current&&!g.current.contains(Be.target)&&d(!1),v.current&&!v.current.contains(Be.target)&&m(!1)};return document.addEventListener("mousedown",Se),()=>{document.removeEventListener("mousedown",Se)}},[]),S.useEffect(()=>{(async()=>{if(!(!(t!=null&&t.id)||!(r!=null&&r.uid))){D(!0);try{const[Be,Xe]=await Promise.all([e2e(t.id,A,r.uid),n6(t.id,r.uid)]);w(Be),E(Xe)}catch(Be){console.error("Error loading analytics:",Be)}finally{D(!1)}}})()},[t==null?void 0:t.id,A,r==null?void 0:r.uid]),S.useEffect(()=>{(async()=>{if(!(M!=="messages"||!(t!=null&&t.id)||!(r!=null&&r.uid))){G(!0);try{const Be=qt(nt,"users",r.uid,"agents",t.id,"sessions"),Xe=await zn(Be),Vt=[];for(const Et of Xe.docs){const br=Et.data(),Qr=Et.id,or=qt(Et.ref,"conversations"),xn=await zn(or);for(const Kn of xn.docs){const It=Kn.data();It.analysis&&Object.keys(It.analysis).length>0&&Vt.push({id:Kn.id,anonymousUserId:Qr,...It,userInfo:br.userInfo||{},userEmail:br.userEmail||null,conversationSummary:It.conversationSummary||{},analysis:It.analysis||{}})}}Vt.sort((Et,br)=>{var xn,Kn,It,Zr;const Qr=((Kn=(xn=Et.lastMessageTime)==null?void 0:xn.toDate)==null?void 0:Kn.call(xn))||new Date(0);return(((Zr=(It=br.lastMessageTime)==null?void 0:It.toDate)==null?void 0:Zr.call(It))||new Date(0))-Qr}),H(Vt)}catch(Be){console.error("Error loading sessions:",Be)}finally{G(!1)}}})()},[M,t==null?void 0:t.id,r==null?void 0:r.uid]);const X=Se=>{a(Se),d(!1),n(`/dashboard/${Se.id}`)},J=()=>{d(!1),e&&e()},ce=Se=>{L(Se),C(!0)},xe=async(Se,Be)=>{try{if(!(await fetch("https://us-central1-cx-saas-8510f.cloudfunctions.net/fillKnowledgeGap",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r.uid,agentId:t.id,gapId:Se.id,question:Se.representativeQuestion||Se.question,userAnswer:Be})})).ok)throw new Error("Failed to fill knowledge gap");const Vt=await n6(t.id,r.uid);E(Vt)}catch(Xe){throw console.error("Error filling knowledge gap:",Xe),Xe}},be=async Se=>{U(Se),$(!0);try{const Be=qt(nt,"users",r.uid,"agents",t.id,"sessions",Se.anonymousUserId,"conversations",Se.id,"messages"),Vt=(await zn(Be)).docs.map(Et=>({id:Et.id,...Et.data()})).sort((Et,br)=>{var xn,Kn,It,Zr;const Qr=((Kn=(xn=Et.timestamp)==null?void 0:xn.toDate)==null?void 0:Kn.call(xn))||new Date(0),or=((Zr=(It=br.timestamp)==null?void 0:It.toDate)==null?void 0:Zr.call(It))||new Date(0);return Qr-or});ee(Vt)}catch(Be){console.error("Error loading messages:",Be),ee([])}},Ne=Se=>({Feedback:"bg-blue-500/5 text-blue-500 border-blue-500",Question:"bg-purple-500/5 text-purple-500 border-purple-500","Support Request":"bg-orange-500/5 text-orange-500 border-orange-500","Sales Inquiry":"bg-green-500/5 text-green-500 border-green-500","Bug Report":"bg-red-500/5 text-red-500 border-red-500",General:"bg-stone-500/5 text-stone-500 border-stone-500"})[Se]||"bg-stone-100 text-stone-800 border-stone-200",Fe=Se=>({high:"bg-red-500/5 text-red-500 border-red-500",medium:"bg-yellow-500/5 text-yellow-500 border-yellow-500",low:"bg-green-500/5 text-green-500 border-green-500"})[Se]||"bg-stone-100 text-stone-800 border-stone-200";return t?u.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative",ref:g,children:[u.jsxs("button",{onClick:()=>d(!c),className:"flex items-center gap-1 px-3 py-1 rounded-lg hover:bg-stone-200 dark:md:hover:bg-stone-800 transition-colors",children:[u.jsx("div",{className:"w-5 h-5 bg-stone-100 rounded-md flex items-center justify-center flex-shrink-0 overflow-hidden",children:t!=null&&t.logoUrl?u.jsx("img",{src:t.logoUrl,alt:t.name,className:"w-5 h-5 object-cover rounded-md"}):u.jsx("div",{className:"w-4 h-4 bg-stone-600"})}),u.jsx("div",{className:"flex-1 text-left",children:u.jsx("div",{className:"text-md font-bold text-stone-900 dark:text-stone-50",children:(t==null?void 0:t.projectName)||(t==null?void 0:t.name)||"Select Agent"})}),u.jsx(uE,{className:`w-4 h-4 text-stone-500 transition-transform ${c?"rotate-180":""}`})]}),c&&u.jsx("div",{className:"absolute top-full left-0 min-w-[250px] mt-1 bg-white dark:bg-stone-900 border border-stone-200 dark:border-stone-700 rounded-lg shadow-lg z-10",children:u.jsxs("div",{className:"p-1 space-y-0.5",children:[i.map(Se=>u.jsxs("button",{onClick:()=>X(Se),className:`w-full flex items-center gap-1 px-2 py-1 text-left rounded-md hover:bg-stone-50 dark:hover:bg-stone-800 transition-colors group ${(t==null?void 0:t.id)===Se.id?"bg-stone-50 dark:bg-stone-800":""}`,children:[u.jsx("div",{className:"w-4 h-4 bg-stone-100 dark:bg-stone-800 rounded flex items-center justify-center flex-shrink-0 overflow-hidden",children:Se.logoUrl?u.jsx("img",{src:Se.logoUrl,alt:Se.name,className:"w-4 h-4 object-cover rounded"}):u.jsx("div",{className:"w-3 h-3 bg-stone-600 dark:bg-stone-400"})}),u.jsx("div",{className:"flex-1",children:u.jsx("div",{className:"text-sm font-medium text-stone-900 dark:text-stone-100",children:Se.projectName||Se.name})})]},Se.id)),u.jsx("div",{className:"border-t border-stone-100 dark:border-stone-700 mt-1",children:u.jsxs("button",{onClick:J,className:"w-full flex items-center gap-1 px-2 py-1 mt-1 text-left rounded-md hover:bg-stone-50 dark:hover:bg-stone-800 transition-colors group",children:[u.jsx(F8,{className:"w-4 h-4 text-stone-500 dark:text-stone-400"}),u.jsx("span",{className:"text-sm font-medium text-stone-700 dark:text-stone-300",children:"Agent Settings"})]})})]})})]}),u.jsxs("div",{className:"relative",ref:v,children:[u.jsxs("button",{onClick:()=>m(!f),className:"flex items-center gap-1 px-3 py-1 rounded-lg hover:bg-stone-200 dark:md:hover:bg-stone-800 transition-colors",children:[u.jsx("div",{className:"flex-1 text-left",children:u.jsx("div",{className:"text-md font-bold text-stone-900 dark:text-stone-50",children:A==="hourly"?"Last 24H":A==="daily"?"Last 7 Days":A==="weekly"?"Last 30 Days":A==="quarterly"?"Last 90 Days":"All Time"})}),u.jsx(uE,{className:`w-4 h-4 text-stone-500 transition-transform ${f?"rotate-180":""}`})]}),f&&u.jsx("div",{className:"absolute top-full left-0 min-w-[150px] mt-1 bg-white dark:bg-stone-900 border border-stone-200 dark:border-stone-700 rounded-lg shadow-lg z-10",children:u.jsx("div",{className:"p-1 space-y-0.5",children:["hourly","daily","weekly","quarterly","alltime"].map(Se=>u.jsx("button",{onClick:()=>{k(Se),m(!1)},className:`w-full flex items-center gap-1 px-2 py-1 text-left rounded-md hover:bg-stone-50 dark:hover:bg-stone-800 transition-colors group ${A===Se?"bg-stone-50 dark:bg-stone-800":""}`,children:u.jsx("div",{className:"flex-1",children:u.jsx("div",{className:"text-sm font-medium text-stone-900 dark:text-stone-100",children:Se==="hourly"?"Last 24H":Se==="daily"?"Last 7 Days":Se==="weekly"?"Last 30 Days":Se==="quarterly"?"Last 90 Days":"All Time"})})},Se))})})]})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-stone-100 dark:bg-stone-800 rounded-lg p-1",children:[u.jsx("button",{onClick:()=>z("analytics"),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-colors ${M==="analytics"?"bg-white dark:bg-stone-700 text-stone-900 dark:text-stone-50 shadow-sm":"text-stone-600 dark:text-stone-400 hover:text-stone-900 dark:hover:text-stone-50"}`,children:"Analytics"}),u.jsx("button",{onClick:()=>z("messages"),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-colors ${M==="messages"?"bg-white dark:bg-stone-700 text-stone-900 dark:text-stone-50 shadow-sm":"text-stone-600 dark:text-stone-400 hover:text-stone-900 dark:hover:text-stone-50"}`,children:"Messages"})]})]}),M==="analytics"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-white dark:bg-stone-800/50 rounded-xl border border-stone-200 dark:border-stone-800 p-6",children:[u.jsxs("div",{className:"flex items-center gap-8 mb-8",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-stone-500 mb-1",children:"Total Conversations"}),u.jsx("div",{className:"text-4xl font-bold text-stone-900 dark:text-stone-100",children:((Ie=x==null?void 0:x.summary)==null?void 0:Ie.totalConversations)||"0"})]}),u.jsx("div",{className:"w-px h-12 bg-stone-200 dark:bg-stone-700"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-stone-500 mb-1",children:"Analyzed"}),u.jsx("div",{className:"text-4xl font-bold text-stone-900 dark:text-stone-100",children:((pe=x==null?void 0:x.summary)==null?void 0:pe.analyzedConversations)||"0"})]}),u.jsx("div",{className:"w-px h-12 bg-stone-200 dark:bg-stone-700"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-stone-500 mb-1",children:"Non-Analyzed"}),u.jsx("div",{className:"text-4xl font-bold text-stone-900 dark:text-stone-100",children:((Ee=x==null?void 0:x.summary)==null?void 0:Ee.nonAnalyzedConversations)||"0"})]}),u.jsx("div",{className:"w-px h-12 bg-stone-200 dark:bg-stone-700"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-stone-500 mb-1",children:"Success Rate"}),u.jsxs("div",{className:"text-4xl font-bold text-stone-900 dark:text-stone-100",children:[((re=x==null?void 0:x.summary)==null?void 0:re.resolutionRate)||"0","%"]})]}),u.jsx("div",{className:"w-px h-12 bg-stone-200 dark:bg-stone-700"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-stone-500 mb-1",children:"Knowledge Gaps"}),u.jsx("div",{className:"text-4xl font-bold text-stone-900 dark:text-stone-100",children:(T==null?void 0:T.length)||"0"})]})]}),u.jsx("div",{className:"h-80",children:j?u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsx("div",{className:"text-stone-400 text-sm",children:"Loading analytics..."})}):(x==null?void 0:x.totalConversations)>0?u.jsx(vye,{chartData:(x==null?void 0:x.chartData)||{},showOpened:!0,showResolved:!1,timeRange:A}):u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-stone-400 text-sm",children:"No conversations in this period"}),u.jsx("div",{className:"text-stone-300 text-xs mt-1",children:"Your customers haven't started any chats yet"})]})})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[u.jsxs("div",{className:"bg-white dark:bg-stone-800/50 rounded-xl border border-stone-200 dark:border-stone-800 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50",children:"Conversation Categories"}),u.jsx("div",{className:"text-sm text-stone-500",children:"AI Analysis"})]}),u.jsx("div",{className:"h-64",children:u.jsx(yye,{data:(x==null?void 0:x.categoryData)||[]})})]}),u.jsxs("div",{className:"bg-white dark:bg-stone-800/50 rounded-xl border border-stone-200 dark:border-stone-800 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50",children:"Sentiment Analysis"}),u.jsx("div",{className:"text-sm text-stone-500",children:"User Mood"})]}),u.jsx("div",{className:"h-80",children:u.jsx(xye,{data:(x==null?void 0:x.sentimentData)||[]})})]}),u.jsxs("div",{className:"bg-white dark:bg-stone-800/50 rounded-xl border border-stone-200 dark:border-stone-800 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50",children:"Urgency Levels"}),u.jsx("div",{className:"text-sm text-stone-500",children:"AI-Detected Priority"})]}),u.jsx("div",{className:"h-64",children:u.jsx(bye,{data:(x==null?void 0:x.urgencyData)||[]})})]}),u.jsxs("div",{className:"bg-white dark:bg-stone-800/50 rounded-xl border border-stone-200 dark:border-stone-800 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50",children:"Conversation Topics"}),u.jsx("div",{className:"text-sm text-stone-500",children:"Subject Matter"})]}),u.jsx("div",{className:"h-64",children:u.jsx(wye,{data:(x==null?void 0:x.topicData)||[]})})]}),u.jsxs("div",{className:"bg-white dark:bg-stone-800/50 rounded-xl border border-stone-200 dark:border-stone-800 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50",children:"Languages"}),u.jsx("div",{className:"text-sm text-stone-500",children:"User Preferences"})]}),u.jsx("div",{className:"h-64",children:u.jsx(W_e,{data:(x==null?void 0:x.languageData)||{}})})]}),u.jsxs("div",{className:"bg-white dark:bg-stone-800/50 rounded-xl border border-stone-200 dark:border-stone-800 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50",children:"Browsers"}),u.jsx("div",{className:"text-sm text-stone-500",children:"Browser Distribution"})]}),u.jsx("div",{className:"h-64",children:u.jsx(Y_e,{data:(x==null?void 0:x.browserData)||{}})})]}),u.jsxs("div",{className:"bg-white dark:bg-stone-800/50 rounded-xl border border-stone-200 dark:border-stone-800 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50",children:"Devices"}),u.jsx("div",{className:"text-sm text-stone-500",children:"Device Types"})]}),u.jsx("div",{className:"h-64",children:u.jsx(X_e,{data:(x==null?void 0:x.deviceData)||{}})})]}),u.jsxs("div",{className:"bg-white dark:bg-stone-800/50 rounded-xl border border-stone-200 dark:border-stone-800 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50",children:"User Type"}),u.jsx("div",{className:"text-sm text-stone-500",children:"New vs Return"})]}),u.jsx("div",{className:"h-64",children:u.jsx(Q_e,{data:(x==null?void 0:x.returnUserData)||[]})})]})]}),u.jsxs("div",{className:"bg-white dark:bg-stone-800/50 rounded-xl border border-stone-200 dark:border-stone-800 p-6 mt-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-stone-900 dark:text-stone-50",children:"User Locations"}),u.jsx("div",{className:"text-sm text-stone-500",children:"Geographic Distribution"})]}),u.jsx("div",{className:"h-96",children:u.jsx(K_e,{data:(x==null?void 0:x.locationData)||[]})})]}),u.jsxs("div",{className:"bg-white dark:bg-stone-800/50 rounded-xl border border-stone-200 dark:border-stone-800 p-6 mt-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-stone-900 dark:text-stone-50",children:"Knowledge Gaps"}),u.jsx("div",{className:"text-sm text-stone-500",children:"Questions your agent couldn't answer"})]}),T.length>0?u.jsx("div",{className:"space-y-3",children:T.slice(0,10).map(Se=>{var Be,Xe;return u.jsxs("div",{className:"flex items-center justify-between p-4 bg-stone-50 dark:bg-stone-900/30 rounded-lg border border-stone-100 dark:border-stone-800",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"flex items-center gap-2 mb-1",children:u.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-purple-100 text-purple-800 border border-purple-200",children:Se.category||"General"})}),u.jsx("div",{className:"text-sm font-medium text-stone-900 dark:text-stone-50 mb-1",children:Se.representativeQuestion||Se.question||"Unknown question"}),u.jsxs("div",{className:"text-xs text-stone-500 dark:text-stone-400",children:["First asked: ",(Be=Se.firstAsked)==null?void 0:Be.toLocaleDateString()," • Last asked: ",(Xe=Se.lastAsked)==null?void 0:Xe.toLocaleDateString()]})]}),u.jsxs("div",{className:"ml-4 flex items-center gap-3",children:[u.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-400 font-semibold",children:["Asked ",Se.count,"x"]}),u.jsx("button",{onClick:()=>ce(Se),className:"px-3 py-1.5 text-xs font-medium text-white bg-orange-600 hover:bg-orange-700 rounded-lg transition-colors",children:"Fill Gap"})]})]},Se.id)})}):u.jsx("div",{className:"h-32 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-stone-400 dark:text-stone-500 text-sm mb-1",children:"You're all set!"}),u.jsx("div",{className:"text-stone-300 dark:text-stone-600 text-xs",children:"No unanswered questions detected so far"})]})})]})]}),M==="messages"&&u.jsx("div",{className:"bg-white dark:bg-stone-800/50 rounded-xl border border-stone-200 dark:border-stone-800 p-6",children:q?u.jsx("div",{className:"h-64 flex items-center justify-center",children:u.jsx("div",{className:"text-stone-400 text-sm",children:"Loading conversations..."})}):V.length>0?u.jsx("div",{className:"space-y-3",children:V.map(Se=>{var Be,Xe,Vt,Et,br,Qr,or;return u.jsxs("button",{onClick:()=>be(Se),className:"w-full flex items-start gap-4 p-4 bg-stone-50 dark:bg-stone-900/30 rounded-lg border border-stone-100 dark:border-stone-800 hover:border-stone-300 dark:hover:border-stone-600 transition-colors text-left",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"flex items-center gap-2 mb-2",children:(Be=Se.analysis)!=null&&Be.mainCategory?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:`text-xs px-2 py-1 rounded-full border ${Ne(Se.analysis.mainCategory)}`,children:Se.analysis.mainCategory}),u.jsxs("span",{className:`text-xs px-2 py-1 rounded-full border ${Fe(Se.analysis.urgency)}`,children:[Se.analysis.urgency||"low"," priority"]}),Se.analysis.resolved?u.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-500/5 text-green-500 border border-green-500",children:"✓ Resolved"}):u.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-orange-500/5 text-orange-500 border border-orange-500",children:"Unresolved"})]}):u.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-stone-100 text-stone-600 border border-stone-200",children:Se.shouldAnalyze==="false"?"Trivial Chat":Se.shouldAnalyze==="pending"?"Pending Analysis":Se.shouldAnalyze==="true"?"Analyzing...":"Not Analyzed"})}),u.jsx("div",{className:"text-sm font-medium text-stone-900 dark:text-stone-50 mb-1 truncate",children:((Xe=Se.analysis)==null?void 0:Xe.summary)||Se.analysisReason||"Conversation"}),u.jsxs("div",{className:"text-xs text-stone-500 dark:text-stone-400",children:[((Et=(Vt=Se.lastMessageTime)==null?void 0:Vt.toDate)==null?void 0:Et.call(Vt).toLocaleString())||"Unknown time",Se.userEmail&&u.jsxs(u.Fragment,{children:[" • ",Se.userEmail]}),((Qr=(br=Se.userInfo)==null?void 0:br.location)==null?void 0:Qr.city)&&u.jsxs(u.Fragment,{children:[" • ",Se.userInfo.location.city,", ",Se.userInfo.location.country]})]})]}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[(or=Se.analysis)!=null&&or.sentimentScore?u.jsxs("div",{className:"text-xs text-stone-500",children:["Sentiment: ",u.jsxs("span",{className:"font-semibold text-stone-900 dark:text-stone-50",children:[Se.analysis.sentimentScore,"/10"]})]}):u.jsx("div",{className:"text-xs text-stone-400",children:"No sentiment data"}),u.jsx("div",{className:"text-xs text-stone-500",children:"Click to view messages"})]})]},Se.id)})}):u.jsx("div",{className:"h-64 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-stone-400 dark:text-stone-500 text-sm mb-1",children:"No customer conversations yet"}),u.jsx("div",{className:"text-stone-300 dark:text-stone-600 text-xs",children:"When someone reaches out with a question or issue, it'll appear here"})]})})}),Q&&W&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-stone-900 rounded-xl border border-stone-200 dark:border-stone-700 w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex items-start justify-between p-6 border-b border-stone-200 dark:border-stone-700",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:`text-xs px-2 py-1 rounded-full border ${Ne((se=W.analysis)==null?void 0:se.mainCategory)}`,children:((_e=W.analysis)==null?void 0:_e.mainCategory)||"General"}),u.jsxs("span",{className:`text-xs px-2 py-1 rounded-full border ${Fe((He=W.analysis)==null?void 0:He.urgency)}`,children:[((Gt=W.analysis)==null?void 0:Gt.urgency)||"low"," priority"]}),(_t=W.analysis)!=null&&_t.resolved?u.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-500/5 text-green-500 border border-green-500",children:"✓ Resolved"}):u.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-orange-500/5 text-orange-500 border border-orange-500",children:"Unresolved"})]}),u.jsx("h2",{className:"text-lg font-semibold text-stone-900 dark:text-stone-50 mb-1",children:((Ut=W.analysis)==null?void 0:Ut.summary)||"Conversation Details"}),u.jsxs("div",{className:"text-sm text-stone-500 dark:text-stone-400",children:[(qa=(Xr=W.lastMessageTime)==null?void 0:Xr.toDate)==null?void 0:qa.call(Xr).toLocaleString(),W.userEmail&&u.jsxs(u.Fragment,{children:[" • ",W.userEmail]}),((ga=W.userInfo)==null?void 0:ga.location)&&u.jsxs(u.Fragment,{children:[" • ",W.userInfo.location.city,", ",W.userInfo.location.country]})]})]}),u.jsx("button",{onClick:()=>{$(!1),U(null),ee([])},className:"p-1 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-lg transition-colors",children:u.jsx(lp,{className:"w-5 h-5 text-stone-500"})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50 mb-3",children:"AI Analysis"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-3 bg-stone-50 dark:bg-stone-800/50 rounded-lg",children:[u.jsx("div",{className:"text-xs text-stone-500 mb-1",children:"Intent"}),u.jsx("div",{className:"text-sm font-medium text-stone-900 dark:text-stone-50 capitalize",children:(($i=W.analysis)==null?void 0:$i.intent)||"N/A"})]}),u.jsxs("div",{className:"p-3 bg-stone-50 dark:bg-stone-800/50 rounded-lg",children:[u.jsx("div",{className:"text-xs text-stone-500 mb-1",children:"Sentiment Score"}),u.jsxs("div",{className:"text-sm font-medium text-stone-900 dark:text-stone-50",children:[((Uo=W.analysis)==null?void 0:Uo.sentimentScore)||5,"/10"]})]}),u.jsxs("div",{className:"p-3 bg-stone-50 dark:bg-stone-800/50 rounded-lg col-span-2",children:[u.jsx("div",{className:"text-xs text-stone-500 mb-1",children:"Sub-Category"}),u.jsx("div",{className:"text-sm font-medium text-stone-900 dark:text-stone-50",children:((va=W.analysis)==null?void 0:va.subCategory)||"N/A"})]}),((ya=W.analysis)==null?void 0:ya.keyTopics)&&W.analysis.keyTopics.length>0&&u.jsxs("div",{className:"p-3 bg-stone-50 dark:bg-stone-800/50 rounded-lg col-span-2",children:[u.jsx("div",{className:"text-xs text-stone-500 mb-2",children:"Key Topics"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:W.analysis.keyTopics.map((Se,Be)=>u.jsx("span",{className:"text-xs px-2 py-1 bg-orange-500/5 text-orange-500 rounded-full",children:Se},Be))})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50 mb-3",children:"Conversation"}),K.length>0?u.jsx("div",{className:"space-y-3",children:K.map(Se=>{var Be,Xe;return u.jsxs("div",{className:`p-3 rounded-lg ${Se.role==="user"?"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800":"bg-stone-50 dark:bg-stone-800/50 border border-stone-200 dark:border-stone-700"}`,children:[u.jsx("div",{className:"text-xs font-medium text-stone-500 dark:text-stone-400 mb-1 capitalize",children:Se.role}),u.jsx("div",{className:"text-sm text-stone-900 dark:text-stone-50 whitespace-pre-wrap",children:Se.content}),u.jsx("div",{className:"text-xs text-stone-400 dark:text-stone-500 mt-1",children:(Xe=(Be=Se.timestamp)==null?void 0:Be.toDate)==null?void 0:Xe.call(Be).toLocaleTimeString()})]},Se.id)})}):u.jsx("div",{className:"p-4 bg-stone-50 dark:bg-stone-800/50 rounded-lg text-center text-sm text-stone-500",children:"Messages have been archived after analysis"})]})]})]})}),u.jsx(Z_e,{gap:O,isOpen:P,onClose:()=>{C(!1),L(null)},onSubmit:xe})]}):u.jsx("div",{className:"flex items-center justify-center h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-lg font-medium text-stone-900 mb-2",children:"No Agent Selected"}),u.jsx("div",{className:"text-stone-500",children:"Please select an agent to view analytics."})]})})}const qB=S.createContext(),ob=()=>{const t=S.useContext(qB);if(!t)throw new Error("useNotification must be used within NotificationProvider");return t},r2e=({children:t})=>{const[e,n]=S.useState([]),r=(a,o="success")=>{const c=Date.now();n(d=>[...d,{id:c,message:a,type:o}]),setTimeout(()=>{n(d=>d.filter(f=>f.id!==c))},4e3)},i=a=>{n(o=>o.filter(c=>c.id!==a))};return u.jsxs(qB.Provider,{value:{showNotification:r},children:[t,u.jsx("div",{className:"fixed top-8 left-1/2 -translate-x-1/2 z-50 flex flex-col gap-2 pointer-events-none",children:e.map(a=>u.jsx("div",{className:"pointer-events-auto animate-fade-in-down",children:u.jsxs("div",{className:`flex items-center gap-3 px-5 py-3 rounded-2xl shadow-2xl border transition-all ${a.type==="success"||a.type==="error","bg-white dark:bg-stone-900 border-stone-200 dark:border-stone-700"}`,children:[u.jsx("div",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${a.type==="success"?"bg-green-500 animate-pulse":(a.type==="error","bg-orange-500 animate-pulse")}`}),u.jsx("div",{className:"text-sm font-medium text-stone-900 dark:text-stone-50 whitespace-nowrap",children:a.message}),u.jsx("button",{onClick:()=>i(a.id),className:"flex-shrink-0 p-1 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-lg transition-colors ml-2",children:u.jsx(lp,{className:"w-3.5 h-3.5 text-stone-400 hover:text-stone-600 dark:hover:text-stone-300"})})]})},a.id))})]})};function i2e({agent:t,onBack:e,initialSection:n=null}){var Ee;const{updateAgent:r}=hf(),{user:i}=da(),{showNotification:a}=ob(),[o,c]=S.useState(!1),[d,f]=S.useState({projectName:"",logoUrl:"",userIcon:"alien"}),[m,g]=S.useState({allowedDomains:""}),[v,x]=S.useState([]),[w,T]=S.useState(null),[E,A]=S.useState({trigger:"first_visit",triggerValue:3,contentType:"discount",title:"Welcome! 👋",message:"Get a special discount on your first purchase",code:"FIRST20",discountPercent:20,buttonText:"Get Discount",buttonLink:"",videoUrl:""}),[k,j]=S.useState(null),[D,O]=S.useState(null),[L,P]=S.useState(n||"branding"),[C,M]=S.useState([]);S.useEffect(()=>{t&&(f({projectName:t.projectName||"",logoUrl:t.logoUrl||"",userIcon:t.userIcon||"alien"}),g({allowedDomains:t.allowedDomains?t.allowedDomains.join(`
`):""}),x(t.popups||[]),O(t.logoUrl||null))},[t]),S.useEffect(()=>{n&&P(n)},[n]),S.useEffect(()=>{if(!i||!t)return;const re=qt(nt,"users",i.uid,"agents",t.id,"alerts"),se=Va(re,Yc("timestamp","desc")),_e=xv(se,He=>{const Gt=He.docs.map(_t=>{var Ut;return{id:_t.id,..._t.data(),timestamp:(Ut=_t.data().timestamp)==null?void 0:Ut.toDate()}});M(Gt)});return()=>_e()},[i,t]);const z=t?`<!-- Orchis Chatbot -->
<script>
(function(){
  if(!window.OrchisChatbot){
    const script = document.createElement('script');
    script.src = 'https://orchis.app/chatbot-widget.js';
    script.onload = function() {
      if(window.OrchisChatbot) {
        window.OrchisChatbot.init({
          agentId: '${t.id}'
        });
      }
    };
    document.head.appendChild(script);
  }
})();
<\/script>`:"",V=async()=>{try{await navigator.clipboard.writeText(z),c(!0),a("Embed code copied to clipboard!","success"),setTimeout(()=>c(!1),2e3)}catch(re){console.error("Failed to copy:",re),a("Failed to copy to clipboard","error")}},H=async()=>{try{let re=d.logoUrl;k&&D&&(re=D);const se={projectName:d.projectName,logoUrl:re,userIcon:d.userIcon,updatedAt:new Date().toISOString()};await r(t.id,se),j(null),a("Branding updated successfully!","success")}catch(re){console.error("Error updating branding:",re),a("Error updating branding: "+re.message,"error")}},q=async()=>{try{const se={allowedDomains:m.allowedDomains.split(`
`).map(_e=>_e.trim()).filter(_e=>_e.length>0),updatedAt:new Date().toISOString()};await r(t.id,se),a("Security settings updated successfully!","success")}catch(re){console.error("Error updating security settings:",re),a("Error updating security settings: "+re.message,"error")}},G=()=>{const re={id:Date.now().toString(),...E},se=[...v,re];x(se),ee(se),A({trigger:"first_visit",triggerValue:3,contentType:"discount",title:"Welcome! 👋",message:"Get a special discount on your first purchase",code:"FIRST20",discountPercent:20,buttonText:"Get Discount",buttonLink:"",videoUrl:""})},W=()=>{const re=v.map(se=>se.id===w.id?{...E,id:w.id}:se);x(re),ee(re),T(null),A({trigger:"first_visit",triggerValue:3,contentType:"discount",title:"Welcome! 👋",message:"Get a special discount on your first purchase",code:"FIRST20",discountPercent:20,buttonText:"Get Discount",buttonLink:"",videoUrl:""})},U=re=>{const se=v.filter(_e=>_e.id!==re);x(se),ee(se)},K=re=>{T(re),A({trigger:re.trigger,triggerValue:re.triggerValue,contentType:re.contentType,title:re.title,message:re.message,code:re.code||"FIRST20",discountPercent:re.discountPercent||20,buttonText:re.buttonText||"Get Discount",buttonLink:re.buttonLink||"",videoUrl:re.videoUrl||""})},ee=async re=>{try{const se={popups:re,updatedAt:new Date().toISOString()};await r(t.id,se),a("Popups updated successfully!","success")}catch(se){console.error("Error updating popups:",se),a("Error updating popups: "+se.message,"error")}},Q=re=>{const se=re.target.files[0];if(se){j(se);const _e=new FileReader;_e.onload=()=>O(_e.result),_e.readAsDataURL(se)}},$=async re=>{if(!(!i||!t))try{const se=Vn(nt,"users",i.uid,"agents",t.id,"alerts",re);await Ld(se,{read:!0}),a("Alert marked as read","success")}catch(se){console.error("Error marking alert as read:",se),a("Error marking alert as read","error")}},X=async()=>{if(!(!i||!t))try{const re=C.filter(se=>!se.read);for(const se of re){const _e=Vn(nt,"users",i.uid,"agents",t.id,"alerts",se.id);await Ld(_e,{read:!0})}a("All alerts marked as read","success")}catch(re){console.error("Error marking all alerts as read:",re),a("Error marking all alerts as read","error")}},J=[{id:"branding",title:"Branding",icon:cI},{id:"security",title:"Allowed Domains",icon:sI},{id:"discounts",title:"Dynamic Contents",icon:xne},{id:"alerts",title:"Security Alerts",icon:Y0},{id:"embed",title:"Embed Code",icon:lI}],ce=()=>u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-stone-500 mb-1",children:"Agent Name"}),u.jsx("input",{type:"text",value:d.projectName,onChange:re=>f({...d,projectName:re.target.value}),className:"form-input text-sm bg-transparent border border-stone-300 dark:border-stone-700 text-neutral-900 dark:text-neutral-100",placeholder:"My Company"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-stone-500 mb-2",children:"Project Logo"}),u.jsxs("div",{className:"flex items-center space-x-3",children:[D&&u.jsx("img",{src:D,alt:"Logo preview",className:"w-10 h-10 rounded-lg object-cover border border-stone-200"}),u.jsx("input",{type:"file",accept:"image/*",onChange:Q,className:"hidden",id:"logo-upload-branding"}),u.jsxs("label",{htmlFor:"logo-upload-branding",className:"btn-secondary inline-flex items-center gap-2 text-xs py-2 px-3",children:[u.jsx(Dt,{icon:cI,className:"w-3 h-3"}),"Upload Logo"]})]})]}),u.jsx("div",{}),u.jsx("div",{className:"pt-4",children:u.jsx("button",{onClick:H,className:"btn-primary text-sm py-2 px-4",children:"Save Branding"})})]})}),xe=()=>u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-black dark:text-white mb-1",children:"Allowed Domains"}),u.jsx("textarea",{value:m.allowedDomains,onChange:re=>g({...m,allowedDomains:re.target.value}),className:"form-textarea bg-transparent text-black dark:text-white border border-stone-200 dark:border-stone-700 text-sm h-24",placeholder:`example.com
mysite.org
*.mydomain.com`,rows:4}),u.jsx("p",{className:"text-xs text-stone-500 mt-1",children:"One domain per line. Use * for subdomains (*.example.com). Leave empty to allow all domains."})]}),u.jsxs("div",{className:"bg-orange-500/5 border border-orange-500/20 rounded-lg p-4",children:[u.jsx("h4",{className:"text-sm font-medium text-black dark:text-white mb-2",children:"🔒 Security Features"}),u.jsxs("ul",{className:"text-xs text-black dark:text-white space-y-1",children:[u.jsxs("li",{children:["• ",u.jsx("strong",{children:"Domain Restriction:"})," Widget only works on allowed domains"]}),u.jsxs("li",{children:["• ",u.jsx("strong",{children:"HMAC Security:"})," Cryptographic signatures prevent unauthorized use"]}),u.jsxs("li",{children:["• ",u.jsx("strong",{children:"Replay Protection:"})," Requests expire after 5 minutes"]})]})]}),u.jsx("div",{className:"pt-4",children:u.jsx("button",{onClick:q,className:"btn-primary text-sm py-2 px-4",children:"Save Security Settings"})})]})}),be=(re,se)=>({first_visit:"First Visit",return_visit:"Return Visit",exit_intent:"Exit Intent",time_delay:`After ${se}s`,scroll_depth:`Scroll ${se}%`})[re]||re,Ne=re=>({discount:"Discount",announcement:"Announcement",video:"Video",link:"Link"})[re]||re,Fe=()=>u.jsxs("div",{className:"space-y-6",children:[v.length>0&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"text-sm font-medium text-black dark:text-white",children:"Active Popups"}),v.map(re=>u.jsx("div",{className:"bg-stone-50 dark:bg-stone-900/50 border border-stone-200 dark:border-stone-800 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"text-xs font-medium px-2 py-0.5 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded",children:be(re.trigger,re.triggerValue)}),u.jsx("span",{className:"text-xs font-medium px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded",children:Ne(re.contentType)})]}),u.jsx("p",{className:"text-sm font-medium text-black dark:text-white",children:re.title}),u.jsx("p",{className:"text-xs text-stone-500 mt-1",children:re.message})]}),u.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[u.jsx("button",{onClick:()=>K(re),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"Edit"}),u.jsx("button",{onClick:()=>U(re.id),className:"text-xs text-red-600 dark:text-red-400 hover:underline",children:"Delete"})]})]})},re.id))]}),u.jsxs("div",{className:"bg-stone-50 dark:bg-stone-900/50 border border-stone-200 dark:border-stone-800 rounded-lg p-6",children:[u.jsx("h3",{className:"text-base font-semibold text-black dark:text-white mb-4",children:w?"Edit Popup":"Add New Popup"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-black dark:text-white mb-2",children:"When to show popup (Trigger)"}),u.jsxs("select",{value:E.trigger,onChange:re=>A({...E,trigger:re.target.value}),className:"form-select text-sm bg-white dark:bg-stone-800 border border-stone-200 dark:border-stone-700 text-black dark:text-white rounded-lg w-full",children:[u.jsx("option",{value:"first_visit",children:"First Visit - User visits for the first time"}),u.jsx("option",{value:"return_visit",children:"Return Visit - User has been here before"}),u.jsx("option",{value:"exit_intent",children:"Exit Intent - Mouse leaves the page"}),u.jsx("option",{value:"time_delay",children:"Time Delay - After X seconds on page"}),u.jsx("option",{value:"scroll_depth",children:"Scroll Depth - After scrolling X%"})]})]}),(E.trigger==="time_delay"||E.trigger==="scroll_depth")&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-black dark:text-white mb-1",children:E.trigger==="time_delay"?"Delay (seconds)":"Scroll Percentage (%)"}),u.jsx("input",{type:"number",value:E.triggerValue,onChange:re=>A({...E,triggerValue:parseInt(re.target.value)}),className:"form-input text-sm bg-transparent border border-stone-200 dark:border-stone-700 text-black dark:text-white",placeholder:E.trigger==="time_delay"?"3":"50",min:E.trigger==="time_delay"?"1":"10",max:E.trigger==="time_delay"?"300":"100"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-black dark:text-white mb-2",children:"Content Type"}),u.jsxs("select",{value:E.contentType,onChange:re=>A({...E,contentType:re.target.value}),className:"form-select text-sm bg-white dark:bg-stone-800 border border-stone-200 dark:border-stone-700 text-black dark:text-white rounded-lg w-full",children:[u.jsx("option",{value:"discount",children:"Discount - Show discount code"}),u.jsx("option",{value:"announcement",children:"Announcement - General message"}),u.jsx("option",{value:"video",children:"Video - YouTube embed"}),u.jsx("option",{value:"link",children:"Link - Button with redirect"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-black dark:text-white mb-1",children:"Title"}),u.jsx("input",{type:"text",value:E.title,onChange:re=>A({...E,title:re.target.value}),className:"form-input text-sm bg-transparent border border-stone-200 dark:border-stone-700 text-black dark:text-white",placeholder:"Welcome! 👋"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-black dark:text-white mb-1",children:"Message"}),u.jsx("textarea",{value:E.message,onChange:re=>A({...E,message:re.target.value}),className:"form-textarea bg-transparent text-black dark:text-white border border-stone-200 dark:border-stone-700 text-sm",placeholder:"Your message here...",rows:3})]}),E.contentType==="discount"&&u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-black dark:text-white mb-1",children:"Discount Code"}),u.jsx("input",{type:"text",value:E.code,onChange:re=>A({...E,code:re.target.value}),className:"form-input text-sm bg-transparent border border-stone-200 dark:border-stone-700 text-black dark:text-white font-mono",placeholder:"SAVE20"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-black dark:text-white mb-1",children:"Discount %"}),u.jsx("input",{type:"number",value:E.discountPercent,onChange:re=>A({...E,discountPercent:parseInt(re.target.value)}),className:"form-input text-sm bg-transparent border border-stone-200 dark:border-stone-700 text-black dark:text-white",placeholder:"20",min:"0",max:"100"})]})]}),E.contentType==="video"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-black dark:text-white mb-1",children:"YouTube Video URL"}),u.jsx("input",{type:"text",value:E.videoUrl,onChange:re=>A({...E,videoUrl:re.target.value}),className:"form-input text-sm bg-transparent border border-stone-200 dark:border-stone-700 text-black dark:text-white",placeholder:"https://www.youtube.com/watch?v=..."})]}),(E.contentType==="link"||E.contentType==="announcement")&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-black dark:text-white mb-1",children:"Button Text"}),u.jsx("input",{type:"text",value:E.buttonText,onChange:re=>A({...E,buttonText:re.target.value}),className:"form-input text-sm bg-transparent border border-stone-200 dark:border-stone-700 text-black dark:text-white",placeholder:"Learn More"})]}),E.contentType==="link"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-black dark:text-white mb-1",children:"Button Link URL"}),u.jsx("input",{type:"text",value:E.buttonLink,onChange:re=>A({...E,buttonLink:re.target.value}),className:"form-input text-sm bg-transparent border border-stone-200 dark:border-stone-700 text-black dark:text-white",placeholder:"https://example.com/page"})]})]}),u.jsx("div",{className:"flex gap-2 pt-2",children:w?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:W,className:"btn-primary text-sm py-2 px-4",children:"Update Popup"}),u.jsx("button",{onClick:()=>{T(null),A({trigger:"first_visit",triggerValue:3,contentType:"discount",title:"Welcome! 👋",message:"Get a special discount on your first purchase",code:"FIRST20",discountPercent:20,buttonText:"Get Discount",buttonLink:"",videoUrl:""})},className:"btn-secondary text-sm py-2 px-4",children:"Cancel"})]}):u.jsx("button",{onClick:G,className:"btn-primary text-sm py-2 px-4",children:"Add Popup"})})]})]})]}),Ie=()=>u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex gap-3",children:u.jsx("button",{onClick:V,className:"btn-primary flex items-center gap-2",children:o?u.jsxs(u.Fragment,{children:[u.jsx(Dt,{icon:W8,className:"w-4 h-4"}),"Copied!"]}):u.jsxs(u.Fragment,{children:[u.jsx(Dt,{icon:lI,className:"w-4 h-4"}),"Copy Code"]})})}),u.jsx("div",{className:"bg-stone-900 rounded-lg p-4 overflow-x-auto",children:u.jsx("pre",{className:"text-green-400 text-xs font-mono whitespace-pre-wrap",children:z})}),u.jsxs("div",{className:"bg-orange-500/5 border border-orange-500/20 rounded-lg p-4",children:[u.jsx("h4",{className:"text-sm font-bold text-black dark:text-white mb-2",children:"Installation"}),u.jsxs("ol",{className:"text-xs text-black dark:text-white space-y-1 list-decimal list-inside",children:[u.jsx("li",{children:"Copy the embed code above"}),u.jsx("li",{children:"Paste before the closing </body> tag (not in <head>)"}),u.jsx("li",{children:"The chatbot will appear automatically on your site"}),u.jsx("li",{children:"Test on your website to ensure it's working"})]}),u.jsx("div",{className:"mt-2 text-xs font-bold text-black dark:text-white",children:"💡 Place in body for better performance and SEO"})]})]}),pe=()=>{const re=C.filter(_e=>!_e.read),se=C.filter(_e=>_e.read);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm text-stone-600 dark:text-stone-400",children:re.length>0?u.jsxs("span",{className:"text-red-500 font-medium",children:[re.length," unread alert",re.length>1?"s":""]}):u.jsx("span",{children:"No unread alerts"})}),re.length>0&&u.jsxs("button",{onClick:X,className:"btn-secondary text-xs py-1 px-3 flex items-center gap-1",children:[u.jsx(Dt,{icon:oI,className:"w-3 h-3"}),"Mark all as read"]})]}),C.length===0?u.jsxs("div",{className:"text-center py-12 bg-stone-50 dark:bg-stone-800/50 rounded-lg border border-stone-200 dark:border-stone-700",children:[u.jsx(Dt,{icon:Y0,className:"w-12 h-12 text-stone-300 dark:text-stone-600 mx-auto mb-3"}),u.jsx("p",{className:"text-sm text-stone-500",children:"No security alerts yet"}),u.jsx("p",{className:"text-xs text-stone-400 mt-1",children:"You'll be notified here when unauthorized access is attempted"})]}):u.jsxs("div",{className:"space-y-3",children:[re.map(_e=>u.jsx("div",{className:"bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-800/30 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start justify-between gap-3",children:[u.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[u.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/20 rounded-lg",children:u.jsx(Dt,{icon:Y0,className:"w-4 h-4 text-red-600 dark:text-red-400"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"text-sm font-medium text-red-900 dark:text-red-100",children:_e.type==="domain_blocked"?"🚫 Unauthorized Domain Access":"Security Alert"}),u.jsxs("p",{className:"text-xs text-red-700 dark:text-red-300 mt-1",children:["Domain: ",u.jsx("span",{className:"font-mono",children:_e.requestDomain})]}),_e.message&&u.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:['Message preview: "',_e.message,'"']}),u.jsx("p",{className:"text-xs text-red-500 dark:text-red-500 mt-2",children:_e.timestamp?new Date(_e.timestamp).toLocaleString():"Just now"})]})]}),u.jsx("button",{onClick:()=>$(_e.id),className:"text-xs text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200 font-medium",children:"Mark as read"})]})},_e.id)),se.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs text-stone-400 font-medium mt-6 mb-2",children:"Read Alerts"}),se.map(_e=>u.jsx("div",{className:"bg-stone-50 dark:bg-stone-800/50 border border-stone-200 dark:border-stone-700 rounded-lg p-4 opacity-60",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"p-2 bg-stone-100 dark:bg-stone-700 rounded-lg",children:u.jsx(Dt,{icon:oI,className:"w-4 h-4 text-stone-500"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"text-sm font-medium text-stone-700 dark:text-stone-300",children:_e.type==="domain_blocked"?"🚫 Unauthorized Domain Access":"Security Alert"}),u.jsxs("p",{className:"text-xs text-stone-600 dark:text-stone-400 mt-1",children:["Domain: ",u.jsx("span",{className:"font-mono",children:_e.requestDomain})]}),u.jsx("p",{className:"text-xs text-stone-500 mt-2",children:_e.timestamp?new Date(_e.timestamp).toLocaleString():"Just now"})]})]})},_e.id))]})]}),u.jsxs("div",{className:"bg-orange-500/5 border border-orange-500/20 rounded-lg p-4",children:[u.jsx("h4",{className:"text-sm font-medium text-black dark:text-white mb-2",children:"ℹ️ About Security Alerts"}),u.jsxs("ul",{className:"text-xs text-black dark:text-white space-y-1",children:[u.jsx("li",{children:"• Alerts are triggered when someone tries to use your widget from an unauthorized domain"}),u.jsxs("li",{children:["• Configure allowed domains in the ",u.jsx("strong",{children:"Security"})," section"]}),u.jsx("li",{children:"• All blocked attempts are logged here for your review"})]})]})]})};return t?u.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-6",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("div",{className:"flex items-center gap-3 mb-4",children:u.jsxs("button",{onClick:e,className:"flex items-center gap-2 p-2 text-stone-900 dark:text-stone-50 hover:text-stone-500 transition-colors rounded-lg hover:bg-stone-200 dark:md:hover:bg-stone-800 cursor-pointer",title:"Back to Analytics",children:[u.jsx(Dt,{icon:iA,className:"w-4 h-4"}),u.jsx("span",{className:"text-xs text-stone-500",children:"Back"})]})}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-thin text-stone-900 dark:text-stone-50",children:"Embed Settings"}),u.jsx("div",{className:"w-12 h-px bg-stone-900 dark:bg-stone-100 mt-4"})]})})]}),u.jsxs("div",{className:"flex gap-8",children:[u.jsx("div",{className:"w-64 bg-transparent p-1",children:u.jsx("div",{className:"space-y-1",children:J.map(re=>{const se=re.icon;return u.jsxs("button",{onClick:()=>P(re.id),className:`w-full flex items-center gap-1 px-4 py-2 text-left rounded-lg hover:bg-stone-800 dark:md:hover:bg-stone-100 hover:text-white dark:md:hover:text-stone-900 transition-colors group ${L===re.id?"bg-stone-800 dark:bg-stone-100 text-white dark:text-black":""}`,children:[u.jsx(Dt,{icon:se,className:`w-4 h-4 transition-colors ${L===re.id?"text-white dark:text-black":"text-stone-500 group-hover:text-white dark:md:group-hover:text-stone-900"}`}),u.jsx("span",{className:`text-sm font-medium transition-colors ${L===re.id?"text-white dark:text-black":"text-stone-900 dark:text-stone-50 dark:md:group-hover:text-stone-900 group-hover:text-white"}`,children:re.title})]},re.id)})})}),u.jsxs("div",{className:"flex-1 bg-white dark:bg-stone-800/50 rounded-xl border border-stone-200 dark:border-stone-800 p-6",children:[u.jsx("h2",{className:"text-lg font-medium text-stone-900 dark:text-stone-50 mb-6",children:(Ee=J.find(re=>re.id===L))==null?void 0:Ee.title}),L==="branding"&&ce(),L==="security"&&xe(),L==="discounts"&&Fe(),L==="alerts"&&pe(),L==="embed"&&Ie()]})]})]}):u.jsx("div",{className:"flex items-center justify-center h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Dt,{icon:sI,className:"w-16 h-16 text-stone-400 mx-auto mb-4"}),u.jsx("h2",{className:"text-xl font-semibold text-stone-900 dark:text-stone-50 mb-2",children:"No Agent Selected"}),u.jsx("p",{className:"text-stone-600 dark:text-stone-400",children:"Please select an agent to generate embed code."})]})})}function HB({isOpen:t,onClose:e,currentPlan:n,agentLimit:r,currentAgentCount:i}){const a=Wr();if(!t)return null;const o=()=>{e(),a("/dashboard/billing")};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white dark:bg-stone-900 rounded-3xl shadow-2xl max-w-md w-full border border-stone-200 dark:border-stone-800",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-stone-200 dark:border-stone-800",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Dt,{icon:wne,className:"w-5 h-5 text-orange-600"}),u.jsx("h2",{className:"text-lg font-semibold text-stone-900 dark:text-stone-50",children:"Agent Limit Reached"})]}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-lg transition-colors",children:u.jsx(Dt,{icon:G8,className:"w-5 h-5 text-stone-500"})})]}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsxs("p",{className:"text-sm text-stone-600 dark:text-stone-400",children:["You've reached the agent limit for your ",u.jsx("strong",{className:"text-stone-900 dark:text-stone-50 capitalize",children:n||"Free"})," plan (",i,"/",r===-1?"∞":r,"). Upgrade to create more agents."]}),u.jsxs("div",{className:"space-y-2",children:[n==="free"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-2 text-xs text-stone-600 dark:text-stone-400",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Starter:"})," 1 agent"]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-stone-600 dark:text-stone-400",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Growth:"})," 5 agents"]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-stone-600 dark:text-stone-400",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Scale:"})," Unlimited agents"]})]})]}),n==="starter"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-2 text-xs text-stone-600 dark:text-stone-400",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Growth:"})," 5 agents"]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-stone-600 dark:text-stone-400",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Scale:"})," Unlimited agents"]})]})]}),n==="growth"&&u.jsxs("div",{className:"flex items-center gap-2 text-xs text-stone-600 dark:text-stone-400",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Scale:"})," Unlimited agents"]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-3 p-6 bg-stone-50 dark:bg-stone-900/50 rounded-3xl",children:[u.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 text-sm font-medium text-stone-700 dark:text-stone-300 hover:bg-stone-200 dark:hover:bg-stone-800 rounded-lg transition-colors",children:"Cancel"}),u.jsxs("button",{onClick:o,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 rounded-lg transition-colors flex items-center justify-center gap-1",children:[u.jsx(Dt,{icon:jne,className:"w-4 h-4"}),"Upgrade Plan"]})]})]})})}function a2e({onBack:t}){const e=Wr(),{user:n}=da(),{createAgent:r}=hf(),{showNotification:i}=ob(),[a,o]=S.useState(1),[c,d]=S.useState({projectName:"",websiteUrl:"",trainingText:"",privacyUrl:"",termsUrl:""}),[f,m]=S.useState(null),[g,v]=S.useState(null),[x,w]=S.useState([]),[T,E]=S.useState(!1),[A,k]=S.useState(!1),[j,D]=S.useState(!1),[O,L]=S.useState(!1),[P,C]=S.useState(null),[M,z]=S.useState({current:0,total:4,currentStep:"",completed:[]}),[V,H]=S.useState(!1),[q,G]=S.useState(!1),[W,U]=S.useState(!1),[K,ee]=S.useState(!1),[Q,$]=S.useState(null),[X,J]=S.useState(0),[ce,xe]=S.useState(!1),[be,Ne]=S.useState([]),[Fe,Ie]=S.useState(null),[pe,Ee]=S.useState(!1),[re,se]=S.useState(1),[_e,He]=S.useState({trigger:"first_visit",triggerValue:3,contentType:"discount",title:"Welcome! 👋",message:"Get a special discount with code",code:"RETURN20",discountPercent:20,buttonText:"Get Discount",buttonLink:"https://orchis.app",videoUrl:"https://www.youtube.com/watch?v=qU9mHegkTc4"});S.useEffect(()=>{(async()=>{if(n)try{const we=await tp(Vn(nt,"users",n.uid));if(we.exists()){const ke=we.data();$({plan:ke.subscriptionPlan||"free",agentLimit:ke.agentLimit||0,status:ke.subscriptionStatus||"free"})}const je=qt(nt,"users",n.uid,"agents"),it=await zn(je);J(it.size)}catch(we){console.error("Error fetching subscription data:",we)}})()},[n]),S.useEffect(()=>{if(!P||!n)return;console.log("👂 Setting up Firestore listener for agent:",P);let fe=!1,we=!1;const je=Vn(nt,"users",n.uid,"agents",P),it=xv(je,ke=>{if(ke.exists()){const Ze=ke.data();console.log("📊 Training status update:",Ze.trainingStatus),Ze.trainingStatus==="trained"&&!fe?(console.log("✅ Training complete!"),k(!1),L(!0),i("Agent trained successfully! 🎉","success"),fe=!0):Ze.trainingStatus==="training"?console.log("🔄 Still training..."):Ze.trainingStatus==="failed"&&!we&&(console.log("❌ Training failed"),k(!1),i("Training failed. Please try again.","error"),we=!0)}},ke=>{console.error("❌ Firestore listener error:",ke)});return()=>{console.log("🔇 Cleaning up Firestore listener"),it()}},[P,n]);const Gt=async()=>{if(!c.websiteUrl){i("Please enter a website URL","error");return}D(!0),z({current:0,total:4,currentStep:"Starting...",completed:[]});const fe=[{key:"logo",label:"Grabbing your brand logo..."},{key:"title",label:"Learning your business name..."},{key:"description",label:"Understanding what you do..."},{key:"metadata",label:"Almost ready for your chatbot!"}];try{let we=c.websiteUrl.trim();!we.startsWith("http://")&&!we.startsWith("https://")&&(we="https://"+we);const je=new URL(we);for(let Le=0;Le<fe.length;Le++)await new Promise(Wn=>setTimeout(Wn,1e3)),z({current:Le+1,total:fe.length,currentStep:fe[Le].label,completed:fe.slice(0,Le+1).map(Wn=>Wn.key)});const ke=await La(W0,"fetchWebsiteMetadata")({url:we}),{siteName:Ze,description:Pe}=ke.data,mt=`https://www.google.com/s2/favicons?domain=${je.hostname}&sz=128`;v(mt),d(Le=>({...Le,websiteUrl:we,name:Ze,projectName:Ze,description:Pe})),H(!0),i("Information loaded successfully!","success")}catch(we){console.error("Error fetching metadata:",we),i("Could not load information. Using URL as fallback.","error");try{let je=c.websiteUrl.trim();!je.startsWith("http://")&&!je.startsWith("https://")&&(je="https://"+je);const it=new URL(je),ke=`https://www.google.com/s2/favicons?domain=${it.hostname}&sz=128`,Ze=it.hostname.replace("www.","").split(".")[0];v(ke),d(Pe=>({...Pe,websiteUrl:je,name:Ze.charAt(0).toUpperCase()+Ze.slice(1),projectName:Ze.charAt(0).toUpperCase()+Ze.slice(1)})),H(!0)}catch(je){console.error("Fallback failed:",je)}}finally{D(!1)}},_t=fe=>{d({...c,[fe.target.name]:fe.target.value})},Ut=fe=>{const we=fe.target.files[0];if(we){m(we);const je=new FileReader;je.onload=()=>v(je.result),je.readAsDataURL(we)}},Xr=async fe=>{const we=Array.from(fe).filter(ke=>{const Pe=["application/pdf","text/plain","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(ke.type)&&ke.size<=10485760,mt=x.some(Le=>Le.name===ke.name&&Le.size===ke.size);return Pe&&!mt});if(we.length===0)return;const je=we.map((ke,Ze)=>({id:`${Date.now()}-${Math.random()}-${Ze}`,file:ke,name:ke.name,size:ke.size,type:ke.type,status:"processing",progress:0,textContent:null}));w(ke=>[...ke,...je]);const it=document.getElementById("file-upload-create");it&&(it.value=""),je.forEach(async ke=>{try{const Ze=async(mt,Le)=>{const Kt=mt/20,gt=Le/20;for(let wt=0;wt<=20;wt++)await new Promise(wr=>setTimeout(wr,gt)),w(wr=>wr.map(js=>js.id===ke.id?{...js,progress:Math.min(mt,Math.round(wt*Kt))}:js))};w(mt=>mt.map(Le=>Le.id===ke.id?{...Le,status:"uploading",progress:0}:Le)),await Ze(30,800),w(mt=>mt.map(Le=>Le.id===ke.id?{...Le,status:"processing"}:Le)),await Ze(60,600),w(mt=>mt.map(Le=>Le.id===ke.id?{...Le,status:"extracting"}:Le)),await Ze(90,400);const Pe=await qa(ke.file);await Ze(100,300),w(mt=>mt.map(Le=>Le.id===ke.id?{...Le,status:"ready",textContent:Pe}:Le))}catch(Ze){console.error("Processing failed:",Ze),w(Pe=>Pe.map(mt=>mt.id===ke.id?{...mt,status:"error",error:Ze.message}:mt))}})},qa=async fe=>{try{const we=VJ(Cte,`temp/${n.uid}/${fe.name}`);await LJ(we,fe);const it=await UJ(we);return(await La(W0,"processDocument")({fileName:fe.name,fileUrl:it,agentId:"temp"})).data.textContent||"No text extracted"}catch(we){throw console.error("Backend processing error:",we),we}},ga=fe=>{fe.preventDefault(),E(!0)},$i=fe=>{fe.preventDefault(),E(!1)},Uo=fe=>{fe.preventDefault(),E(!1),Xr(fe.dataTransfer.files)},va=fe=>{w(we=>we.filter(je=>je.id!==fe))},ya=fe=>{if(fe===0)return"0 Bytes";const we=1024,je=["Bytes","KB","MB","GB"],it=Math.floor(Math.log(fe)/Math.log(we));return parseFloat((fe/Math.pow(we,it)).toFixed(2))+" "+je[it]},Se=fe=>fe.includes("pdf")?"📄":fe.includes("text")?"📝":fe.includes("word")?"📘":"📄",Be=async()=>{var je,it;const fe=x.filter(ke=>ke.status==="ready");if(c.trainingText.trim().length+fe.reduce((ke,Ze)=>{var Pe;return ke+(((Pe=Ze.textContent)==null?void 0:Pe.length)||0)},0)<100){i("Please provide at least 100 characters of training content","error");return}if(!c.projectName||!c.websiteUrl){i("Please enter agent name and website URL","error");return}if(Q){const{agentLimit:ke}=Q;if(ke!==-1&&X>=ke){xe(!0);return}}k(!0),await new Promise(ke=>setTimeout(ke,100));try{let ke=[],Ze=c.websiteUrl;if(c.websiteUrl)try{!c.websiteUrl.startsWith("http://")&&!c.websiteUrl.startsWith("https://")&&(Ze="https://"+c.websiteUrl.trim());const wt=new URL(Ze).hostname.replace(/^www\./,"");ke=[wt],console.log("✅ Extracted domain for allowedDomains:",wt)}catch(gt){console.warn("Could not extract domain from URL:",gt)}const Pe={...c,websiteUrl:Ze,logoUrl:g,documentCount:fe.length,trainingStatus:"training",allowedDomains:ke,userId:n.uid,createdAt:new Date().toISOString(),popups:be};console.log("📦 Agent Data being sent:",{popups:Pe.popups,popupsCount:be.length});const mt=await r(Pe),Le=mt.id||mt;w(gt=>gt.map(wt=>wt.status==="ready"?{...wt,status:"training"}:wt));const Wn=[];c.trainingText.trim()&&Wn.push({id:`text-${Date.now()}`,name:"Pasted Training Content",type:"text/plain",textContent:c.trainingText.trim(),processedAt:new Date().toISOString()}),fe.forEach(gt=>{Wn.push({id:gt.id,name:gt.name,size:gt.size,type:gt.type,textContent:gt.textContent,processedAt:new Date().toISOString()})}),(je=c.privacyUrl)!=null&&je.trim()&&Wn.push({id:`privacy-${Date.now()}`,name:"Privacy Policy",type:"url",url:c.privacyUrl.trim(),processedAt:new Date().toISOString()}),(it=c.termsUrl)!=null&&it.trim()&&Wn.push({id:`terms-${Date.now()}`,name:"Terms of Service",type:"url",url:c.termsUrl.trim(),processedAt:new Date().toISOString()}),await La(W0,"trainAgent")({agentId:Le,documents:Wn,agentConfig:{projectName:c.projectName,userId:n.uid}}),w(gt=>gt.map(wt=>({...wt,status:"processed"}))),console.log("✅ Training completed! Agent ID:",Le),console.log("🚫 NOT navigating - staying on create page to show embed code"),k(!1),L(!0),C(Le),i("Agent created and trained successfully! 🎉","success")}catch(ke){console.error("❌ Error training agent:",ke),w(Ze=>Ze.map(Pe=>Pe.status==="training"?{...Pe,status:"ready"}:Pe)),i("Error: "+(ke.message||"Could not create agent"),"error"),k(!1)}},Xe=()=>{if(a===1)return c.projectName&&c.websiteUrl&&g;if(a===2)return c.trainingText.trim().length+x.filter(we=>we.status==="ready").reduce((we,je)=>{var it;return we+(((it=je.textContent)==null?void 0:it.length)||0)},0)>=100;if(a===3)return!0;if(a===4){if(Q){const{agentLimit:fe}=Q;if(fe!==-1&&X>=fe)return!1}return!0}return!0},Vt=()=>{let fe="";return a===1?fe="Website Info":a===2?fe="Training Content":a===3?fe="Dynamic Contents":a===4&&(O?fe="Embed Code":A?fe="Training Agent...":fe="Train Agent"),a<=3?u.jsxs("div",{className:"mb-4 sm:mb-6",children:[u.jsx("div",{className:"flex items-center justify-center gap-2 mb-3",children:[1,2,3].map(we=>u.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${we===a?"w-8 bg-stone-900 dark:bg-stone-50":we<a?"w-1.5 bg-stone-400 dark:bg-stone-500":"w-1.5 bg-stone-300 dark:bg-stone-700"}`},we))}),u.jsx("h2",{className:"text-base sm:text-lg font-semibold text-stone-900 dark:text-stone-50 text-center",children:fe})]}):u.jsx("div",{className:"mb-4 sm:mb-6",children:u.jsx("h2",{className:"text-base sm:text-lg font-semibold text-stone-900 dark:text-stone-50 text-center",children:fe})})},Et=()=>j?u.jsxs("div",{className:"space-y-4 text-center py-6",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"relative w-16 h-16",children:u.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-1",children:[u.jsx("div",{className:"w-2 h-2 bg-stone-900 dark:bg-stone-50 rounded-full animate-bounce-dot",style:{animationDelay:"0ms"}}),u.jsx("div",{className:"w-2 h-2 bg-stone-900 dark:bg-stone-50 rounded-full animate-bounce-dot",style:{animationDelay:"150ms"}}),u.jsx("div",{className:"w-2 h-2 bg-stone-900 dark:bg-stone-50 rounded-full animate-bounce-dot",style:{animationDelay:"300ms"}})]})})}),u.jsx("h3",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50",children:"Setting up your chatbot..."}),u.jsxs("div",{className:"max-w-xs mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-xs text-stone-700 dark:text-stone-300 font-medium",children:M.currentStep}),u.jsxs("span",{className:"text-xs text-stone-900 dark:text-stone-50 font-bold",children:[Math.round(M.current/M.total*100),"%"]})]}),u.jsx("div",{className:"w-full bg-stone-200 dark:bg-stone-700 rounded-full h-2 overflow-hidden",children:u.jsx("div",{className:"bg-stone-900 dark:bg-stone-50 h-2 rounded-full transition-all duration-500",style:{width:`${M.current/M.total*100}%`}})}),u.jsx("div",{className:"mt-4 space-y-2 text-left",children:["logo","title","description","metadata"].map((fe,we)=>u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[M.completed.includes(fe)?u.jsx(Ta,{className:"w-4 h-4 text-green-500"}):u.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-stone-300 dark:border-stone-600"}),u.jsx("span",{className:M.completed.includes(fe)?"text-green-600 dark:text-green-400":"text-stone-500 dark:text-stone-400",children:["Your logo","Business name","What you do","Chatbot ready!"][we]})]},fe))})]})]}):V&&g?u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-center mb-4",children:u.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-green-600 font-medium mb-3",children:[u.jsx(Ta,{className:"w-5 h-5"}),u.jsx("span",{children:"Got it! Review your details:"})]})}),u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:g,alt:"Logo",className:"w-20 h-20 rounded-xl object-cover dark:border-stone-700"}),u.jsx("input",{type:"file",accept:"image/*",onChange:Ut,className:"hidden",id:"logo-upload-step1-edit"}),u.jsx("label",{htmlFor:"logo-upload-step1-edit",className:"absolute -bottom-2 -right-2 p-1.5 bg-stone-900 dark:bg-stone-50 text-white dark:text-stone-900 rounded-lg cursor-pointer hover:bg-stone-700 dark:hover:bg-stone-200 transition-colors shadow-lg",title:"Change logo",children:u.jsx(iI,{className:"w-3 h-3"})})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-stone-600 dark:text-stone-400 mb-1.5",children:"Project Name"}),u.jsx("input",{type:"text",name:"projectName",value:c.projectName,onChange:_t,className:"form-input text-sm text-black dark:text-white bg-white dark:bg-stone-900 border border-stone-300 dark:border-stone-700 rounded-xl",placeholder:"Acme Corp"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-stone-600 dark:text-stone-400 mb-1.5",children:"Website URL"}),u.jsx("input",{type:"url",name:"websiteUrl",value:c.websiteUrl,onChange:_t,className:"form-input text-sm text-black dark:text-white bg-white dark:bg-stone-900 border border-stone-300 dark:border-stone-700 rounded-xl",placeholder:"https://example.com"})]})]})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-center mb-4",children:u.jsx("p",{className:"text-sm text-stone-600 dark:text-stone-400",children:"Enter your website URL and we'll fetch everything automatically"})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-stone-600 dark:text-stone-400 mb-1.5",children:"Website URL"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"url",name:"websiteUrl",value:c.websiteUrl,onChange:_t,onKeyPress:fe=>{fe.key==="Enter"&&c.websiteUrl&&Gt()},className:"form-input text-sm text-black dark:text-white bg-white dark:bg-stone-900 border border-stone-300 dark:border-stone-700 rounded-xl flex-1",placeholder:"https://example.com"}),u.jsxs("button",{onClick:Gt,disabled:!c.websiteUrl||j,className:"btn-primary text-xs py-2 px-4 rounded-xl inline-flex items-center gap-1.5 disabled:opacity-30 disabled:cursor-not-allowed whitespace-nowrap",children:[u.jsx(Nm,{className:"w-4 h-4"}),"Auto-fill"]})]}),u.jsx("p",{className:"text-xs text-stone-500 mt-2",children:"We'll automatically grab your logo, site title, and description"})]}),u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/10 border border-blue-200 dark:border-blue-800 rounded-xl p-3",children:u.jsxs("p",{className:"text-xs text-stone-700 dark:text-stone-300",children:[u.jsx("strong",{children:"Tip:"})," Paste your website URL and click Auto-fill. We'll do the rest!"]})})]}),br=()=>{const fe=x.filter(Pe=>Pe.status==="ready"),we=c.trainingText.trim().length+fe.reduce((Pe,mt)=>{var Le;return Pe+(((Le=mt.textContent)==null?void 0:Le.length)||0)},0),je=we>=300,it=c.trainingText.trim().length>0,ke=x.filter(Pe=>Pe.status==="ready").length>0,Ze=c.privacyUrl||c.termsUrl;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-center mb-4",children:u.jsx("p",{className:"text-sm text-stone-600 dark:text-stone-400",children:"Choose how to train your agent"})}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:()=>G(!0),className:"w-full text-left border-2 border-stone-200 dark:border-stone-700 rounded-2xl p-4 hover:border-stone-900 dark:hover:border-stone-400 transition-all bg-white dark:bg-stone-800/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${it?"bg-green-500 border-green-500":"border-stone-900 dark:border-stone-400 bg-stone-50 dark:bg-stone-800"}`,children:it&&u.jsx(Ta,{className:"w-4 h-4 text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50",children:"Text Content"}),u.jsx("p",{className:"text-xs text-stone-500 mt-0.5",children:it?`✓ ${c.trainingText.length} characters added`:"Paste FAQs, product info, or business details"})]}),u.jsx(l0,{className:"w-4 h-4 text-stone-400"})]})}),u.jsx("button",{onClick:()=>U(!0),className:"w-full text-left border-2 border-stone-200 dark:border-stone-700 rounded-2xl p-4 hover:border-stone-900 dark:hover:border-stone-400 transition-all bg-white dark:bg-stone-800/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${ke?"bg-green-500 border-green-500":"border-stone-900 dark:border-stone-400 bg-stone-50 dark:bg-stone-800"}`,children:ke&&u.jsx(Ta,{className:"w-4 h-4 text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50",children:"Documents"}),u.jsx("p",{className:"text-xs text-stone-500 mt-0.5",children:ke?`✓ ${x.filter(Pe=>Pe.status==="ready").length} file(s) uploaded`:"Upload PDFs, Word docs, or text files"})]}),u.jsx(l0,{className:"w-4 h-4 text-stone-400"})]})}),u.jsx("button",{onClick:()=>ee(!0),className:"w-full text-left border-2 border-stone-200 dark:border-stone-700 rounded-2xl p-4 hover:border-stone-900 dark:hover:border-stone-400 transition-all bg-white dark:bg-stone-800/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${Ze?"bg-green-500 border-green-500":"border-stone-300 dark:border-stone-600"}`,children:Ze&&u.jsx(Ta,{className:"w-4 h-4 text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50",children:"Policy Links"}),u.jsx("span",{className:"text-xs text-stone-500",children:"Optional"})]}),u.jsx("p",{className:"text-xs text-stone-500 mt-0.5",children:Ze?"✓ Added":"Privacy Policy & Terms of Service URLs"})]}),u.jsx(l0,{className:"w-4 h-4 text-stone-400"})]})})]}),je&&u.jsx("div",{className:"mt-4 bg-green-50 dark:bg-green-900/10 border border-green-200 dark:border-green-800 rounded-xl p-3",children:u.jsxs("p",{className:"text-xs text-green-700 dark:text-green-400 font-medium",children:["✓ Ready to continue! Your agent has ",we," characters of training content."]})}),!je&&u.jsx("div",{className:"mt-4 bg-stone-100 dark:bg-stone-800 border border-stone-300 dark:border-stone-600 rounded-xl p-3",children:u.jsx("p",{className:"text-xs text-stone-700 dark:text-stone-300",children:"⚠️ Please add at least 300 characters of training content to continue."})})]}),q&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>G(!1),children:u.jsxs("div",{className:"bg-white dark:bg-stone-900 rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",onClick:Pe=>Pe.stopPropagation(),children:[u.jsx("div",{className:"sticky top-0 bg-white dark:bg-stone-900 border-b border-stone-200 dark:border-stone-700 p-5 z-10",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg font-bold text-stone-900 dark:text-stone-50",children:"Text Content"}),u.jsx("button",{onClick:()=>G(!1),className:"p-2 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-xl transition-colors",children:"✕"})]})}),u.jsx("div",{className:"p-5 space-y-4",children:u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50",children:"Paste Training Text"}),u.jsx("button",{onClick:()=>{d({...c,trainingText:`Q: What are your business hours?
A: We're open 9am-5pm Mon-Fri

Q: How can I contact support?
A: Email support@example.com

Q: What products/services do you offer?
A: 

Q: What is your pricing?
A: `})},className:"text-xs text-orange-600 hover:underline",children:"Use template"})]}),u.jsx("textarea",{name:"trainingText",value:c.trainingText,onChange:_t,placeholder:`Paste FAQ, product info, or any details...

Example:
Q: What are your hours?
A: We're open 9am-5pm Mon-Fri`,className:"form-textarea text-sm text-black dark:text-white bg-white dark:bg-stone-900 border border-stone-300 dark:border-stone-700 rounded-xl w-full h-48 resize-none",maxLength:1e4}),u.jsx("div",{className:"mt-2 flex items-center justify-between",children:u.jsxs("span",{className:"text-xs text-stone-500",children:[c.trainingText.length," / 10,000 characters"]})})]})}),u.jsx("div",{className:"sticky bottom-0 bg-white dark:bg-stone-900 border-t border-stone-200 dark:border-stone-700 p-5",children:u.jsx("button",{onClick:()=>G(!1),className:"btn-primary w-full py-2 rounded-xl",children:"Done"})})]})}),W&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>U(!1),children:u.jsxs("div",{className:"bg-white dark:bg-stone-900 rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",onClick:Pe=>Pe.stopPropagation(),children:[u.jsx("div",{className:"sticky top-0 bg-white dark:bg-stone-900 border-b border-stone-200 dark:border-stone-700 p-5 z-10",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg font-bold text-stone-900 dark:text-stone-50",children:"Upload Documents"}),u.jsx("button",{onClick:()=>U(!1),className:"p-2 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-xl transition-colors",children:"✕"})]})}),u.jsxs("div",{className:"p-5 space-y-4",children:[u.jsxs("div",{className:`border-2 border-dashed rounded-2xl p-6 text-center transition-colors ${T?"border-orange-400 bg-orange-50 dark:bg-orange-900/10":"border-stone-300 dark:border-stone-700"}`,onDragOver:ga,onDragLeave:$i,onDrop:Uo,children:[u.jsx(Jte,{className:"w-8 h-8 text-stone-400 mx-auto mb-2"}),u.jsx("p",{className:"text-xs text-stone-600 dark:text-stone-400 mb-2",children:"Drop files or click to browse"}),u.jsx("input",{type:"file",multiple:!0,accept:".pdf,.txt,.docx",onChange:Pe=>Xr(Pe.target.files),className:"hidden",id:"file-upload-create"}),u.jsxs("label",{htmlFor:"file-upload-create",className:"btn-secondary text-xs py-1.5 px-4 rounded-xl inline-flex items-center gap-1.5 cursor-pointer",children:[u.jsx(rne,{className:"w-3.5 h-3.5"}),"Choose Files"]}),u.jsx("p",{className:"text-xs text-stone-500 mt-2",children:"PDF, TXT, DOCX (max 10MB each)"})]}),x.length>0&&u.jsx("div",{className:"space-y-2",children:x.map(Pe=>u.jsx("div",{className:"border border-stone-200 dark:border-stone-700 rounded-xl p-3 bg-stone-50 dark:bg-stone-800",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[u.jsx("span",{className:"text-lg",children:Se(Pe.type)}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs font-medium text-stone-900 dark:text-stone-50 truncate",children:Pe.name}),(Pe.status==="uploading"||Pe.status==="processing"||Pe.status==="extracting")&&u.jsxs("div",{className:"mt-1.5 space-y-1",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-xs text-orange-600 font-medium",children:[Pe.status==="uploading"&&"Uploading...",Pe.status==="processing"&&"Processing...",Pe.status==="extracting"&&"Extracting..."]}),u.jsxs("span",{className:"text-xs text-orange-600 font-bold",children:[Pe.progress,"%"]})]}),u.jsx("div",{className:"w-full bg-stone-200 dark:bg-stone-700 rounded-full h-1.5 overflow-hidden",children:u.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${Pe.progress}%`}})})]}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[Pe.status==="ready"&&u.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-600 font-medium",children:[u.jsx(Ta,{className:"w-3 h-3"}),"Ready"]}),u.jsx("span",{className:"text-xs text-stone-400",children:ya(Pe.size)})]})]})]}),Pe.status!=="uploading"&&u.jsx("button",{onClick:()=>va(Pe.id),className:"p-1 text-stone-400 hover:text-red-500 transition-colors ml-2",children:u.jsx(aI,{className:"w-3.5 h-3.5"})})]})},Pe.id))})]}),u.jsx("div",{className:"sticky bottom-0 bg-white dark:bg-stone-900 border-t border-stone-200 dark:border-stone-700 p-5",children:u.jsx("button",{onClick:()=>U(!1),className:"btn-primary w-full py-2 rounded-xl",children:"Done"})})]})}),K&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>ee(!1),children:u.jsxs("div",{className:"bg-white dark:bg-stone-900 rounded-3xl max-w-lg w-full shadow-2xl",onClick:Pe=>Pe.stopPropagation(),children:[u.jsx("div",{className:"border-b border-stone-200 dark:border-stone-700 p-5",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg font-bold text-stone-900 dark:text-stone-50",children:"Policy Links (Optional)"}),u.jsx("button",{onClick:()=>ee(!1),className:"p-2 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-xl transition-colors",children:"✕"})]})}),u.jsxs("div",{className:"p-5 space-y-4",children:[u.jsx("p",{className:"text-xs text-stone-600 dark:text-stone-400",children:"Add links to help your agent answer policy questions"}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-medium text-stone-600 dark:text-stone-400 mb-1.5 block",children:"Privacy Policy URL"}),u.jsx("input",{type:"url",name:"privacyUrl",value:c.privacyUrl,onChange:_t,placeholder:"https://example.com/privacy",className:"form-input text-sm text-black dark:text-white bg-white dark:bg-stone-900 border border-stone-300 dark:border-stone-700 rounded-xl w-full"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-medium text-stone-600 dark:text-stone-400 mb-1.5 block",children:"Terms of Service URL"}),u.jsx("input",{type:"url",name:"termsUrl",value:c.termsUrl,onChange:_t,placeholder:"https://example.com/terms",className:"form-input text-sm text-black dark:text-white bg-white dark:bg-stone-900 border border-stone-300 dark:border-stone-700 rounded-xl w-full"})]})]}),u.jsx("div",{className:"border-t border-stone-200 dark:border-stone-700 p-5",children:u.jsx("button",{onClick:()=>ee(!1),className:"btn-primary w-full py-2 rounded-xl",children:"Done"})})]})})]})},Qr=(fe,we)=>({first_visit:"First Visit",return_visit:"Return Visit",exit_intent:"Exit Intent",time_delay:`After ${we}s`,scroll_depth:`Scroll ${we}%`})[fe]||fe,or=fe=>({discount:"Discount",announcement:"Announcement",video:"Video",link:"Link"})[fe]||fe,xn=()=>{const fe={id:Date.now().toString(),..._e};Ne([...be,fe]),Ie(null),Ee(!1),se(1),He({trigger:"first_visit",triggerValue:3,contentType:"discount",title:"Welcome! 👋",message:"Get a special discount with code",code:"RETURN20",discountPercent:20,buttonText:"Get Discount",buttonLink:"https://orchis.app",videoUrl:"https://www.youtube.com/watch?v=qU9mHegkTc4"})},Kn=()=>{Ne(be.map(fe=>fe.id===Fe.id?{..._e,id:Fe.id}:fe)),Ie(null),Ee(!1),se(1),He({trigger:"first_visit",triggerValue:3,contentType:"discount",title:"Welcome! 👋",message:"Get a special discount with code",code:"RETURN20",discountPercent:20,buttonText:"Get Discount",buttonLink:"https://orchis.app",videoUrl:"https://www.youtube.com/watch?v=qU9mHegkTc4"})},It=fe=>{Ne(be.filter(we=>we.id!==fe))},Zr=()=>u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"bg-stone-50 dark:bg-stone-900/30 border border-stone-200 dark:border-stone-700 rounded-2xl p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ane,{className:"w-5 h-5 text-stone-600 dark:text-stone-400 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50 mb-1",children:"Dynamic Contents (Optional)"}),u.jsx("p",{className:"text-xs text-stone-600 dark:text-stone-400",children:"Create popups with discounts, announcements, videos, or links. Skip for now or configure later."})]})]})}),be.length>0&&!pe&&u.jsx("div",{className:"space-y-2",children:be.map(fe=>u.jsx("div",{className:"bg-white dark:bg-stone-900/50 border border-stone-200 dark:border-stone-700 rounded-xl p-3",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"text-xs font-medium px-2 py-0.5 bg-stone-100 dark:bg-stone-800 text-stone-700 dark:text-stone-300 rounded",children:Qr(fe.trigger,fe.triggerValue)}),u.jsx("span",{className:"text-xs font-medium px-2 py-0.5 bg-stone-100 dark:bg-stone-800 text-stone-700 dark:text-stone-300 rounded",children:or(fe.contentType)})]}),u.jsx("p",{className:"text-sm font-medium text-stone-900 dark:text-stone-50",children:fe.title}),u.jsx("p",{className:"text-xs text-stone-500 dark:text-stone-400 mt-0.5 line-clamp-1",children:fe.message})]}),u.jsxs("div",{className:"flex items-center gap-2 ml-3",children:[u.jsx("button",{onClick:()=>{Ie(fe),He(fe),Ee(!0),se(1)},className:"text-xs text-stone-600 dark:text-stone-400 hover:text-stone-900 dark:hover:text-stone-50",children:u.jsx(iI,{className:"w-3.5 h-3.5"})}),u.jsx("button",{onClick:()=>It(fe.id),className:"text-xs text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:u.jsx(aI,{className:"w-3.5 h-3.5"})})]})]})},fe.id))}),pe&&u.jsxs("div",{className:"bg-transparent rounded-xl p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-stone-200 dark:border-stone-700",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-semibold ${re===1?"bg-stone-900 dark:bg-white text-white dark:text-stone-900":"bg-stone-200 dark:bg-stone-700 text-stone-600 dark:text-stone-400"}`,children:"1"}),u.jsx("div",{className:"w-8 h-0.5 bg-stone-200 dark:bg-stone-700"}),u.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-semibold ${re===2?"bg-stone-900 dark:bg-white text-white dark:text-stone-900":"bg-stone-200 dark:bg-stone-700 text-stone-600 dark:text-stone-400"}`,children:"2"}),u.jsx("span",{className:"text-sm font-medium text-stone-700 dark:text-stone-300 ml-2",children:re===1?"Type & Trigger":"Content"})]}),u.jsx("button",{onClick:()=>{Ee(!1),se(1),Ie(null)},className:"text-stone-400 hover:text-stone-600 dark:hover:text-stone-300",children:u.jsx(lp,{className:"w-4 h-4"})})]}),re===1&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-stone-700 dark:text-stone-300 mb-1.5",children:"Content Type"}),u.jsxs("select",{value:_e.contentType,onChange:fe=>{const we=fe.target.value;let je={contentType:we};we==="discount"?(je.message="Get a special discount with code",je.code="RETURN20",je.title="Welcome! 👋"):we==="video"?(je.message="Check out this video",je.videoUrl="https://www.youtube.com/watch?v=qU9mHegkTc4",je.title="Watch Now 🎥"):we==="link"?(je.message="Visit our website for more info",je.buttonLink="https://orchis.app",je.title="Check This Out 🔗"):we==="announcement"&&(je.message="We have exciting news to share!",je.title="Announcement 📢"),He({..._e,...je})},className:"form-select text-sm bg-white dark:bg-stone-800 border border-stone-200 dark:border-stone-700 text-black dark:text-white rounded-xl w-full py-2",children:[u.jsx("option",{value:"discount",children:"💰 Discount Code"}),u.jsx("option",{value:"announcement",children:"📢 Announcement"}),u.jsx("option",{value:"video",children:"🎥 Video"}),u.jsx("option",{value:"link",children:"🔗 Link"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-stone-700 dark:text-stone-300 mb-1.5",children:"When to Show"}),u.jsxs("select",{value:_e.trigger,onChange:fe=>He({..._e,trigger:fe.target.value}),className:"form-select text-sm bg-white dark:bg-stone-800 border border-stone-200 dark:border-stone-700 text-black dark:text-white rounded-xl w-full py-2",children:[u.jsx("option",{value:"first_visit",children:"👋 First Visit"}),u.jsx("option",{value:"return_visit",children:"🔄 Return Visit"}),u.jsx("option",{value:"exit_intent",children:"🚪 Exit Intent"}),u.jsx("option",{value:"time_delay",children:"⏱️ Time Delay"}),u.jsx("option",{value:"scroll_depth",children:"📜 Scroll Depth"})]})]}),(_e.trigger==="time_delay"||_e.trigger==="scroll_depth")&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-stone-700 dark:text-stone-300 mb-1.5",children:_e.trigger==="time_delay"?"Delay (seconds)":"Scroll %"}),u.jsx("input",{type:"number",value:_e.triggerValue,onChange:fe=>He({..._e,triggerValue:parseInt(fe.target.value)}),className:"form-input text-sm bg-white dark:bg-stone-800 border border-stone-200 dark:border-stone-700 text-black dark:text-white rounded-xl w-full py-2",min:"1",max:_e.trigger==="scroll_depth"?"100":"999"})]}),u.jsx("button",{onClick:()=>se(2),className:"w-full bg-stone-900 dark:bg-white text-white dark:text-stone-900 hover:bg-stone-800 dark:hover:bg-stone-100 rounded-xl py-2 text-sm font-medium",children:"Next →"})]}),re===2&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-stone-700 dark:text-stone-300 mb-1.5",children:"Title"}),u.jsx("input",{type:"text",value:_e.title,onChange:fe=>He({..._e,title:fe.target.value}),className:"form-input text-sm bg-white dark:bg-stone-800 border border-stone-200 dark:border-stone-700 text-black dark:text-white rounded-xl w-full py-2"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-stone-700 dark:text-stone-300 mb-1.5",children:"Message"}),u.jsx("textarea",{value:_e.message,onChange:fe=>He({..._e,message:fe.target.value}),className:"form-textarea text-sm bg-white dark:bg-stone-800 border border-stone-200 dark:border-stone-700 text-black dark:text-white rounded-xl w-full py-2",rows:"2"})]}),_e.contentType==="discount"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-stone-700 dark:text-stone-300 mb-1.5",children:"Code"}),u.jsx("input",{type:"text",value:_e.code,onChange:fe=>He({..._e,code:fe.target.value}),className:"form-input text-sm bg-white dark:bg-stone-800 border border-stone-200 dark:border-stone-700 text-black dark:text-white rounded-xl w-full py-2"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-stone-700 dark:text-stone-300 mb-1.5",children:"Discount %"}),u.jsx("input",{type:"number",value:_e.discountPercent,onChange:fe=>He({..._e,discountPercent:parseInt(fe.target.value)}),className:"form-input text-sm bg-white dark:bg-stone-800 border border-stone-200 dark:border-stone-700 text-black dark:text-white rounded-xl w-full py-2"})]})]}),_e.contentType==="video"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-stone-700 dark:text-stone-300 mb-1.5",children:"Video URL"}),u.jsx("input",{type:"url",value:_e.videoUrl,onChange:fe=>He({..._e,videoUrl:fe.target.value}),className:"form-input text-sm bg-white dark:bg-stone-800 border border-stone-200 dark:border-stone-700 text-black dark:text-white rounded-xl w-full py-2",placeholder:"https://youtube.com/..."})]}),(_e.contentType==="link"||_e.contentType==="discount")&&u.jsx(u.Fragment,{children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-stone-700 dark:text-stone-300 mb-1.5",children:"Button Link (optional)"}),u.jsx("input",{type:"url",value:_e.buttonLink,onChange:fe=>He({..._e,buttonLink:fe.target.value}),className:"form-input text-sm bg-white dark:bg-stone-800 border border-stone-200 dark:border-stone-700 text-black dark:text-white rounded-xl w-full py-2",placeholder:"https://..."})]})}),u.jsxs("div",{className:"flex gap-2 pt-1",children:[u.jsx("button",{onClick:()=>se(1),className:"flex-1 bg-stone-200 dark:bg-stone-700 text-stone-900 dark:text-stone-50 hover:bg-stone-300 dark:hover:bg-stone-600 rounded-xl py-2 text-sm font-medium",children:"← Back"}),u.jsx("button",{onClick:Fe?Kn:xn,className:"flex-1 bg-stone-900 dark:bg-white text-white dark:text-stone-900 hover:bg-stone-800 dark:hover:bg-stone-100 rounded-xl py-2 text-sm font-medium",children:Fe?"Update":"Add"})]})]})]}),!pe&&u.jsxs("button",{onClick:()=>{Ie(null),He({trigger:"first_visit",triggerValue:3,contentType:"discount",title:"Welcome! 👋",message:"Get a special discount on your first purchase",code:"FIRST20",discountPercent:20,buttonText:"Get Discount",buttonLink:"",videoUrl:""}),Ee(!0),se(1)},className:"w-full bg-stone-900 dark:bg-white text-white dark:text-stone-900 hover:bg-stone-800 dark:hover:bg-stone-100 rounded-xl py-2.5 text-sm font-medium transition-colors flex items-center justify-center gap-2",children:[u.jsx("span",{className:"text-lg",children:"+"}),"Add Dynamic Content"]})]}),ks=()=>{var fe,we,je,it,ke,Ze,Pe,mt;if(O&&P){const Le=`<!-- Orchis Chatbot -->
<script>
(function(){
  if(!window.OrchisChatbot){
    const script = document.createElement('script');
    script.src = 'https://orchis.app/chatbot-widget.js';
    script.onload = function() {
      if(window.OrchisChatbot) {
        window.OrchisChatbot.init({
          agentId: '${P}'
        });
      }
    };
    document.head.appendChild(script);
  }
})();
<\/script>`;return u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"bg-stone-100 dark:bg-stone-800/50 border border-stone-200 dark:border-stone-700 rounded-2xl p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(Ta,{className:"w-5 h-5 text-stone-900 dark:text-stone-50"}),u.jsx("h3",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50",children:"Training Complete!"})]}),u.jsx("p",{className:"text-xs text-stone-600 dark:text-stone-400 mb-4",children:"Your agent is ready to use. Copy the embed code below and paste it into your website's HTML."}),u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-3 mb-4",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-bold",children:"i"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-semibold text-blue-900 dark:text-blue-100 mb-1",children:"Installation Instructions"}),u.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[u.jsxs("p",{children:["Paste this code inside your website's ",u.jsx("code",{className:"px-1 py-0.5 bg-blue-100 dark:bg-blue-900/40 rounded font-mono text-xs",children:"<body>"})," tag, preferably before the closing ",u.jsx("code",{className:"px-1 py-0.5 bg-blue-100 dark:bg-blue-900/40 rounded font-mono text-xs",children:"</body>"})," tag."]}),u.jsx("p",{className:"text-[10px] text-blue-600 dark:text-blue-400",children:"💡 The chatbot will appear on all pages where this code is added."})]})]})]})}),u.jsxs("div",{className:"bg-white dark:bg-stone-900 border border-stone-200 dark:border-stone-700 rounded-xl p-3",children:[u.jsx("div",{className:"flex items-center justify-between mb-2",children:u.jsx("span",{className:"text-xs font-medium text-stone-700 dark:text-stone-300",children:"Embed Code"})}),u.jsx("pre",{className:"text-xs text-stone-600 dark:text-stone-400 overflow-x-auto whitespace-pre-wrap break-all",children:u.jsx("code",{children:Le})})]})]})})}if(A){const Le=(c.trainingText.trim()?1:0)+x.filter(Wn=>Wn.status==="training"||Wn.status==="processed").length+((fe=c.privacyUrl)!=null&&fe.trim()?1:0)+((we=c.termsUrl)!=null&&we.trim()?1:0);return u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"bg-stone-100 dark:bg-stone-800/50 border border-stone-200 dark:border-stone-700 rounded-2xl p-6 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"relative w-16 h-16",children:u.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-1",children:[u.jsx("div",{className:"w-2 h-2 bg-stone-900 dark:bg-stone-50 rounded-full animate-bounce-dot",style:{animationDelay:"0ms"}}),u.jsx("div",{className:"w-2 h-2 bg-stone-900 dark:bg-stone-50 rounded-full animate-bounce-dot",style:{animationDelay:"150ms"}}),u.jsx("div",{className:"w-2 h-2 bg-stone-900 dark:bg-stone-50 rounded-full animate-bounce-dot",style:{animationDelay:"300ms"}})]})})}),u.jsx("h3",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50 mb-2",children:"Training Your Agent..."}),u.jsxs("p",{className:"text-xs text-stone-600 dark:text-stone-400 mb-4",children:["Processing ",Le," training item",Le!==1?"s":"",". This may take a minute."]}),u.jsxs("div",{className:"mt-6 space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-3 text-left",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0",children:u.jsx("svg",{className:"w-3.5 h-3.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-medium text-stone-900 dark:text-stone-50",children:"Analyzing Training Data"}),u.jsx("div",{className:"text-xs text-stone-500 dark:text-stone-400",children:"Completed"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 text-left",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0",children:u.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-medium text-stone-900 dark:text-stone-50",children:"Building AI Model"}),u.jsx("div",{className:"text-xs text-stone-500 dark:text-stone-400",children:"In progress..."})]})]}),u.jsxs("div",{className:"flex items-center gap-3 text-left",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-stone-300 dark:bg-stone-600 flex items-center justify-center flex-shrink-0",children:u.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-xs font-medium text-stone-500 dark:text-stone-400",children:"Finalizing Setup"}),u.jsx("div",{className:"text-xs text-stone-400 dark:text-stone-500",children:"Waiting..."})]})]})]})]})})}return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-stone-50 dark:bg-stone-800/30 border border-stone-200 dark:border-stone-700 rounded-2xl p-4",children:[u.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[g&&u.jsx("img",{src:g,alt:"Agent logo",className:"w-12 h-12 rounded-xl object-cover border border-stone-200 dark:border-stone-700 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50",children:c.name}),u.jsx("div",{className:"text-xs text-stone-600 dark:text-stone-400",children:c.projectName}),c.websiteUrl&&u.jsx("div",{className:"text-xs text-blue-500 mt-1 truncate",children:c.websiteUrl})]})]}),u.jsxs("div",{className:"border-t border-stone-200 dark:border-stone-700 pt-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-xs font-medium text-stone-700 dark:text-stone-300",children:"Training Content"}),u.jsx("span",{className:"text-xs font-bold text-green-600",children:(c.trainingText.trim()?1:0)+x.filter(Le=>Le.status==="ready").length})]}),u.jsxs("div",{className:"space-y-1.5",children:[c.trainingText.trim()&&u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx(Ta,{className:"w-3.5 h-3.5 text-green-500 flex-shrink-0"}),u.jsx("span",{className:"text-stone-700 dark:text-stone-300 truncate flex-1",children:"Pasted Training Content"}),u.jsxs("span",{className:"text-stone-500 text-xs",children:[c.trainingText.trim().length," chars"]})]}),x.filter(Le=>Le.status==="ready").map(Le=>u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx(Ta,{className:"w-3.5 h-3.5 text-green-500 flex-shrink-0"}),u.jsx("span",{className:"text-stone-700 dark:text-stone-300 truncate flex-1",children:Le.name}),u.jsx("span",{className:"text-stone-500 text-xs",children:ya(Le.size)})]},Le.id)),((je=c.privacyUrl)==null?void 0:je.trim())&&u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx(Ta,{className:"w-3.5 h-3.5 text-green-500 flex-shrink-0"}),u.jsx("span",{className:"text-stone-700 dark:text-stone-300 truncate flex-1",children:"Privacy Policy"}),u.jsx("span",{className:"text-stone-500 text-xs",children:"URL"})]}),((it=c.termsUrl)==null?void 0:it.trim())&&u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx(Ta,{className:"w-3.5 h-3.5 text-green-500 flex-shrink-0"}),u.jsx("span",{className:"text-stone-700 dark:text-stone-300 truncate flex-1",children:"Terms of Service"}),u.jsx("span",{className:"text-stone-500 text-xs",children:"URL"})]})]})]})]}),u.jsx("div",{className:"bg-stone-50 dark:bg-stone-900/30 border border-stone-200 dark:border-stone-700 rounded-2xl p-3",children:u.jsxs("p",{className:"text-xs text-stone-700 dark:text-stone-300",children:["Ready to train your agent with ",(c.trainingText.trim()?1:0)+x.filter(Le=>Le.status==="ready").length+((ke=c.privacyUrl)!=null&&ke.trim()?1:0)+((Ze=c.termsUrl)!=null&&Ze.trim()?1:0)," training item",(c.trainingText.trim()?1:0)+x.filter(Le=>Le.status==="ready").length+((Pe=c.privacyUrl)!=null&&Pe.trim()?1:0)+((mt=c.termsUrl)!=null&&mt.trim()?1:0)!==1?"s":""]})})]})},ql=()=>{var ke,Ze;if(a!==2&&a!==4)return null;const fe=c.trainingText.trim().length>0,we=(ke=c.privacyUrl)==null?void 0:ke.trim(),je=(Ze=c.termsUrl)==null?void 0:Ze.trim(),it=x.length>0||fe||we||je;return u.jsxs("div",{className:"w-full",children:[u.jsx("div",{className:"text-xs font-medium text-white mb-4 text-center",children:"Training Content"}),u.jsx("div",{className:"space-y-3",children:it?u.jsxs(u.Fragment,{children:[x.length>0&&u.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-3",children:[u.jsx("div",{className:"text-xs font-medium text-white/90 mb-2",children:"📄 Documents"}),u.jsx("div",{className:"space-y-1.5",children:x.map((Pe,mt)=>u.jsxs("div",{className:"text-xs text-white/70 flex items-center gap-1.5",children:[u.jsx("div",{className:"w-1 h-1 rounded-full bg-green-400"}),u.jsx("span",{className:"truncate",children:Pe.name})]},mt))})]}),fe&&u.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-3",children:[u.jsx("div",{className:"text-xs font-medium text-white/90 mb-2",children:"📝 Training Text"}),u.jsxs("div",{className:"text-xs text-white/70",children:[c.trainingText.length," characters"]})]}),(we||je)&&u.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-3",children:[u.jsx("div",{className:"text-xs font-medium text-white/90 mb-2",children:"🔗 Policy Links"}),u.jsxs("div",{className:"space-y-1.5",children:[we&&u.jsxs("div",{className:"text-xs text-white/70 flex items-center gap-1.5",children:[u.jsx("div",{className:"w-1 h-1 rounded-full bg-blue-400"}),u.jsx("span",{className:"truncate",children:"Privacy Policy"})]}),je&&u.jsxs("div",{className:"text-xs text-white/70 flex items-center gap-1.5",children:[u.jsx("div",{className:"w-1 h-1 rounded-full bg-blue-400"}),u.jsx("span",{className:"truncate",children:"Terms of Service"})]})]})]})]}):u.jsx("div",{className:"w-full max-w-lg text-center py-8 px-4 text-stone-400 text-sm bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl",children:"No training content added yet"})}),a===4&&it&&u.jsxs("div",{className:"relative w-1 h-16 rounded-full mx-auto mt-6",children:[u.jsx("div",{className:"absolute inset-0 rounded-full bg-white/25"}),u.jsxs("div",{className:"absolute inset-0 rounded-full overflow-hidden",children:[u.jsx("div",{className:"absolute inset-x-0 h-8 bg-gradient-to-b from-transparent via-white to-transparent animate-data-flow opacity-80",style:{animationDelay:"0s"}}),u.jsx("div",{className:"absolute inset-x-0 h-6 bg-gradient-to-b from-transparent via-white/90 to-transparent animate-data-flow opacity-70",style:{animationDelay:"0.5s"}}),u.jsx("div",{className:"absolute inset-x-0 h-7 bg-gradient-to-b from-transparent via-white/80 to-transparent animate-data-flow opacity-75",style:{animationDelay:"1s"}}),u.jsx("div",{className:"absolute inset-x-0 h-5 bg-gradient-to-b from-transparent via-white/70 to-transparent animate-data-flow opacity-65",style:{animationDelay:"1.5s"}})]})]})]})},Hl=()=>{var it;if(a!==1&&a!==3&&a!==4)return null;const fe=a===3,we=fe?_e:be.length>0?be[0]:null,je=fe||be.length>0&&a===3;return u.jsxs("div",{className:"w-full",children:[u.jsx("div",{className:"text-xs font-bold text-white mb-4 text-center",children:"Live Preview"}),u.jsxs("div",{className:"relative mx-auto bg-gradient-to-br from-stone-900/60 to-stone-800/40 backdrop-blur-md border border-stone-700/50 rounded-3xl p-4 shadow-2xl",style:{width:"380px"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-xl bg-stone-700/50 flex items-center justify-center overflow-hidden",children:g?u.jsx("img",{src:g,alt:"Logo",className:"w-8 h-8 object-cover rounded-xl"}):u.jsx("span",{className:"text-sm",children:"✨"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-xs font-semibold text-white truncate",children:c.projectName||"Your Agent"}),u.jsx("div",{className:"text-xs text-stone-400",children:"Online now"})]}),u.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})]}),je&&we&&u.jsx("div",{className:"mb-3 px-3 py-2.5 animate-fade-in",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-0.5 h-8 bg-white rounded-full flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-white text-xs font-semibold mb-0.5",children:we.title||"Welcome! 👋"}),u.jsx("div",{className:"text-white/75 text-xs",children:we.contentType==="discount"?u.jsxs(u.Fragment,{children:[we.message||"Get a special discount with code"," ",u.jsxs("button",{onClick:ke=>{ke.stopPropagation(),navigator.clipboard.writeText(we.code||"SAVE20"),i("Promo code copied!","success")},className:"inline-flex items-center hover:opacity-80 transition-opacity cursor-pointer",children:[u.jsx("strong",{className:"text-white font-bold font-mono",children:we.code||"SAVE20"}),u.jsxs("svg",{className:"w-3 h-3 ml-1 opacity-70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),u.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})]})]}):we.contentType==="video"?u.jsxs("a",{href:we.videoUrl||"https://www.youtube.com/watch?v=qU9mHegkTc4",target:"_blank",rel:"noopener noreferrer",onClick:ke=>ke.stopPropagation(),className:"flex items-center gap-2 mt-1 hover:opacity-90 transition-opacity cursor-pointer",children:[u.jsx("div",{className:"w-16 h-12 rounded flex-shrink-0 bg-cover bg-center",style:{backgroundImage:"url('/livepreview6.webp')"}}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-white text-xs font-semibold mb-0.5",children:"Watch Now 🎥"}),u.jsx("div",{className:"text-white/75 text-xs",children:we.message||"Check out this video"})]})]}):we.contentType==="link"?u.jsxs("div",{className:"mt-1",children:[u.jsx("div",{className:"mb-1",children:we.message||"Check this out!"}),u.jsxs("a",{href:we.buttonLink||"https://orchis.app",target:"_blank",rel:"noopener noreferrer",onClick:ke=>ke.stopPropagation(),className:"flex items-center gap-1 text-orange-400 text-xs hover:text-orange-300 transition-colors cursor-pointer",children:[u.jsxs("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:[u.jsx("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),u.jsx("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})]}),u.jsx("span",{className:"truncate",children:((it=we.buttonLink)==null?void 0:it.replace(/^https?:\/\//,""))||"example.com"})]})]}):u.jsx(u.Fragment,{children:we.message||"Your message will appear here..."})})]}),u.jsx("button",{className:"text-white/50 hover:text-white/80 text-lg leading-none flex-shrink-0",children:"×"})]})}),u.jsxs("div",{className:"bg-white/5 rounded-2xl p-2 flex items-center gap-2",children:[u.jsx("input",{type:"text",disabled:!0,placeholder:`Ask ${c.projectName||"anything"}...`,className:"flex-1 bg-transparent text-xs text-stone-300 placeholder:text-stone-500 border-none outline-none"}),u.jsx("div",{className:"px-3 py-1.5 bg-white/90 text-black rounded-full text-xs font-semibold",children:"send"})]}),u.jsxs("div",{className:"flex items-center justify-center gap-1 mt-2 text-xs text-stone-400",children:[u.jsx("img",{src:"https://orchis.app/logo.webp",alt:"Orchis",className:"w-3 h-3 rounded"}),u.jsxs("span",{children:["Powered by ",u.jsx("span",{className:"font-bold",children:"ORCHIS"})]})]})]}),u.jsxs("div",{className:"mt-4 text-xs text-white/70 text-center",children:[a===1&&"👆 This is how your chatbot will appear",a===3&&"👆 Preview updates live as you select options"]})]})};return u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-6",children:[u.jsx(HB,{isOpen:ce,onClose:()=>xe(!1),currentPlan:Q==null?void 0:Q.plan,agentLimit:Q==null?void 0:Q.agentLimit,currentAgentCount:X}),u.jsx("div",{className:"max-w-6xl mx-auto bg-neutral-500/3 dark:bg-neutral-500/3 rounded-2xl sm:rounded-3xl lg:rounded-4xl overflow-hidden",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[u.jsxs("div",{className:"p-4 sm:p-6 lg:p-10 flex flex-col min-h-[600px] lg:min-h-[700px]",children:[u.jsxs("button",{onClick:t,className:"flex items-center gap-1.5 px-2 py-1 text-stone-500 hover:text-stone-900 dark:hover:text-stone-50 transition-colors rounded-lg hover:bg-stone-100 dark:hover:bg-stone-800 mb-4 text-xs w-fit",children:[u.jsx(tI,{className:"w-3 h-3"}),"Cancel"]}),a===1&&u.jsx(u.Fragment,{children:X===0?u.jsxs("div",{className:"mb-4 sm:mb-6",children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-stone-900 dark:text-stone-50 mb-2",children:["Welcome, ",(n==null?void 0:n.displayName)||"there","! 👋"]}),u.jsx("p",{className:"text-xs sm:text-sm text-stone-600 dark:text-stone-400",children:"Let's create your first AI Chatbot together. We're excited to have you on board and can't wait to see what you build!"})]}):u.jsxs("div",{className:"mb-4 sm:mb-6",children:[u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-stone-900 dark:text-stone-50 mb-2",children:"Create New Agent"}),u.jsx("p",{className:"text-xs sm:text-sm text-stone-600 dark:text-stone-400",children:"Ready to expand your AI toolkit? Let's set up another intelligent agent to help your business grow."})]})}),Vt(),u.jsxs("div",{className:"bg-white dark:bg-stone-800/50 rounded-2xl sm:rounded-3xl border border-stone-200 dark:border-stone-800 p-3 sm:p-5 mb-4",children:[a===1&&Et(),a===2&&br(),a===3&&Zr(),a===4&&ks()]}),u.jsxs("div",{className:`flex flex-col sm:flex-row items-stretch sm:items-center gap-2 ${a===1?"sm:justify-end":"sm:justify-between"}`,children:[!O&&a>1&&u.jsxs("button",{onClick:()=>o(fe=>Math.max(1,fe-1)),className:"btn-secondary text-xs py-2 sm:py-1.5 px-3 rounded-xl inline-flex items-center justify-center gap-1.5",children:[u.jsx(tI,{className:"w-3 h-3"}),"Previous"]}),u.jsxs("div",{className:`flex flex-col sm:flex-row items-stretch sm:items-center gap-2 ${O?"w-full":""}`,children:[a===3&&u.jsx("button",{onClick:()=>o(4),className:"btn-secondary text-xs py-2 sm:py-1.5 px-3 rounded-xl inline-flex items-center justify-center gap-1.5",children:"Skip for now"}),a<4&&u.jsxs("button",{onClick:()=>{if(a===2&&c.trainingText.trim().length+x.filter(we=>we.status==="ready").reduce((we,je)=>{var it;return we+(((it=je.textContent)==null?void 0:it.length)||0)},0)<300){i("Please provide at least 300 characters of training content (text or documents)","error");return}if(a===3&&Q){const{agentLimit:fe}=Q;if(fe!==-1&&X>=fe){xe(!0);return}}o(fe=>Math.min(4,fe+1))},disabled:!Xe(),className:"btn-primary text-xs py-2 sm:py-1.5 px-3 rounded-xl inline-flex items-center justify-center gap-1.5 disabled:opacity-30 disabled:cursor-not-allowed",children:["Next",u.jsx(l0,{className:"w-3 h-3"})]}),a===4&&!O&&u.jsx("button",{onClick:Be,disabled:A||x.filter(fe=>fe.status==="ready").length===0,className:"btn-primary text-xs py-2 sm:py-1.5 px-4 rounded-xl inline-flex items-center justify-center gap-1.5 disabled:opacity-30 disabled:cursor-not-allowed",children:A?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin w-3 h-3 border-2 border-white border-t-transparent rounded-full"}),"Training..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Nm,{className:"w-3.5 h-3.5"}),"Train & Create"]})}),O&&P&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>{const fe=`<!-- Orchis Chatbot -->
<script>
(function(){
  if(!window.OrchisChatbot){
    const script = document.createElement('script');
    script.src = 'https://orchis.app/chatbot-widget.js';
    script.onload = function() {
      if(window.OrchisChatbot) {
        window.OrchisChatbot.init({
          agentId: '${P}'
        });
      }
    };
    document.head.appendChild(script);
  }
})();
<\/script>`;navigator.clipboard.writeText(fe),i("Embed code copied to clipboard!","success")},className:"flex-1 btn-secondary text-xs py-2 rounded-xl inline-flex items-center justify-center gap-1.5",children:"Copy Embed Code"}),u.jsx("button",{onClick:()=>{console.log("🚀 Navigating to:",`/dashboard/${P}`),e(`/dashboard/${P}`)},className:"flex-1 btn-primary text-xs py-2 rounded-xl inline-flex items-center justify-center gap-1.5",children:"Go to Dashboard"})]})]})]})]}),u.jsxs("div",{className:"hidden lg:flex flex-col items-center justify-center p-10 bg-cover bg-center bg-no-repeat relative min-h-[700px]",style:{backgroundImage:"url('/livepreview.webp')"},children:[u.jsx("div",{className:"absolute inset-0 bg-stone-900/20 dark:bg-stone-900/30"}),u.jsxs("div",{className:"relative z-10 w-full max-w-[500px] mx-auto",children:[ql(),Hl()]})]})]})})]})}function s2e(){const t=Wr(),{user:e}=da(),{showNotification:n}=ob(),[r,i]=S.useState(!1),[a,o]=S.useState(!1),[c,d]=S.useState(null),[f,m]=S.useState(!0),[g,v]=S.useState([]),x=[{name:"messages/month",starter:"1,500",growth:"7,500",scale:"50,000"},{name:"AI Agents",starter:"1",growth:"5",scale:"Unlimited"},{name:"Unlimited training data",starter:!0,growth:!0,scale:!0},{name:"Advanced analytics",starter:!0,growth:!0,scale:!0},{name:"Ticket tracking",starter:!0,growth:!0,scale:!0},{name:"Email support",starter:!0,growth:!0,scale:!0},{name:"White-label branding",starter:!1,growth:!0,scale:!0},{name:"Priority support",starter:!1,growth:!0,scale:!0},{name:"Export data (CSV/JSON)",starter:!1,growth:!1,scale:!0}];S.useEffect(()=>{(async()=>{if(e)try{const L=await tp(Vn(nt,"users",e.uid));if(L.exists()){const V=L.data();d({status:V.subscriptionStatus||"free",plan:V.subscriptionPlan||"free",messageLimit:V.messageLimit||0,messagesUsed:V.messagesUsed||0,agentLimit:V.agentLimit||0})}const P=qt(nt,"users",e.uid,"billings"),C=Va(P,Yc("paidAt","desc")),z=(await zn(C)).docs.map(V=>({id:V.id,...V.data()}));v(z)}catch(L){console.error("Error fetching subscription data:",L)}finally{m(!1)}})()},[e]);const w=O=>O*10,T={starter_monthly:"price_1SEtjICw3gxLTtQCr7xvDdR0",starter_yearly:"price_1SEtjICw3gxLTtQCC6fIugqt",growth_monthly:"price_1SEtjuCw3gxLTtQChEonKkz1",growth_yearly:"price_1SEtjuCw3gxLTtQCa4MZ13YJ",scale_monthly:"price_1SEtkRCw3gxLTtQCXUDDMDiD",scale_yearly:"price_1SEtkRCw3gxLTtQCtNWV255C"},E=async O=>{if(!e){n("Please sign in to subscribe","error");return}o(!0);try{const L=jv(),P=La(L,"createCheckoutSession"),C=`${O}_${r?"yearly":"monthly"}`,M=T[C],z=await P({priceId:M,userId:e.uid});window.location.href=z.data.url}catch(L){console.error("Subscription error:",L),n("Failed to start checkout: "+L.message,"error")}finally{o(!1)}},A=async()=>{if(!e){n("Please sign in to manage billing","error");return}o(!0);try{const O=jv(),P=await La(O,"createPortalSession")({userId:e.uid});window.location.href=P.data.url}catch(O){console.error("Portal error:",O),n("No active subscription found","error")}finally{o(!1)}},k=[{icon:Nne,name:"Starter",monthlyPrice:20,monthlyOriginalPrice:30,description:"For small businesses",planKey:"starter",popular:!1},{icon:Sne,name:"Growth",monthlyPrice:60,monthlyOriginalPrice:90,description:"Most popular",planKey:"growth",popular:!0},{icon:Ene,name:"Scale",monthlyPrice:200,monthlyOriginalPrice:300,description:"For growing teams",planKey:"scale",popular:!1}],j=O=>O>=1e6?`${(O/1e6).toFixed(1)}M`:O>=1e3?`${(O/1e3).toFixed(0)}k`:O.toString(),D=(c==null?void 0:c.status)==="active"&&(c==null?void 0:c.plan)!=="free";return f?u.jsx("div",{className:"max-w-6xl mx-auto px-6 py-8",children:u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-stone-900 dark:border-stone-50"})})}):u.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[u.jsxs("div",{className:"mb-12",children:[u.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center gap-2 text-stone-500 hover:text-stone-900 dark:hover:text-stone-50 transition-colors mb-6",children:[u.jsx(Dt,{icon:iA,className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Back"})]}),u.jsx("h1",{className:"text-2xl font-thin text-stone-900 dark:text-stone-50",children:"Billing & Usage"}),u.jsx("div",{className:"w-12 h-px bg-stone-900 dark:bg-stone-50 mt-4"})]}),c&&u.jsx("div",{className:"mb-12 p-6 bg-white dark:bg-stone-800/50 rounded-xl border border-stone-200 dark:border-stone-700",children:u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"text-lg font-medium text-stone-900 dark:text-stone-50",children:c.plan==="free"?"One-Time Message Credits":"Monthly Usage"}),u.jsxs("span",{className:"text-sm text-orange-500 capitalize",children:[c.plan," Plan"]})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-stone-600 dark:text-stone-400 mb-3",children:[u.jsxs("span",{children:[c.messagesUsed.toLocaleString()," messages"]}),u.jsxs("span",{children:[c.messageLimit.toLocaleString()," messages ",c.plan==="free"?"total":"limit"]})]}),u.jsx("div",{className:"w-full bg-stone-200 dark:bg-stone-700 rounded-full h-3",children:u.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(c.messagesUsed/c.messageLimit*100,100)}%`}})}),u.jsx("div",{className:"mt-2 text-xs text-stone-500 dark:text-stone-400",children:c.plan==="free"?`${j(c.messageLimit-c.messagesUsed)} credits remaining (does not renew)`:`${(c.messagesUsed/c.messageLimit*100).toFixed(1)}% used this month`})]})}),!D&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-center gap-4 mb-12",children:[u.jsx("button",{onClick:()=>i(!1),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r?"bg-stone-100 dark:bg-stone-800 text-stone-600 dark:text-stone-400":"bg-stone-800 dark:bg-stone-100 text-stone-50 dark:text-stone-900"}`,children:"Monthly"}),u.jsxs("button",{onClick:()=>i(!0),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors relative ${r?"bg-stone-800 dark:bg-stone-100 text-stone-50 dark:text-stone-900":"bg-stone-100 dark:bg-stone-800 text-stone-600 dark:text-stone-400"}`,children:["Yearly",u.jsx("span",{className:"ml-2 text-xs bg-orange-500 text-white px-2 py-0.5 rounded-full",children:"2 months free"})]})]}),u.jsx("div",{className:"mb-12",children:u.jsx("div",{className:"text-center",children:u.jsxs("p",{className:"text-stone-600 dark:text-stone-400",children:["You're currently on the ",u.jsx("span",{className:"font-medium text-stone-900 dark:text-stone-50",children:"Free Plan"})]})})})]}),!D&&u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:k.map((O,L)=>{const P=O.icon;return u.jsxs("div",{className:"relative",children:[O.popular&&u.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 z-10",children:u.jsx("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:"Most Popular"})}),u.jsxs("div",{className:`bg-white dark:bg-stone-800/50 rounded-xl border p-6 h-full flex flex-col ${O.popular?"border-orange-500":"border-stone-200 dark:border-stone-700"}`,children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx(Dt,{icon:P,className:"w-8 h-8 text-stone-900 dark:text-stone-50"}),u.jsx("h3",{className:"text-xl font-semibold text-stone-900 dark:text-stone-50",children:O.name})]}),u.jsx("p",{className:"text-sm text-stone-600 dark:text-stone-400",children:O.description})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-baseline gap-1",children:[u.jsxs("span",{className:"text-3xl font-bold text-stone-900 dark:text-stone-50 transition-all duration-300",children:["$",r?Math.round(w(O.monthlyPrice)/12):O.monthlyPrice]}),u.jsx("span",{className:"text-stone-500 dark:text-stone-400 text-sm",children:"/month"})]}),r&&u.jsxs("p",{className:"text-xs text-stone-500 dark:text-stone-400 mt-1 animate-slide-down",children:["$",w(O.monthlyPrice)," billed yearly"]})]}),u.jsx("div",{className:"space-y-3 mb-6 flex-1",children:x.map((C,M)=>{const z=C[O.planKey],V=z===!0||typeof z=="string",H=typeof z=="string"?z:null;return u.jsxs("div",{className:`flex items-start gap-2 ${V?"":"opacity-40"}`,children:[u.jsx(Dt,{icon:V?W8:G8,className:`w-4 h-4 flex-shrink-0 mt-0.5 ${V?"text-green-600 dark:text-green-400":"text-stone-400"}`}),u.jsx("span",{className:"text-sm text-stone-700 dark:text-stone-300",children:H?`${H} ${C.name}`:C.name})]},M)})}),O.note&&u.jsx("div",{className:"mb-4 p-2 bg-orange-500/5 rounded-lg",children:u.jsx("p",{className:"text-xs text-stone-600 dark:text-stone-400 text-center",children:O.note})}),u.jsx("button",{onClick:()=>E(O.planKey),disabled:a,className:O.popular?"btn-primary w-full":"btn-secondary w-full",children:a?"Loading...":"Choose Plan"})]})]},L)})}),D&&u.jsx("div",{className:"mt-12 p-6 bg-white dark:bg-stone-800/50 rounded-xl border border-stone-200 dark:border-stone-700",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-stone-900 dark:text-stone-50 mb-1",children:"Manage Your Subscription"}),u.jsx("p",{className:"text-sm text-stone-600 dark:text-stone-400",children:"View invoices, update payment method, or cancel your subscription"})]}),u.jsxs("button",{onClick:A,disabled:a,className:"btn-secondary flex items-center gap-2 whitespace-nowrap",children:[u.jsx(Dt,{icon:K8,className:"w-4 h-4"}),a?"Loading...":"Manage Billing"]})]})}),g.length>0&&u.jsxs("div",{className:"mt-12",children:[u.jsx("h2",{className:"text-xl font-thin text-stone-900 dark:text-stone-50 mb-6",children:"Billing History"}),u.jsx("div",{className:"bg-white dark:bg-stone-800/50 rounded-xl border border-stone-200 dark:border-stone-700 overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-stone-200 dark:border-stone-700",children:[u.jsx("th",{className:"text-left py-4 px-6 text-xs font-medium text-stone-600 dark:text-stone-400 uppercase tracking-wider",children:"Date"}),u.jsx("th",{className:"text-left py-4 px-6 text-xs font-medium text-stone-600 dark:text-stone-400 uppercase tracking-wider",children:"Description"}),u.jsx("th",{className:"text-left py-4 px-6 text-xs font-medium text-stone-600 dark:text-stone-400 uppercase tracking-wider",children:"Amount"}),u.jsx("th",{className:"text-left py-4 px-6 text-xs font-medium text-stone-600 dark:text-stone-400 uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"text-right py-4 px-6 text-xs font-medium text-stone-600 dark:text-stone-400 uppercase tracking-wider",children:"Invoice"})]})}),u.jsx("tbody",{children:g.map((O,L)=>u.jsxs("tr",{className:`${L!==g.length-1?"border-b border-stone-200 dark:border-stone-700":""} hover:bg-stone-50 dark:hover:bg-stone-800 transition-colors`,children:[u.jsx("td",{className:"py-4 px-6 text-sm text-stone-900 dark:text-stone-50",children:new Date(O.paidAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),u.jsx("td",{className:"py-4 px-6 text-sm text-stone-700 dark:text-stone-300",children:O.billingReason==="subscription_create"?"Initial Subscription":"Monthly Renewal"}),u.jsxs("td",{className:"py-4 px-6 text-sm font-medium text-stone-900 dark:text-stone-50",children:["$",O.amount.toFixed(2)," ",O.currency]}),u.jsx("td",{className:"py-4 px-6",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${O.status==="paid"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:O.status==="paid"?"Paid":"Unpaid"})}),u.jsx("td",{className:"py-4 px-6 text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx("a",{href:O.hostedInvoiceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-700 dark:text-orange-400 dark:hover:text-orange-300 transition-colors",children:u.jsx(Dt,{icon:bne,className:"w-4 h-4"})}),u.jsx("a",{href:O.invoicePdf,target:"_blank",rel:"noopener noreferrer",className:"text-stone-600 hover:text-stone-900 dark:text-stone-400 dark:hover:text-stone-50 transition-colors",children:u.jsx(Dt,{icon:yne,className:"w-4 h-4"})})]})})]},O.id))})]})})})]}),u.jsxs("div",{className:"mt-20",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-2xl font-thin text-stone-900 dark:text-stone-50",children:"Questions?"}),u.jsx("div",{className:"w-8 h-px bg-stone-900 dark:bg-stone-50 mx-auto mt-4"})]}),u.jsx("div",{className:"text-center",children:u.jsx("p",{className:"text-stone-600 dark:text-stone-400",children:"Need help choosing a plan? Contact our team."})})]})]})}function o2e({onBack:t}){var O;const e=Wr(),{user:n,logout:r}=da(),{showNotification:i}=ob(),[a,o]=S.useState("account"),[c,d]=S.useState({displayName:"",email:"",photoURL:""}),[f,m]=S.useState(""),[g,v]=S.useState(!0),[x,w]=S.useState(null);S.useEffect(()=>{(async()=>{if(n)try{const C=(await tp(Vn(nt,"users",n.uid))).data();d({displayName:(C==null?void 0:C.displayName)||n.displayName||"",email:n.email||"",photoURL:(C==null?void 0:C.photoURL)||n.photoURL||""}),w({plan:(C==null?void 0:C.subscriptionPlan)||"free",messageLimit:(C==null?void 0:C.messageLimit)||0,messagesUsed:(C==null?void 0:C.messagesUsed)||0}),v(!1)}catch(P){console.error("Error loading user data:",P),v(!1)}})()},[n]);const T=[{id:"account",title:"Account",icon:kne},{id:"delete",title:"Delete Account",icon:vne}],E=L=>{const P=L.target.files[0];if(P){if(P.size>2*1024*1024){i("Image size must be less than 2MB","error");return}const C=new FileReader;C.onload=()=>{d({...c,photoURL:C.result})},C.readAsDataURL(P)}},A=async()=>{try{await dQ(Bc.currentUser,{displayName:c.displayName}),await Ld(Vn(nt,"users",n.uid),{displayName:c.displayName,photoURL:c.photoURL,updatedAt:new Date().toISOString()}),i("Account updated successfully!","success"),window.location.reload()}catch(L){console.error("Error updating account:",L),i("Error updating account: "+L.message,"error")}},k=async()=>{if(f!=="DELETE"){i("Please type DELETE to confirm","error");return}try{const L=Va(qt(nt,"agents"),Wc("userId","==",n.uid)),P=await zn(L);for(const C of P.docs)await Am(Vn(nt,"agents",C.id));await Am(Vn(nt,"users",n.uid)),await gQ(Bc.currentUser),i("Account deleted successfully","success"),e("/signin")}catch(L){console.error("Error deleting account:",L),i("Error deleting account: "+L.message,"error")}},j=()=>{var L,P;return u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-stone-500 dark:text-stone-400 mb-2",children:"Profile Picture"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative",children:[c.photoURL?u.jsx("img",{src:c.photoURL,alt:"Profile",className:"w-20 h-20 rounded-full object-cover border-2 border-stone-200 dark:border-stone-700"}):u.jsx("div",{className:"w-20 h-20 rounded-full bg-stone-200 dark:bg-stone-700 flex items-center justify-center",children:u.jsx("span",{className:"text-2xl font-bold text-stone-500",children:((P=(L=c.displayName)==null?void 0:L.charAt(0))==null?void 0:P.toUpperCase())||"U"})}),u.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"hidden",id:"photo-upload"}),u.jsx("label",{htmlFor:"photo-upload",className:"absolute bottom-0 right-0 p-1.5 bg-stone-800 dark:bg-stone-100 rounded-full cursor-pointer hover:opacity-90 transition-opacity",children:u.jsx(Dt,{icon:gne,className:"w-3 h-3 text-stone-50 dark:text-stone-900"})})]}),u.jsx("div",{className:"text-xs text-stone-500 dark:text-stone-400",children:"Click the camera icon to upload a new photo (max 2MB)"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-stone-500 dark:text-stone-400 mb-1",children:"Display Name"}),u.jsx("input",{type:"text",value:c.displayName,onChange:C=>d({...c,displayName:C.target.value}),className:"form-input text-sm bg-transparent border border-stone-300 dark:border-stone-700 text-stone-900 dark:text-stone-50",placeholder:"Your Name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-stone-500 dark:text-stone-400 mb-1",children:"Email Address"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Dt,{icon:_ne,className:"w-4 h-4 text-stone-400"}),u.jsx("input",{type:"email",value:c.email,disabled:!0,className:"form-input text-sm bg-stone-100 dark:bg-stone-800 border border-stone-300 dark:border-stone-700 text-stone-500 dark:text-stone-400 cursor-not-allowed flex-1"})]}),u.jsx("p",{className:"text-xs text-stone-500 dark:text-stone-400 mt-1",children:"Email cannot be changed"})]}),u.jsx("div",{className:"pt-4",children:u.jsx("button",{onClick:A,className:"btn-primary text-sm py-2 px-4",children:"Save Changes"})})]})})},D=()=>u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"bg-red-500/5 border border-red-500/20 rounded-lg p-4",children:[u.jsx("h4",{className:"text-sm font-medium text-red-600 dark:text-red-400 mb-2",children:"⚠️ Danger Zone"}),u.jsx("p",{className:"text-xs text-stone-700 dark:text-stone-300 mb-4",children:"Once you delete your account, there is no going back. This will permanently delete your account, all agents, analytics data, and conversations."}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium text-stone-700 dark:text-stone-300 mb-1",children:["Type ",u.jsx("span",{className:"font-bold",children:"DELETE"})," to confirm"]}),u.jsx("input",{type:"text",value:f,onChange:L=>m(L.target.value),className:"form-input text-sm bg-transparent border border-red-300 dark:border-red-700 text-stone-900 dark:text-stone-50",placeholder:"DELETE"})]}),u.jsx("button",{onClick:k,disabled:f!=="DELETE",className:"w-full bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Delete Account Permanently"})]})]})});return g?u.jsx("div",{className:"max-w-5xl mx-auto px-6 py-6",children:u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-stone-900 dark:border-stone-50"})})}):u.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-6",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("div",{className:"flex items-center gap-3 mb-4",children:u.jsxs("button",{onClick:t,className:"flex items-center gap-2 p-2 text-stone-900 dark:text-stone-50 hover:text-stone-500 transition-colors rounded-lg hover:bg-stone-200 dark:md:hover:bg-stone-800 cursor-pointer",title:"Back to Dashboard",children:[u.jsx(Dt,{icon:iA,className:"w-4 h-4"}),u.jsx("span",{className:"text-xs text-stone-500",children:"Back"})]})}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-thin text-stone-900 dark:text-stone-50",children:"Settings"}),u.jsx("div",{className:"w-12 h-px bg-stone-900 dark:bg-stone-100 mt-4"})]})})]}),x&&u.jsxs("div",{className:"mb-8 p-6 bg-white dark:bg-stone-800/50 rounded-xl border border-stone-200 dark:border-stone-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"text-sm font-medium text-stone-900 dark:text-stone-50",children:x.plan==="free"?"One-Time Message Credits":"Monthly Message Usage"}),u.jsxs("span",{className:"text-xs text-stone-600 dark:text-stone-400 capitalize",children:[x.plan," Plan"]})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-stone-600 dark:text-stone-400 mb-3",children:[u.jsxs("span",{children:[x.messagesUsed," messages"]}),u.jsxs("span",{children:[x.messageLimit," messages ",x.plan==="free"?"total":"limit"]})]}),u.jsx("div",{className:"w-full bg-stone-200 dark:bg-stone-700 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(x.messagesUsed/x.messageLimit*100,100)}%`}})}),u.jsx("div",{className:"mt-2 text-xs text-stone-500 dark:text-stone-400",children:x.plan==="free"?`${x.messageLimit-x.messagesUsed} credits remaining (does not renew)`:`${(x.messagesUsed/x.messageLimit*100).toFixed(1)}% used this month`})]}),u.jsxs("div",{className:"flex gap-8",children:[u.jsx("div",{className:"w-64 bg-transparent p-1",children:u.jsx("div",{className:"space-y-1",children:T.map(L=>{const P=L.icon;return u.jsxs("button",{onClick:()=>o(L.id),className:`w-full flex items-center gap-1 px-4 py-2 text-left rounded-lg hover:bg-stone-800 dark:md:hover:bg-stone-100 hover:text-white dark:md:hover:text-stone-900 transition-colors group ${a===L.id?"bg-stone-800 dark:bg-stone-100 text-white dark:text-black":""}`,children:[u.jsx(Dt,{icon:P,className:`w-4 h-4 transition-colors ${a===L.id?"text-white dark:text-black":"text-stone-500 group-hover:text-white dark:md:group-hover:text-stone-900"}`}),u.jsx("span",{className:`text-sm font-medium transition-colors ${a===L.id?"text-white dark:text-black":"text-stone-900 dark:text-stone-50 dark:md:group-hover:text-stone-900 group-hover:text-white"}`,children:L.title})]},L.id)})})}),u.jsxs("div",{className:"flex-1 bg-white dark:bg-stone-800/50 rounded-xl border border-stone-200 dark:border-stone-800 p-6",children:[u.jsx("h2",{className:"text-lg font-medium text-stone-900 dark:text-stone-50 mb-6",children:(O=T.find(L=>L.id===a))==null?void 0:O.title}),a==="account"&&j(),a==="delete"&&D()]})]})]})}function i6(){const t=Wr(),{agentId:e}=p6(),[n]=Zq(),{user:r}=da(),i=e==="billing",a=e==="create",o=e==="settings",{agents:c,deleteAgent:d,selectAgent:f,selectedAgent:m,loading:g}=hf(),[v,x]=S.useState(!1),[w,T]=S.useState(!1),[E,A]=S.useState(!1),[k,j]=S.useState(null),[D,O]=S.useState(null);S.useEffect(()=>{if(console.log("🔍 DashboardPage useEffect triggered:",{agentId:e,agentsCount:c.length,currentPath:window.location.pathname,isCreatePage:a,isBillingPage:i,isSettingsPage:o}),e==="create"||e==="billing"||e==="settings"){console.log("⏭️ Skipping effect for special page:",e);return}if(!e){console.log("⏭️ No agentId, staying on main dashboard");return}if(e&&c.length>0){const C=c.find(M=>M.id===e);C&&(!m||m.id!==e)?(console.log("✅ Selecting agent:",C.id),f(C)):C||(console.log("❌ Agent not found, navigating to /dashboard"),t("/dashboard"))}},[e,c,m,f,t]),S.useEffect(()=>{const C=n.get("view"),M=n.get("section");C==="agentsettings"?(x(!0),M&&O(M)):(x(!1),O(null))},[n]),S.useEffect(()=>{(async()=>{if(r)try{const M=await tp(Vn(nt,"users",r.uid));if(M.exists()){const z=M.data();j({plan:z.subscriptionPlan||"free",agentLimit:z.agentLimit||0,status:z.subscriptionStatus||"free"})}}catch(M){console.error("Error fetching subscription data:",M)}})()},[r]);const L=()=>{if(console.log("🎯 handleCreateAgent called - navigating to /dashboard/create"),k){const{agentLimit:C}=k;if(C!==-1&&c.length>=C){console.log("⛔ Agent limit reached, showing upgrade modal"),A(!0);return}}console.log("✅ Navigating to /dashboard/create"),t("/dashboard/create")},P=C=>{switch(C){case"trained":return"bg-green-100 text-green-800";case"training":return"bg-blue-100 text-blue-800";case"not_trained":return"bg-yellow-100 text-yellow-800";default:return"bg-stone-100 text-stone-800"}};return g?u.jsxs("div",{className:"min-h-screen bg-stone-50 dark:bg-stone-900",children:[u.jsx(Tc,{}),u.jsx("div",{className:"max-w-5xl mx-auto px-6 flex items-center justify-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]}):c.length===0&&!i&&!a&&!o&&!g?(console.log("🆕 No agents found, redirecting to /dashboard/create"),t("/dashboard/create",{replace:!0}),null):i?u.jsxs(u.Fragment,{children:[u.jsxs(Na,{children:[u.jsx("title",{children:"Billing - Orchis"}),u.jsx("meta",{name:"description",content:"Manage your billing and subscription"})]}),u.jsxs("div",{className:"min-h-screen bg-stone-50 dark:bg-stone-900",children:[u.jsx(Tc,{}),u.jsx(s2e,{})]})]}):a?k&&c.length>0&&k.agentLimit!==-1&&c.length>=k.agentLimit?(console.log("⛔ Agent limit reached on create page, redirecting to dashboard"),setTimeout(()=>{t("/dashboard"),A(!0)},0),null):u.jsxs(u.Fragment,{children:[u.jsxs(Na,{children:[u.jsx("title",{children:"Create Agent - Orchis"}),u.jsx("meta",{name:"description",content:"Create a new AI agent"})]}),u.jsxs("div",{className:"min-h-screen bg-stone-50 dark:bg-stone-900",children:[u.jsx(Tc,{}),u.jsx(a2e,{onBack:()=>t("/dashboard")})]})]}):o?u.jsxs(u.Fragment,{children:[u.jsxs(Na,{children:[u.jsx("title",{children:"Settings - Orchis"}),u.jsx("meta",{name:"description",content:"Manage your account settings"})]}),u.jsxs("div",{className:"min-h-screen bg-stone-50 dark:bg-stone-900",children:[u.jsx(Tc,{}),u.jsx(o2e,{onBack:()=>t("/dashboard")})]})]}):e?u.jsxs(u.Fragment,{children:[u.jsxs(Na,{children:[u.jsxs("title",{children:[(m==null?void 0:m.name)||"Agent"," - Orchis"]}),u.jsx("meta",{name:"description",content:"Manage your AI agent"})]}),u.jsxs("div",{className:"min-h-screen bg-stone-50 dark:bg-stone-900",children:[u.jsx(Tc,{}),v?u.jsx(i2e,{agent:m,onBack:()=>{x(!1),O(null)},initialSection:D}):u.jsx(n2e,{agent:m,onShowEmbed:()=>x(!0)})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs(Na,{children:[u.jsx("title",{children:"AI Agents - Orchis"}),u.jsx("meta",{name:"description",content:"Manage and train your AI assistants"})]}),u.jsxs("div",{className:"min-h-screen bg-stone-50 dark:bg-stone-900",children:[u.jsx(Tc,{}),u.jsx(HB,{isOpen:E,onClose:()=>A(!1),currentPlan:k==null?void 0:k.plan,agentLimit:k==null?void 0:k.agentLimit,currentAgentCount:c.length}),u.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("div",{className:"text-xs text-stone-400 mb-2",children:"Dashboard"}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-thin text-stone-900 dark:text-stone-50",children:"AI Agents"}),u.jsx("div",{className:"w-12 h-px bg-stone-900 dark:bg-stone-50 mt-4"})]}),u.jsx("button",{onClick:L,className:`flex items-center gap-3 ${k&&k.agentLimit!==-1&&c.length>=k.agentLimit?"btn-secondary":"btn-primary"}`,children:k&&k.agentLimit!==-1&&c.length>=k.agentLimit?u.jsxs(u.Fragment,{children:[u.jsx(q8,{className:"w-4 h-4"}),"Upgrade to Create"]}):u.jsxs(u.Fragment,{children:[u.jsx(lne,{className:"w-4 h-4"}),"Create Agent"]})})]})]}),c.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(rI,{className:"w-12 h-12 text-stone-400 dark:text-stone-50 mx-auto mb-4"}),u.jsx("div",{className:"text-lg font-medium text-stone-900 dark:text-stone-50 mb-2",children:"No agents yet"}),u.jsx("div",{className:"text-stone-500",children:"Create your first AI agent to get started"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(C=>{var M;return u.jsx("div",{className:"p-6 border border-stone-200 dark:border-stone-800 rounded-xl hover:border-stone-300 cursor-pointer transition-colors bg-white dark:bg-stone-800/50",onClick:()=>{f(C),t(`/dashboard/${C.id}`)},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"w-10 h-10 bg-stone-100 dark:bg-stone-900 rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden",children:C.logoUrl?u.jsx("img",{src:C.logoUrl,alt:C.name,className:"w-10 h-10 object-cover rounded-lg"}):u.jsx(rI,{className:"w-5 h-5 text-stone-600"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-lg font-medium text-stone-900 dark:text-stone-50 truncate",children:C.projectName||C.name}),u.jsx("div",{className:"text-sm text-stone-500 truncate mt-1",children:C.websiteUrl}),u.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[u.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${P(C.trainingStatus)}`,children:(M=C.trainingStatus)==null?void 0:M.replace("_"," ")}),u.jsxs("span",{className:"text-sm text-stone-400",children:[C.documentCount||0," docs"]})]})]})]})},C.id)})})]})]})]})}function l2e(){const{user:t}=da();if(t)return u.jsx(y6,{to:"/dashboard",replace:!0});const e=async()=>{try{await Ite()}catch(n){console.error("❌ Sign in failed:",n)}};return u.jsxs(u.Fragment,{children:[u.jsxs(Na,{children:[u.jsx("title",{children:"Sign In - Orchis"}),u.jsx("meta",{name:"description",content:"Sign in to Orchis AI customer support platform"})]}),u.jsx("div",{className:"min-h-screen bg-stone-50 dark:bg-stone-900",children:u.jsxs("div",{className:"min-h-screen grid grid-cols-1 lg:grid-cols-12",children:[u.jsx("div",{className:"col-span-1 lg:col-span-8 p-4 lg:p-24 flex items-center",children:u.jsxs("div",{className:"max-w-xl w-full",children:[u.jsxs("div",{className:"mb-8 lg:mb-16",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-6 lg:mb-8",children:[u.jsx("img",{src:"/logo.webp",alt:"Orchis Logo",className:"w-5 h-5"}),u.jsx("span",{className:"text-xs text-stone-400 dark:text-stone-500 font-bold",children:"ORCHIS"})]}),u.jsxs("h1",{className:"text-4xl lg:text-7xl font-thin text-stone-900 dark:text-stone-50 leading-[0.9] mb-6 lg:mb-12 hidden lg:block",children:["AI that",u.jsx("br",{}),"speaks",u.jsx("br",{}),"human"]}),u.jsx("div",{className:"w-16 h-px bg-stone-900 dark:bg-stone-50 mb-6 lg:mb-8 hidden lg:block"}),u.jsx("p",{className:"text-base lg:text-xl text-stone-600 dark:text-stone-400 leading-relaxed font-light hidden lg:block",children:"Intelligent customer support that understands context, learns from interactions, and scales with your business."})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 lg:gap-8 mb-8 lg:mb-16",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xl lg:text-2xl font-light text-stone-900 dark:text-stone-50 mb-1",children:"Up to 70%"}),u.jsx("div",{className:"text-[10px] lg:text-xs text-stone-500 dark:text-stone-400 uppercase tracking-wider",children:"Resolution"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xl lg:text-2xl font-light text-stone-900 dark:text-stone-50 mb-1",children:"0.8s"}),u.jsx("div",{className:"text-[10px] lg:text-xs text-stone-500 dark:text-stone-400 uppercase tracking-wider",children:"Response"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xl lg:text-2xl font-light text-stone-900 dark:text-stone-50 mb-1",children:"24/7"}),u.jsx("div",{className:"text-[10px] lg:text-xs text-stone-500 dark:text-stone-400 uppercase tracking-wider",children:"Available"})]})]}),u.jsxs("div",{className:"flex items-center space-x-8 text-xs text-stone-400 dark:text-stone-500 hidden lg:flex",children:[u.jsx("span",{children:"Privacy"}),u.jsx("span",{children:"Terms"}),u.jsx("span",{children:"Support"})]})]})}),u.jsx("div",{className:"col-span-1 lg:col-span-4 bg-white dark:bg-stone-800/50 border-l border-stone-200 dark:border-stone-800",children:u.jsx("div",{className:"p-12 lg:p-16 h-full flex items-center",children:u.jsxs("div",{className:"w-full",children:[u.jsxs("div",{className:"mb-16",children:[u.jsx("div",{className:"text-xs text-stone-400 dark:text-stone-500 mb-8",children:"Sign in"}),u.jsxs("h2",{className:"text-2xl font-thin text-stone-900 dark:text-stone-50 mb-8",children:["Continue to",u.jsx("br",{}),"workspace"]}),u.jsxs("button",{onClick:e,className:"btn-primary w-full flex items-center justify-center gap-3",children:[u.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M17.64 9.20455C17.64 8.56636 17.5827 7.95273 17.4764 7.36364H9V10.845H13.8436C13.635 11.97 13.0009 12.9232 12.0477 13.5614V15.8195H14.9564C16.6582 14.2527 17.64 11.9455 17.64 9.20455Z",fill:"#4285F4"}),u.jsx("path",{d:"M9 18C11.43 18 13.4673 17.1941 14.9564 15.8195L12.0477 13.5614C11.2418 14.1014 10.2109 14.4204 9 14.4204C6.65591 14.4204 4.67182 12.8373 3.96409 10.71H0.957275V13.0418C2.43818 15.9832 5.48182 18 9 18Z",fill:"#34A853"}),u.jsx("path",{d:"M3.96409 10.71C3.78409 10.17 3.68182 9.59318 3.68182 9C3.68182 8.40682 3.78409 7.83 3.96409 7.29V4.95818H0.957273C0.347727 6.17318 0 7.54773 0 9C0 10.4523 0.347727 11.8268 0.957273 13.0418L3.96409 10.71Z",fill:"#FBBC04"}),u.jsx("path",{d:"M9 3.57955C10.3214 3.57955 11.5077 4.03364 12.4405 4.92545L15.0218 2.34409C13.4632 0.891818 11.4259 0 9 0C5.48182 0 2.43818 2.01682 0.957275 4.95818L3.96409 7.29C4.67182 5.16273 6.65591 3.57955 9 3.57955Z",fill:"#EA4335"})]}),"Sign in with Google"]})]}),u.jsx("div",{className:"text-xs text-stone-400 dark:text-stone-500 leading-relaxed",children:"Secure authentication powered by Google. Your data remains private and protected."})]})})})]})})]})}function c2e(){const[t,e]=S.useState(null),[n,r]=S.useState([]),[i,a]=S.useState(!0);S.useEffect(()=>{o()},[]);const o=async()=>{try{const f=Va(qt(nt,"admin/roadmap/items"),Wc("status","==","upcoming"),Yc("priority","asc")),m=await zn(f);m.empty||e({id:m.docs[0].id,...m.docs[0].data()});const g=Va(qt(nt,"admin/changelog/items"),Wc("published","==",!0),Yc("releaseDate","desc")),x=(await zn(g)).docs.map(w=>({id:w.id,...w.data()}));r(x)}catch(f){console.error("Error fetching roadmap data:",f)}finally{a(!1)}},c=f=>f?(f.toDate?f.toDate():new Date(f)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"",d=f=>{switch(f){case"major":return"bg-purple-100 text-purple-800 border-purple-200";case"minor":return"bg-blue-100 text-blue-800 border-blue-200";case"patch":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return i?u.jsx("div",{className:"min-h-screen bg-neutral-100 flex items-center justify-center",children:u.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-neutral-900 border-t-transparent rounded-full"})}):u.jsxs(u.Fragment,{children:[u.jsxs(Na,{children:[u.jsx("title",{children:"Roadmap & Changelog - Orchis"}),u.jsx("meta",{name:"description",content:"See what's coming next and track our latest updates. Follow Orchis development roadmap and feature releases."}),u.jsx("meta",{name:"keywords",content:"roadmap, changelog, updates, features, releases, development"}),u.jsx("link",{rel:"canonical",href:"https://orchis.app/roadmap"})]}),u.jsxs("div",{className:"min-h-screen bg-neutral-100",children:[u.jsx(nA,{}),u.jsx("section",{className:"pt-32 pb-16 px-4",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 bg-white border border-neutral-200 rounded-full px-4 py-2 text-sm font-medium text-neutral-700 mb-8",children:[u.jsx(Nm,{className:"w-4 h-4"}),"Product Development"]}),u.jsxs("h1",{className:"text-4xl md:text-5xl font-light text-neutral-900 mb-6 leading-tight",children:["What's ",u.jsx("span",{className:"font-medium",children:"Next"})," &",u.jsx("br",{}),"What's ",u.jsx("span",{className:"font-medium",children:"New"})]}),u.jsx("p",{className:"text-lg text-neutral-600 max-w-2xl mx-auto leading-relaxed",children:"Follow our journey as we build the future of AI customer support. See what's coming next and track our latest updates."})]})}),t&&u.jsx("section",{className:"pb-16 px-4",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-gradient-to-br from-neutral-900 via-neutral-900 to-neutral-800 rounded-3xl p-8 md:p-12 text-white relative overflow-hidden border border-neutral-700/50",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-bl from-blue-500/10 to-transparent rounded-full -translate-y-32 translate-x-32"}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-2xl flex items-center justify-center border border-blue-500/30",children:u.jsx(q8,{className:"w-6 h-6 text-blue-400"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-blue-400",children:"Next Up"}),u.jsx("div",{className:"text-lg font-medium text-white",children:"Coming Soon"})]})]}),u.jsx("h2",{className:"text-3xl md:text-4xl font-light mb-4 leading-tight text-white",children:t.title}),u.jsx("p",{className:"text-lg text-neutral-300 mb-6 leading-relaxed max-w-2xl",children:t.description}),t.expectedDate&&u.jsxs("div",{className:"flex items-center gap-2 text-neutral-400",children:[u.jsx(Wte,{className:"w-4 h-4"}),u.jsxs("span",{className:"text-sm",children:["Expected: ",c(t.expectedDate)]})]})]})]})})}),u.jsx("section",{className:"pb-8 px-4",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsx("div",{className:"flex items-center justify-center",children:u.jsxs("div",{className:"flex items-center gap-3 bg-white border border-neutral-200 rounded-full px-6 py-3",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),u.jsx("span",{className:"text-sm font-medium text-neutral-700",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),u.jsx(nI,{className:"w-4 h-4 text-neutral-500"})]})})})}),u.jsx("section",{className:"pb-24 px-4",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsxs("h2",{className:"text-3xl md:text-4xl font-light text-neutral-900 mb-4",children:["Recent ",u.jsx("span",{className:"font-medium",children:"Updates"})]}),u.jsx("p",{className:"text-lg text-neutral-600 max-w-2xl mx-auto",children:"Track our progress and see the latest features we've shipped."})]}),u.jsx("div",{className:"space-y-6",children:n.map((f,m)=>u.jsxs("div",{className:"group relative",children:[m!==n.length-1&&u.jsx("div",{className:"absolute left-6 top-14 w-px h-full bg-neutral-200 group-hover:bg-neutral-300 transition-colors"}),u.jsxs("div",{className:"flex items-start gap-6",children:[u.jsx("div",{className:"flex-shrink-0 relative z-10",children:u.jsx("div",{className:"w-3 h-3 bg-neutral-900 rounded-full border-4 border-neutral-100 shadow-sm"})}),u.jsxs("div",{className:"flex-1 pb-8",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium ${d(f.type)}`,children:["v",f.version]}),u.jsx("span",{className:"text-sm text-neutral-500",children:c(f.releaseDate)})]}),u.jsx("h3",{className:"text-xl font-light text-neutral-900 mb-3",children:f.title}),u.jsx("p",{className:"text-neutral-600 mb-4 leading-relaxed font-light",children:f.description}),f.features&&f.features.length>0&&u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:f.features.map((g,v)=>u.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-600",children:[u.jsx("div",{className:"w-1 h-1 bg-neutral-900 rounded-full flex-shrink-0"}),u.jsx("span",{className:"font-light",children:g})]},v))})]})]})]},f.id))}),n.length===0&&u.jsxs("div",{className:"text-center py-16",children:[u.jsx("div",{className:"w-16 h-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(nI,{className:"w-8 h-8 text-neutral-400"})}),u.jsx("h3",{className:"text-lg font-light text-neutral-900 mb-2",children:"No updates yet"}),u.jsx("p",{className:"text-neutral-600 font-light",children:"Check back soon for our latest releases."})]})]})}),u.jsx(rA,{})]})]})}function u2e(){return u.jsxs(u.Fragment,{children:[u.jsxs(Na,{children:[u.jsx("title",{children:"404 - Page Not Found"}),u.jsx("meta",{name:"description",content:"The page you're looking for could not be found."})]}),u.jsxs("div",{className:"min-h-screen bg-neutral-100",children:[u.jsx(nA,{}),u.jsx("div",{className:"flex items-center justify-center min-h-[60vh] px-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-6xl font-bold text-neutral-900 mb-4",children:"404"}),u.jsx("h2",{className:"text-2xl font-semibold text-neutral-700 mb-6",children:"Page Not Found"}),u.jsx("p",{className:"text-neutral-600 mb-8 max-w-md",children:"The page you're looking for doesn't exist or has been moved."}),u.jsx(vn,{to:"/",className:"inline-flex items-center px-6 py-3 bg-neutral-900 text-white rounded-lg hover:bg-neutral-800 transition-colors",children:"Go Home"})]})}),u.jsx(rA,{})]})]})}const Op=jv();La(Op,"processDocument");La(Op,"chatWithAgent");La(Op,"getAgentConversations");La(Op,"deleteDocument");const d2e=async(t,e)=>{const n="deniz@orchis.app",r="06072027Deniz!";if(console.log("Admin env check:",{adminEmail:n,adminPassword:"***"}),t===n&&e===r)return localStorage.setItem("adminAuth","true"),localStorage.setItem("adminAuthTime",Date.now().toString()),{success:!0};throw new Error("Invalid credentials")},f2e=()=>{const t=localStorage.getItem("adminAuth")==="true",e=localStorage.getItem("adminAuthTime");return t&&e&&Date.now()-parseInt(e)>24*60*60*1e3?(localStorage.removeItem("adminAuth"),localStorage.removeItem("adminAuthTime"),!1):t},h2e=()=>{localStorage.removeItem("adminAuth"),localStorage.removeItem("adminAuthTime")},m2e=async t=>{try{return{success:!0,id:(await Uc(qt(nt,"admin/blog/posts"),{...t,createdAt:Ar(),updatedAt:Ar(),published:!1})).id}}catch(e){throw console.error("Error creating blog post: ",e),e}},p2e=async()=>{try{const t=Va(qt(nt,"admin/blog/posts"),Yc("createdAt","desc"));return(await zn(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error getting blog posts: ",t),t}},GB=async()=>{try{const t=Va(qt(nt,"admin/blog/posts"),Wc("published","==",!0),Yc("createdAt","desc"));return(await zn(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error getting published blog posts: ",t),t}},g2e=async t=>{try{const e=Va(qt(nt,"admin/blog/posts"),Wc("slug","==",t),Wc("published","==",!0),wX(1)),n=await zn(e);if(!n.empty){const r=n.docs[0];return{id:r.id,...r.data()}}return null}catch(e){throw console.error("Error getting blog post by slug: ",e),e}},a6=async(t,e)=>{try{const n=Vn(nt,"admin/blog/posts",t);return await Ld(n,{...e,updatedAt:Ar()}),{success:!0}}catch(n){throw console.error("Error updating blog post: ",n),n}},v2e=async t=>{try{return await Am(Vn(nt,"admin/blog/posts",t)),{success:!0}}catch(e){throw console.error("Error deleting blog post: ",e),e}},y2e=La(Op,"getAdminStats");function x2e({onLogin:t}){const[e,n]=S.useState(""),[r,i]=S.useState(""),[a,o]=S.useState(""),[c,d]=S.useState(!1),f=async m=>{m.preventDefault(),o(""),d(!0);try{await d2e(e,r),t()}catch{o("Invalid email or password")}finally{d(!1)}};return u.jsx("div",{className:"min-h-screen bg-neutral-100 flex items-center justify-center",children:u.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-neutral-200 w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("img",{src:"/logonaked.png",alt:"Orchis",className:"h-8 w-auto mx-auto mb-4"}),u.jsx("h1",{className:"text-2xl font-thin text-neutral-900",children:"Admin Login"}),u.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"Access the admin dashboard"})]}),u.jsxs("form",{onSubmit:f,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Email"}),u.jsx("input",{type:"email",value:e,onChange:m=>n(m.target.value),className:"w-full px-4 py-3 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-neutral-900 focus:border-transparent",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Password"}),u.jsx("input",{type:"password",value:r,onChange:m=>i(m.target.value),className:"w-full px-4 py-3 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-neutral-900 focus:border-transparent",required:!0})]}),a&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:u.jsx("p",{className:"text-sm text-red-600",children:a})}),u.jsx("button",{type:"submit",disabled:c,className:"w-full bg-neutral-900 text-white py-3 px-4 rounded-lg hover:bg-neutral-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:c?"Signing in...":"Sign In"})]})]})})}const Nk="m_q8CSCIVwrEhne41GQyjHnJvF8hh8pFTvoZMYgLtAg",KB="https://api.unsplash.com",s6=async(t,e=1,n=20)=>{try{const r=await fetch(`${KB}/search/photos?query=${encodeURIComponent(t)}&page=${e}&per_page=${n}&orientation=landscape`,{headers:{Authorization:`Client-ID ${Nk}`}});if(!r.ok)throw new Error(`Unsplash API error: ${r.status}`);return(await r.json()).results.map(a=>({id:a.id,url:a.urls.regular,smallUrl:a.urls.small,thumbUrl:a.urls.thumb,description:a.description||a.alt_description||"Unsplash image",author:a.user.name,authorUrl:a.user.links.html,downloadUrl:a.links.download_location}))}catch(r){throw console.error("Error fetching Unsplash photos:",r),r}},b2e=async(t=1,e=20)=>{try{const n=await fetch(`${KB}/photos?page=${t}&per_page=${e}&order_by=popular&orientation=landscape`,{headers:{Authorization:`Client-ID ${Nk}`}});if(!n.ok)throw new Error(`Unsplash API error: ${n.status}`);return(await n.json()).map(i=>({id:i.id,url:i.urls.regular,smallUrl:i.urls.small,thumbUrl:i.urls.thumb,description:i.description||i.alt_description||"Unsplash image",author:i.user.name,authorUrl:i.user.links.html,downloadUrl:i.links.download_location}))}catch(n){throw console.error("Error fetching featured photos:",n),n}},w2e=async t=>{try{await fetch(t,{headers:{Authorization:`Client-ID ${Nk}`}})}catch(e){console.error("Error triggering download:",e)}};function _2e({onImageSelect:t,selectedImage:e}){const[n,r]=S.useState(!1),[i,a]=S.useState([]),[o,c]=S.useState(!1),[d,f]=S.useState(""),[m,g]=S.useState("featured");S.useEffect(()=>{n&&m==="featured"&&v()},[n,m]);const v=async()=>{c(!0);try{const A=await b2e(1,15);console.log("Featured photos loaded:",A),a(A)}catch(A){console.error("Error loading featured images:",A)}finally{c(!1)}},x=async A=>{if(A&&A.preventDefault&&A.preventDefault(),!!d.trim()){c(!0),g("search");try{const k=await s6(d,1,15);a(k)}catch(k){console.error("Error searching images:",k)}finally{c(!1)}}},w=async A=>{try{await w2e(A.downloadUrl),t({url:A.url,thumbUrl:A.thumbUrl,description:A.description,author:A.author,authorUrl:A.authorUrl,unsplashId:A.id}),r(!1)}catch(k){console.error("Error selecting image:",k)}},T=[{id:"business",label:"Business",query:"business office professional"},{id:"technology",label:"Technology",query:"technology computer software"},{id:"people",label:"People",query:"people team collaboration"},{id:"abstract",label:"Abstract",query:"abstract geometric pattern"}],E=async A=>{c(!0),g("category"),f(A.query);try{const k=await s6(A.query,1,15);a(k)}catch(k){console.error("Error loading category images:",k)}finally{c(!1)}};return u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"Featured Image"}),e?u.jsxs("div",{className:"relative group",children:[u.jsx("img",{src:e.thumbUrl,alt:e.description,className:"w-full h-48 object-cover rounded-lg border border-neutral-200"}),u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:u.jsx("button",{type:"button",onClick:()=>r(!0),className:"bg-white text-neutral-900 px-4 py-2 rounded-lg text-sm font-medium hover:bg-neutral-100 transition-colors cursor-pointer",children:"Change Image"})}),u.jsxs("div",{className:"mt-2 text-xs text-neutral-500",children:["Photo by"," ",u.jsx("a",{href:e.authorUrl,target:"_blank",rel:"noopener noreferrer",className:"text-neutral-700 hover:text-neutral-900",children:e.author})," ","on Unsplash"]})]}):u.jsx("button",{onClick:()=>r(!0),className:"w-full h-48 border-2 border-dashed border-neutral-300 rounded-lg flex items-center justify-center hover:border-neutral-400 transition-colors cursor-pointer",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl mb-2",children:"📷"}),u.jsx("div",{className:"text-sm font-medium text-neutral-700",children:"Select Featured Image"}),u.jsx("div",{className:"text-xs text-neutral-500 mt-1",children:"Browse from Unsplash"})]})}),n&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9999] flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[u.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Select Featured Image"}),u.jsx("button",{type:"button",onClick:()=>r(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors cursor-pointer",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-6 border-b border-neutral-200",children:[u.jsx("div",{className:"mb-4",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:d,onChange:A=>f(A.target.value),placeholder:"Search for images...",className:"flex-1 px-3 py-2 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-neutral-900",onKeyDown:A=>{A.key==="Enter"&&(A.preventDefault(),x(A))}}),u.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 bg-neutral-900 text-white rounded-lg hover:bg-neutral-800 transition-colors cursor-pointer",children:"Search"})]})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{g("featured"),v()},className:`px-3 py-1 text-sm rounded-full transition-colors cursor-pointer ${m==="featured"?"bg-neutral-900 text-white":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"}`,children:"Featured"}),T.map(A=>u.jsx("button",{type:"button",onClick:()=>E(A),className:"px-3 py-1 text-sm bg-neutral-100 text-neutral-700 rounded-full hover:bg-neutral-200 transition-colors cursor-pointer",children:A.label},A.id))]})]}),u.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:o?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-neutral-900"})}):i.length>0?u.jsx("div",{className:"grid grid-cols-3 gap-4",children:i.map(A=>u.jsx("div",{className:"w-full h-32 border border-gray-300 rounded overflow-hidden",children:u.jsx("img",{src:A.smallUrl,alt:A.description,className:"w-full h-full object-cover cursor-pointer hover:opacity-80",onClick:()=>w(A)})},A.id))}):u.jsx("div",{className:"text-center py-12 text-neutral-500",children:"No images found. Try a different search term."})})]})})]})}function E2e(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[i,a]=S.useState(!1),[o,c]=S.useState(null),[d,f]=S.useState({title:"",slug:"",excerpt:"",content:"",category:"insights",keywords:"",featured:!1,published:!1,featuredImage:null});S.useEffect(()=>{m()},[]);const m=async()=>{try{const A=await p2e();e(A)}catch(A){console.error("Error loading posts:",A)}finally{r(!1)}},g=A=>A.toLowerCase().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),v=A=>{const{name:k,value:j,type:D,checked:O}=A.target,L=D==="checkbox"?O:j;f(P=>({...P,[k]:L,...k==="title"&&{slug:g(j)}}))},x=async A=>{A.preventDefault(),r(!0);try{o?await a6(o.id,d):await m2e({...d,readTime:Math.ceil(d.content.split(" ").length/200)}),await m(),a(!1),c(null),f({title:"",slug:"",excerpt:"",content:"",category:"insights",keywords:"",featured:!1,published:!1,featuredImage:null})}catch(k){console.error("Error saving post:",k)}finally{r(!1)}},w=A=>{c(A),f({title:A.title||"",slug:A.slug||"",excerpt:A.excerpt||"",content:A.content||"",category:A.category||"insights",keywords:A.keywords||"",featured:A.featured||!1,published:A.published||!1,featuredImage:A.featuredImage||null}),a(!0)},T=async A=>{if(window.confirm("Are you sure you want to delete this post?"))try{await v2e(A),await m()}catch(k){console.error("Error deleting post:",k)}},E=async A=>{try{await a6(A.id,{published:!A.published}),await m()}catch(k){console.error("Error updating post status:",k)}};return n&&t.length===0?u.jsx("div",{className:"text-center py-8",children:"Loading posts..."}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-thin text-neutral-900",children:"Blog Posts"}),u.jsx("p",{className:"text-neutral-600",children:"Manage your blog content"})]}),u.jsx("button",{onClick:()=>a(!0),className:"bg-neutral-900 text-white px-4 py-2 rounded-lg hover:bg-neutral-800 transition-colors cursor-pointer",children:"New Post"})]}),i&&u.jsxs("div",{className:"bg-white p-6 rounded-xl border border-neutral-200",children:[u.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:o?"Edit Post":"Create New Post"}),u.jsxs("form",{onSubmit:x,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Title"}),u.jsx("input",{type:"text",name:"title",value:d.title,onChange:v,className:"w-full px-3 py-2 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-neutral-900",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Slug"}),u.jsx("input",{type:"text",name:"slug",value:d.slug,onChange:v,className:"w-full px-3 py-2 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-neutral-900",required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Category"}),u.jsxs("select",{name:"category",value:d.category,onChange:v,className:"w-full px-3 py-2 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-neutral-900",children:[u.jsx("option",{value:"insights",children:"Insights"}),u.jsx("option",{value:"comparisons",children:"Comparisons"}),u.jsx("option",{value:"guides",children:"Guides"}),u.jsx("option",{value:"news",children:"News"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Keywords (comma separated)"}),u.jsx("input",{type:"text",name:"keywords",value:d.keywords,onChange:v,className:"w-full px-3 py-2 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-neutral-900",placeholder:"AI, customer service, comparison"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Excerpt"}),u.jsx("textarea",{name:"excerpt",value:d.excerpt,onChange:v,rows:3,className:"w-full px-3 py-2 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-neutral-900",required:!0})]}),u.jsx(_2e,{selectedImage:d.featuredImage,onImageSelect:A=>f(k=>({...k,featuredImage:A}))}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Content (HTML)"}),u.jsx("textarea",{name:"content",value:d.content,onChange:v,rows:20,className:"w-full px-3 py-2 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-neutral-900 font-mono text-sm",required:!0,placeholder:`<h2>Introduction</h2>
<p>Your content here...</p>

<h3>Key Features</h3>
<ul>
<li>Feature 1</li>
<li>Feature 2</li>
</ul>`})]}),u.jsxs("div",{className:"flex items-center space-x-6",children:[u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",name:"featured",checked:d.featured,onChange:v,className:"mr-2"}),"Featured Post"]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",name:"published",checked:d.published,onChange:v,className:"mr-2"}),"Published"]})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("button",{type:"submit",className:"bg-neutral-900 text-white px-6 py-2 rounded-lg hover:bg-neutral-800 transition-colors cursor-pointer",children:o?"Update Post":"Create Post"}),u.jsx("button",{type:"button",onClick:()=>{a(!1),c(null),f({title:"",slug:"",excerpt:"",content:"",category:"insights",keywords:"",featured:!1,published:!1,featuredImage:null})},className:"border border-neutral-200 text-neutral-700 px-6 py-2 rounded-lg hover:border-neutral-300 transition-colors cursor-pointer",children:"Cancel"})]})]})]}),u.jsx("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden",children:t.length===0?u.jsx("div",{className:"p-8 text-center text-neutral-500",children:"No blog posts yet. Create your first post!"}):u.jsx("div",{className:"divide-y divide-neutral-200",children:t.map(A=>u.jsx("div",{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${A.published?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:A.published?"Published":"Draft"}),A.featured&&u.jsx("span",{className:"text-xs bg-neutral-900 text-white px-2 py-1 rounded-full",children:"Featured"}),u.jsx("span",{className:"text-xs text-neutral-500 capitalize",children:A.category})]}),u.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-1",children:A.title}),u.jsx("p",{className:"text-sm text-neutral-600 mb-2",children:A.excerpt}),u.jsxs("div",{className:"text-xs text-neutral-500",children:["Slug: /",A.slug]})]}),u.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[u.jsx("button",{onClick:()=>E(A),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer ${A.published?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:A.published?"Unpublish":"Publish"}),u.jsx("button",{onClick:()=>w(A),className:"text-xs bg-neutral-100 text-neutral-700 px-3 py-1 rounded hover:bg-neutral-200 transition-colors cursor-pointer",children:"Edit"}),u.jsx("button",{onClick:()=>T(A.id),className:"text-xs bg-red-100 text-red-700 px-3 py-1 rounded hover:bg-red-200 transition-colors cursor-pointer",children:"Delete"})]})]})},A.id))})})]})}function S2e(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[i,a]=S.useState(!1),[o,c]=S.useState(null),[d,f]=S.useState({title:"",description:"",status:"upcoming",priority:1,expectedDate:"",category:"feature"});S.useEffect(()=>{m()},[]);const m=async()=>{try{const E=Va(qt(nt,"admin/roadmap/items"),Yc("priority","asc")),k=(await zn(E)).docs.map(j=>({id:j.id,...j.data()}));e(k)}catch(E){console.error("Error loading roadmap items:",E)}finally{r(!1)}},g=E=>{const{name:A,value:k,type:j,checked:D}=E.target,O=j==="checkbox"?D:k;f(L=>({...L,[A]:O}))},v=async E=>{E.preventDefault(),r(!0);try{const A={...d,priority:parseInt(d.priority),expectedDate:d.expectedDate?new Date(d.expectedDate):null,updatedAt:Ar()};o?(o.status!=="completed"&&d.status==="completed"&&await Uc(qt(nt,"admin/changelog/items"),{title:d.title,description:d.description,version:"1.0.0",type:"minor",releaseDate:Ar(),features:[d.title],published:!0,createdAt:Ar(),source:"roadmap",roadmapId:o.id}),await Ld(Vn(nt,"admin/roadmap/items",o.id),A)):await Uc(qt(nt,"admin/roadmap/items"),{...A,createdAt:Ar()}),await m(),a(!1),c(null),f({title:"",description:"",status:"upcoming",priority:1,expectedDate:"",category:"feature"})}catch(A){console.error("Error saving roadmap item:",A)}finally{r(!1)}},x=E=>{c(E),f({title:E.title||"",description:E.description||"",status:E.status||"upcoming",priority:E.priority||1,expectedDate:E.expectedDate?new Date(E.expectedDate.seconds*1e3).toISOString().split("T")[0]:"",category:E.category||"feature"}),a(!0)},w=async E=>{if(window.confirm("Are you sure you want to delete this roadmap item?"))try{await Am(Vn(nt,"admin/roadmap/items",E)),await m()}catch(A){console.error("Error deleting roadmap item:",A)}},T=E=>{const A={upcoming:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"};return A[E]||A.upcoming};return n&&!i?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Roadmap Management"}),u.jsx("button",{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium",children:"Add Roadmap Item"})]}),i&&u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:o?"Edit Roadmap Item":"Add New Roadmap Item"}),u.jsxs("form",{onSubmit:v,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),u.jsx("input",{type:"text",name:"title",value:d.title,onChange:g,className:"w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{name:"description",value:d.description,onChange:g,rows:4,className:"w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),u.jsxs("select",{name:"status",value:d.status,onChange:g,className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[u.jsx("option",{value:"upcoming",children:"Upcoming"}),u.jsx("option",{value:"in_progress",children:"In Progress"}),u.jsx("option",{value:"completed",children:"Completed"}),u.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),u.jsx("input",{type:"number",name:"priority",value:d.priority,onChange:g,min:"1",className:"w-full border border-gray-300 rounded-md px-3 py-2"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),u.jsxs("select",{name:"category",value:d.category,onChange:g,className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[u.jsx("option",{value:"feature",children:"Feature"}),u.jsx("option",{value:"improvement",children:"Improvement"}),u.jsx("option",{value:"bugfix",children:"Bug Fix"}),u.jsx("option",{value:"integration",children:"Integration"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Date"}),u.jsx("input",{type:"date",name:"expectedDate",value:d.expectedDate,onChange:g,className:"w-full border border-gray-300 rounded-md px-3 py-2"})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:()=>{a(!1),c(null),f({title:"",description:"",status:"upcoming",priority:1,expectedDate:"",category:"feature"})},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:n,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50",children:n?"Saving...":o?"Update":"Create"})]})]})]}),u.jsxs("div",{className:"bg-white shadow rounded-lg",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Roadmap Items"})}),u.jsxs("div",{className:"divide-y divide-gray-200",children:[t.map(E=>u.jsx("div",{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[u.jsx("h4",{className:"text-lg font-medium text-gray-900",children:E.title}),u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${T(E.status)}`,children:E.status.replace("_"," ")}),u.jsxs("span",{className:"text-sm text-gray-500",children:["Priority: ",E.priority]})]}),u.jsx("p",{className:"text-gray-600 mb-2",children:E.description}),u.jsxs("div",{className:"text-sm text-gray-500",children:["Category: ",E.category," •",E.expectedDate&&` Expected: ${new Date(E.expectedDate.seconds*1e3).toLocaleDateString()}`]})]}),u.jsxs("div",{className:"flex space-x-2 ml-4",children:[u.jsx("button",{onClick:()=>x(E),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),u.jsx("button",{onClick:()=>w(E.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Delete"})]})]})},E.id)),t.length===0&&u.jsx("div",{className:"p-6 text-center text-gray-500",children:"No roadmap items found. Create your first item to get started."})]})]})]})}const T2e=async()=>{try{await Uc(qt(nt,"admin/roadmap/items"),{title:"Analytics Dashboard & Performance Insights",description:"Comprehensive analytics dashboard showing conversation volume, resolution rates, user satisfaction scores, and AI performance metrics with exportable reports.",status:"upcoming",priority:1,expectedDate:new Date("2025-02-10"),category:"feature",createdAt:Ar(),updatedAt:Ar()}),await Uc(qt(nt,"admin/roadmap/items"),{title:"Team Collaboration & Multi-User Support",description:"Add team member management, role-based permissions, shared agent access, and collaborative training workflows for enterprise customers.",status:"upcoming",priority:2,expectedDate:new Date("2025-02-20"),category:"feature",createdAt:Ar(),updatedAt:Ar()});const t=[{title:"Enhanced Chat Widget Experience",description:"Major update to the chat widget with improved user experience, better AI responses, and modern dark theme design.",version:"1.4.0",type:"minor",releaseDate:new Date("2025-01-28"),features:["Modern dark theme chat interface","Multi-language response support","Better casual conversation handling","Improved name recognition and memory","Smoother typing animations","Mobile-optimized chat experience"],published:!0,createdAt:Ar()},{title:"Embed Code Generator & Website Integration",description:"New embed code generator allowing users to easily integrate their AI agents into any website with customization options.",version:"1.3.0",type:"minor",releaseDate:new Date("2025-01-25"),features:["One-click embed code generation","Live preview functionality","Customizable widget positioning","Color theme options","Installation instructions","Copy-to-clipboard functionality"],published:!0,createdAt:Ar()},{title:"Enhanced Chat Experience",description:"Improved chat functionality with better AI responses, multi-language support, and personality enhancements.",version:"1.1.5",type:"patch",releaseDate:new Date("2025-01-20"),features:["Multi-language response support","More conversational AI personality","Better casual question handling","Improved name recognition and capitalization"],published:!0,createdAt:Ar()},{title:"Embed Code Generator",description:"Launch of the embed code generator allowing users to easily integrate chat widgets into their websites.",version:"1.1.0",type:"minor",releaseDate:new Date("2025-01-15"),features:["One-click embed code generation","Customizable widget positioning","Color theme options","Live preview functionality"],published:!0,createdAt:Ar()},{title:"Initial Platform Launch",description:"Official launch of Orchis AI customer support platform with core features including AI training, document processing, and chat functionality.",version:"1.0.0",type:"major",releaseDate:new Date("2025-01-01"),features:["AI agent training system","Document upload and processing","Real-time chat functionality","Dashboard and analytics","User authentication"],published:!0,createdAt:Ar()}];for(const e of t)await Uc(qt(nt,"admin/changelog/items"),e);return console.log("✅ Roadmap and changelog data seeded successfully!"),!0}catch(t){return console.error("❌ Error seeding data:",t),!1}},A2e=async()=>window.confirm("Bu işlem örnek roadmap ve changelog verilerini ekleyecek. Devam etmek istediğinizden emin misiniz?")?await T2e():!1;function N2e(){const[t,e]=S.useState("stats"),[n,r]=S.useState(null),[i,a]=S.useState(!0);S.useEffect(()=>{o()},[]);const o=async()=>{try{const g=await y2e();r(g.data)}catch(g){console.error("Error loading stats:",g)}finally{a(!1)}},c=()=>{h2e(),window.location.reload()},d=[{id:"stats",label:"Dashboard",icon:"📊"},{id:"blog",label:"Blog Posts",icon:"📝"},{id:"roadmap",label:"Roadmap",icon:"🗺️"}],f={free:"bg-neutral-100 text-neutral-700 border-neutral-300",starter:"bg-blue-50 text-blue-700 border-blue-300",growth:"bg-purple-50 text-purple-700 border-purple-300",scale:"bg-orange-50 text-orange-700 border-orange-300"},m={free:"🆓",starter:"🚀",growth:"📈",scale:"⚡"};return u.jsxs("div",{className:"min-h-screen bg-neutral-100",children:[u.jsx("header",{className:"bg-white border-b border-neutral-200",children:u.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("img",{src:"/logonaked.png",alt:"Orchis",className:"h-8 w-auto"}),u.jsx("span",{className:"text-sm text-neutral-500",children:"/"}),u.jsx("span",{className:"text-sm font-medium text-neutral-900",children:"Admin"})]}),u.jsx("button",{onClick:c,className:"text-sm text-neutral-600 hover:text-neutral-900 transition-colors",children:"Logout"})]})})}),u.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"flex space-x-1 bg-neutral-200 p-1 rounded-lg mb-8 w-fit",children:d.map(g=>u.jsxs("button",{onClick:()=>e(g.id),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${t===g.id?"bg-white text-neutral-900 shadow-sm":"text-neutral-600 hover:text-neutral-900"}`,children:[u.jsx("span",{className:"mr-2",children:g.icon}),g.label]},g.id))}),t==="stats"&&u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-thin text-neutral-900 mb-2",children:"Dashboard"}),u.jsx("p",{className:"text-neutral-600",children:"Platform metrics and analytics"})]}),i?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(3)].map((g,v)=>u.jsx("div",{className:"bg-white p-6 rounded-xl border border-neutral-200",children:u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-4 bg-neutral-200 rounded w-1/2 mb-4"}),u.jsx("div",{className:"h-8 bg-neutral-200 rounded w-1/3"})]})},v))}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white p-6 rounded-xl border border-neutral-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-sm font-medium text-neutral-500",children:"Total Users"}),u.jsx("span",{className:"text-2xl",children:"👥"})]}),u.jsx("div",{className:"text-3xl font-thin text-neutral-900",children:(n==null?void 0:n.totalUsers)||0}),u.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:"Registered accounts"})]}),u.jsxs("div",{className:"bg-white p-6 rounded-xl border border-neutral-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-sm font-medium text-neutral-500",children:"Total Agents"}),u.jsx("span",{className:"text-2xl",children:"🤖"})]}),u.jsx("div",{className:"text-3xl font-thin text-neutral-900",children:(n==null?void 0:n.totalAgents)||0}),u.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:"AI agents created"})]}),u.jsxs("div",{className:"bg-white p-6 rounded-xl border border-neutral-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-sm font-medium text-neutral-500",children:"Avg Agents/User"}),u.jsx("span",{className:"text-2xl",children:"📊"})]}),u.jsx("div",{className:"text-3xl font-thin text-neutral-900",children:(n==null?void 0:n.totalUsers)>0?(n.totalAgents/n.totalUsers).toFixed(1):"0"}),u.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:"Average per user"})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-xl border border-neutral-200",children:[u.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-6",children:"Subscription Plan Distribution"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Object.entries((n==null?void 0:n.planDistribution)||{}).map(([g,v])=>u.jsxs("div",{className:`p-4 rounded-lg border-2 ${f[g]}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-2xl",children:m[g]}),u.jsx("span",{className:"text-2xl font-thin",children:v})]}),u.jsx("div",{className:"text-sm font-medium capitalize",children:g}),u.jsx("div",{className:"text-xs opacity-70 mt-1",children:n.totalUsers>0?`${(v/n.totalUsers*100).toFixed(1)}%`:"0%"})]},g))}),u.jsx("div",{className:"mt-6",children:u.jsx("div",{className:"h-8 flex rounded-lg overflow-hidden",children:Object.entries((n==null?void 0:n.planDistribution)||{}).map(([g,v])=>{const x=n.totalUsers>0?v/n.totalUsers*100:0;return x===0?null:u.jsx("div",{className:`${f[g].split(" ")[0]} flex items-center justify-center text-xs font-medium`,style:{width:`${x}%`},title:`${g}: ${v} users (${x.toFixed(1)}%)`,children:x>10&&`${x.toFixed(0)}%`},g)})})})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-xl border border-neutral-200",children:[u.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Quick Actions"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.jsxs("button",{onClick:()=>e("blog"),className:"p-4 border border-neutral-200 rounded-lg hover:border-neutral-300 transition-colors text-left cursor-pointer",children:[u.jsx("div",{className:"text-2xl mb-2",children:"📝"}),u.jsx("div",{className:"font-medium text-neutral-900",children:"Create Blog Post"}),u.jsx("div",{className:"text-sm text-neutral-500",children:"Add new content to the blog"})]}),u.jsxs("button",{onClick:()=>window.open("/blog","_blank"),className:"p-4 border border-neutral-200 rounded-lg hover:border-neutral-300 transition-colors text-left cursor-pointer",children:[u.jsx("div",{className:"text-2xl mb-2",children:"🌐"}),u.jsx("div",{className:"font-medium text-neutral-900",children:"View Blog"}),u.jsx("div",{className:"text-sm text-neutral-500",children:"See the public blog"})]}),u.jsxs("button",{onClick:()=>e("roadmap"),className:"p-4 border border-neutral-200 rounded-lg hover:border-neutral-300 transition-colors text-left cursor-pointer",children:[u.jsx("div",{className:"text-2xl mb-2",children:"🗺️"}),u.jsx("div",{className:"font-medium text-neutral-900",children:"Manage Roadmap"}),u.jsx("div",{className:"text-sm text-neutral-500",children:"Update product roadmap"})]}),u.jsxs("button",{onClick:()=>window.open("/","_blank"),className:"p-4 border border-neutral-200 rounded-lg hover:border-neutral-300 transition-colors text-left cursor-pointer",children:[u.jsx("div",{className:"text-2xl mb-2",children:"🏠"}),u.jsx("div",{className:"font-medium text-neutral-900",children:"View Homepage"}),u.jsx("div",{className:"text-sm text-neutral-500",children:"Check the main site"})]}),u.jsxs("button",{onClick:A2e,className:"p-4 border border-neutral-200 rounded-lg hover:border-neutral-300 transition-colors text-left cursor-pointer",children:[u.jsx("div",{className:"text-2xl mb-2",children:"🌱"}),u.jsx("div",{className:"font-medium text-neutral-900",children:"Seed Data"}),u.jsx("div",{className:"text-sm text-neutral-500",children:"Add sample roadmap data"})]}),u.jsxs("button",{onClick:o,className:"p-4 border border-neutral-200 rounded-lg hover:border-neutral-300 transition-colors text-left cursor-pointer",children:[u.jsx("div",{className:"text-2xl mb-2",children:"🔄"}),u.jsx("div",{className:"font-medium text-neutral-900",children:"Refresh Stats"}),u.jsx("div",{className:"text-sm text-neutral-500",children:"Reload dashboard data"})]})]})]})]}),t==="blog"&&u.jsx(E2e,{}),t==="roadmap"&&u.jsx(S2e,{})]})]})}function k2e(){const[t,e]=S.useState(!1),[n,r]=S.useState(!0);S.useEffect(()=>{(()=>{const o=f2e();console.log("Admin auth check:",o),e(o),r(!1)})()},[]);const i=()=>{e(!0)};return n?u.jsx("div",{className:"min-h-screen bg-neutral-100 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-neutral-900 mx-auto mb-4"}),u.jsx("p",{className:"text-neutral-600",children:"Loading..."})]})}):t?u.jsx(N2e,{}):u.jsx(x2e,{onLogin:i})}function pm({children:t,title:e,description:n,keywords:r,canonicalUrl:i}){return u.jsxs(u.Fragment,{children:[u.jsxs(Na,{children:[u.jsxs("title",{children:[e," | Orchis Blog"]}),u.jsx("meta",{name:"description",content:n}),u.jsx("meta",{name:"keywords",content:r}),u.jsx("meta",{property:"og:title",content:`${e} | Orchis Blog`}),u.jsx("meta",{property:"og:description",content:n}),u.jsx("meta",{property:"og:type",content:"article"}),u.jsx("meta",{property:"og:url",content:i}),u.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),u.jsx("meta",{name:"twitter:title",content:`${e} | Orchis Blog`}),u.jsx("meta",{name:"twitter:description",content:n}),u.jsx("link",{rel:"canonical",href:i})]}),u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx("header",{className:"border-b border-neutral-200",children:u.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(vn,{to:"/",className:"flex items-center space-x-2",children:[u.jsx("img",{src:"/logonaked.png",alt:"Orchis",className:"h-8 w-auto"}),u.jsx("span",{className:"text-sm text-neutral-500",children:"/"}),u.jsx("span",{className:"text-sm font-medium text-neutral-900",children:"Blog"})]}),u.jsxs("nav",{className:"flex items-center space-x-6",children:[u.jsx(vn,{to:"/blog",className:"text-sm text-neutral-600 hover:text-neutral-900",children:"All Posts"}),u.jsx(vn,{to:"/blog/category/comparisons",className:"text-sm text-neutral-600 hover:text-neutral-900",children:"Comparisons"}),u.jsx(vn,{to:"/",className:"text-sm text-neutral-600 hover:text-neutral-900",children:"Home"})]})]})})}),u.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t}),u.jsx("footer",{className:"border-t border-neutral-200 mt-16",children:u.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"text-center",children:u.jsx("p",{className:"text-sm text-neutral-500",children:"© 2024 Orchis. All rights reserved."})})})})]})]})}function j2e(){const[t,e]=S.useState([]),[n,r]=S.useState(!0);S.useEffect(()=>{(async()=>{try{const c=await GB();e(c.map(d=>{var f,m;return{...d,date:((m=(f=d.createdAt)==null?void 0:f.toDate())==null?void 0:m.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))||"Recent"}}))}catch(c){console.error("Error loading posts:",c)}finally{r(!1)}})()},[]);const i=t.filter(o=>o.featured),a=t.slice(0,6);return n?u.jsx(pm,{title:"AI Customer Service Insights & Comparisons",description:"Discover the latest insights on AI customer service, chatbot comparisons, and industry best practices.",keywords:"AI customer service, chatbot comparison, customer support automation",canonicalUrl:"https://orchis.app/blog",children:u.jsxs("div",{className:"text-center py-16",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-neutral-900 mx-auto mb-4"}),u.jsx("p",{className:"text-neutral-600",children:"Loading blog posts..."})]})}):u.jsxs(pm,{title:"AI Customer Service Insights & Comparisons",description:"Discover the latest insights on AI customer service, chatbot comparisons, and industry best practices. Compare Orchis with competitors like Fin.ai, Intercom, and Zendesk.",keywords:"AI customer service, chatbot comparison, Orchis vs competitors, customer support automation, AI agents",canonicalUrl:"https://orchis.app/blog",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsxs("h1",{className:"text-4xl sm:text-5xl font-thin text-neutral-900 mb-6",children:["AI Customer Service",u.jsx("br",{}),u.jsx("span",{className:"text-neutral-500",children:"Insights & Comparisons"})]}),u.jsx("p",{className:"text-lg text-neutral-600 max-w-2xl mx-auto",children:"Deep dives into AI customer service, competitive analysis, and industry insights to help you make informed decisions about your customer support strategy."})]}),i.length>0&&u.jsxs("section",{className:"mb-16",children:[u.jsx("h2",{className:"text-2xl font-thin text-neutral-900 mb-8",children:"Featured Articles"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:i.map(o=>u.jsx("article",{className:"group",children:u.jsx(vn,{to:`/blog/${o.slug}`,className:"block",children:u.jsxs("div",{className:"bg-neutral-50 rounded-xl overflow-hidden hover:bg-neutral-100 transition-colors",children:[o.featuredImage&&u.jsx("div",{className:"aspect-video overflow-hidden",children:u.jsx("img",{src:o.featuredImage.url,alt:o.featuredImage.description,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("span",{className:"text-xs text-orange-600 font-bold tracking-wider",children:o.category.toUpperCase()}),o.featured&&u.jsx("span",{className:"text-xs bg-neutral-900 text-white px-2 py-0.5 rounded-full",children:"FEATURED"})]}),u.jsx("h3",{className:"text-xl font-medium text-neutral-900 mb-3 group-hover:text-orange-600 transition-colors",children:o.title}),u.jsx("p",{className:"text-neutral-600 text-sm mb-4",children:o.excerpt.length>150?o.excerpt.substring(0,150)+"...":o.excerpt}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-neutral-500",children:[u.jsx("span",{children:o.date}),u.jsxs("span",{children:[o.readTime," min read"]})]})]})]})})},o.slug))})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-thin text-neutral-900 mb-8",children:"Latest Articles"}),u.jsx("div",{className:"space-y-8",children:a.map(o=>u.jsx("article",{className:"group",children:u.jsx(vn,{to:`/blog/${o.slug}`,className:"block",children:u.jsxs("div",{className:"border-b border-neutral-200 pb-8 hover:border-neutral-300 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("span",{className:"text-xs text-orange-600 font-bold tracking-wider",children:o.category.toUpperCase()}),u.jsx("span",{className:"text-xs text-neutral-400",children:"•"}),u.jsx("span",{className:"text-xs text-neutral-500",children:o.date}),u.jsx("span",{className:"text-xs text-neutral-400",children:"•"}),u.jsxs("span",{className:"text-xs text-neutral-500",children:[o.readTime," min read"]})]}),u.jsx("h3",{className:"text-2xl font-thin text-neutral-900 mb-4 group-hover:text-orange-600 transition-colors",children:o.title}),u.jsx("p",{className:"text-neutral-600 leading-relaxed mb-4",children:o.excerpt}),u.jsx("div",{className:"text-sm text-orange-600 group-hover:text-orange-700 transition-colors",children:"Read article →"})]})})},o.slug))})]}),u.jsxs("section",{className:"mt-16 bg-neutral-50 rounded-2xl p-8 text-center",children:[u.jsx("h3",{className:"text-xl font-medium text-neutral-900 mb-4",children:"Stay Updated"}),u.jsx("p",{className:"text-neutral-600 mb-6",children:"Get the latest insights on AI customer service delivered to your inbox."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[u.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-2 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),u.jsx("button",{className:"px-6 py-2 bg-neutral-900 text-white rounded-lg hover:bg-neutral-800 transition-colors",children:"Subscribe"})]})]})]})}function C2e(){const{slug:t}=p6(),[e,n]=S.useState(null),[r,i]=S.useState([]),[a,o]=S.useState(!0);return S.useEffect(()=>{(async()=>{var d,f;try{const m=await g2e(t);if(m){n({...m,date:((f=(d=m.createdAt)==null?void 0:d.toDate())==null?void 0:f.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))||"Recent"});const v=(await GB()).filter(x=>x.slug!==t&&x.category===m.category).slice(0,2).map(x=>{var w,T;return{...x,date:((T=(w=x.createdAt)==null?void 0:w.toDate())==null?void 0:T.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))||"Recent"}});i(v)}}catch(m){console.error("Error loading post:",m)}finally{o(!1)}})()},[t]),a?u.jsx(pm,{title:"Loading...",description:"Loading blog post...",canonicalUrl:`https://orchis.app/blog/${t}`,children:u.jsxs("div",{className:"text-center py-16",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-neutral-900 mx-auto mb-4"}),u.jsx("p",{className:"text-neutral-600",children:"Loading post..."})]})}):e?u.jsxs(pm,{title:e.title,description:e.excerpt,keywords:e.keywords,canonicalUrl:`https://orchis.app/blog/${e.slug}`,children:[u.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-neutral-500 mb-8",children:[u.jsx(vn,{to:"/blog",className:"hover:text-neutral-900",children:"Blog"}),u.jsx("span",{children:"→"}),u.jsx(vn,{to:`/blog/category/${e.category}`,className:"hover:text-neutral-900 capitalize",children:e.category}),u.jsx("span",{children:"→"}),u.jsx("span",{className:"text-neutral-900",children:e.title})]}),u.jsxs("header",{className:"mb-12",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("span",{className:"text-xs text-orange-600 font-bold tracking-wider",children:e.category.toUpperCase()}),e.featured&&u.jsx("span",{className:"text-xs bg-neutral-900 text-white px-2 py-0.5 rounded-full",children:"FEATURED"})]}),u.jsx("h1",{className:"text-4xl sm:text-5xl font-thin text-neutral-900 mb-6 leading-tight",children:e.title}),e.featuredImage&&u.jsxs("div",{className:"mb-8",children:[u.jsx("div",{className:"aspect-video overflow-hidden rounded-xl",children:u.jsx("img",{src:e.featuredImage.url,alt:e.featuredImage.description,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"mt-2 text-xs text-neutral-500",children:["Photo by"," ",u.jsx("a",{href:e.featuredImage.authorUrl,target:"_blank",rel:"noopener noreferrer",className:"text-neutral-700 hover:text-neutral-900",children:e.featuredImage.author})," ","on Unsplash"]})]}),u.jsx("p",{className:"text-xl text-neutral-600 mb-6 leading-relaxed",children:e.excerpt}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-neutral-500 border-t border-neutral-200 pt-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("span",{children:["Published ",e.date]}),u.jsx("span",{children:"•"}),u.jsxs("span",{children:[e.readTime," min read"]})]}),u.jsx("div",{className:"flex items-center gap-4",children:u.jsx("button",{className:"hover:text-neutral-900 transition-colors",children:"Share"})})]})]}),u.jsx("article",{className:"blog-content",children:u.jsx("div",{dangerouslySetInnerHTML:{__html:e.content}})}),u.jsxs("footer",{className:"mt-16 pt-8 border-t border-neutral-200",children:[u.jsxs("div",{className:"bg-neutral-50 rounded-xl p-8 text-center mb-12",children:[u.jsx("h3",{className:"text-xl font-medium text-neutral-900 mb-4",children:"Ready to try Orchis?"}),u.jsx("p",{className:"text-neutral-600 mb-6",children:"Experience AI customer service that understands context and speaks like humans."}),u.jsx(vn,{to:"/",className:"inline-block px-6 py-3 bg-neutral-900 text-white rounded-lg hover:bg-neutral-800 transition-colors",children:"Join Waitlist"})]}),r.length>0&&u.jsxs("section",{children:[u.jsx("h3",{className:"text-2xl font-thin text-neutral-900 mb-8",children:"Related Articles"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:r.map(c=>u.jsx("article",{className:"group",children:u.jsx(vn,{to:`/blog/${c.slug}`,className:"block",children:u.jsxs("div",{className:"bg-neutral-50 rounded-xl p-6 hover:bg-neutral-100 transition-colors",children:[u.jsx("div",{className:"text-xs text-orange-600 font-bold tracking-wider mb-3",children:c.category.toUpperCase()}),u.jsx("h4",{className:"text-lg font-medium text-neutral-900 mb-3 group-hover:text-orange-600 transition-colors",children:c.title}),u.jsx("p",{className:"text-neutral-600 text-sm mb-4",children:c.excerpt}),u.jsxs("div",{className:"text-xs text-neutral-500",children:[c.readTime," min read"]})]})})},c.slug))})]})]})]}):u.jsx(pm,{title:"Post Not Found",description:"The blog post you're looking for doesn't exist.",canonicalUrl:`https://orchis.app/blog/${t}`,children:u.jsxs("div",{className:"text-center py-16",children:[u.jsx("h1",{className:"text-4xl font-thin text-neutral-900 mb-4",children:"Post Not Found"}),u.jsx("p",{className:"text-neutral-600 mb-8",children:"The blog post you're looking for doesn't exist."}),u.jsx(vn,{to:"/blog",className:"text-orange-600 hover:text-orange-700",children:"← Back to Blog"})]})})}function O2e(){var P,C,M,z,V,H,q,G,W,U,K,ee,Q;const t=Wr(),{user:e}=da(),{agents:n,selectAgent:r,selectedAgent:i}=hf(),[a,o]=S.useState(!1),c=S.useRef(null),[d,f]=S.useState([]),[m,g]=S.useState(!1),[v,x]=S.useState(null),[w,T]=S.useState([]),[E,A]=S.useState(!1);S.useEffect(()=>{const $=X=>{c.current&&!c.current.contains(X.target)&&o(!1)};return document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[]),S.useEffect(()=>{(async()=>{if(!(!(i!=null&&i.id)||!(e!=null&&e.uid))){g(!0);try{const X=qt(nt,"users",e.uid,"agents",i.id,"sessions"),J=await zn(X),ce=[];for(const xe of J.docs){const be=xe.data(),Ne=xe.id,Fe=qt(xe.ref,"conversations"),Ie=await zn(Fe);for(const pe of Ie.docs){const Ee=pe.data();Ee.analyzed&&ce.push({id:pe.id,anonymousUserId:Ne,...Ee,userInfo:be.userInfo||{},conversationSummary:Ee.conversationSummary||{},analysis:Ee.analysis||{}})}}ce.sort((xe,be)=>{var Ie,pe,Ee,re;const Ne=((pe=(Ie=xe.lastMessageTime)==null?void 0:Ie.toDate)==null?void 0:pe.call(Ie))||new Date(0);return(((re=(Ee=be.lastMessageTime)==null?void 0:Ee.toDate)==null?void 0:re.call(Ee))||new Date(0))-Ne}),f(ce)}catch(X){console.error("Error loading sessions:",X)}finally{g(!1)}}})()},[i==null?void 0:i.id,e==null?void 0:e.uid]);const k=$=>{r($),o(!1)},j=()=>{o(!1),t(`/dashboard/${i==null?void 0:i.id}`)},D=async $=>{x($),A(!0);try{const X=qt(nt,"users",e.uid,"agents",i.id,"sessions",$.anonymousUserId,"conversations",$.id,"messages"),ce=(await zn(Va(X))).docs.map(xe=>({id:xe.id,...xe.data()})).sort((xe,be)=>{var Ie,pe,Ee,re;const Ne=((pe=(Ie=xe.timestamp)==null?void 0:Ie.toDate)==null?void 0:pe.call(Ie))||new Date(0),Fe=((re=(Ee=be.timestamp)==null?void 0:Ee.toDate)==null?void 0:re.call(Ee))||new Date(0);return Ne-Fe});T(ce)}catch(X){console.error("Error loading messages:",X),T([])}},O=$=>({Feedback:"bg-blue-500/20 text-blue-800 border-blue-200",Question:"bg-purple-500/20 text-purple-800 border-purple-200","Support Request":"bg-orange-500/20 text-orange-800 border-orange-200","Sales Inquiry":"bg-green-500/20 text-green-800 border-green-200","Bug Report":"bg-red-500/20 text-red-800 border-red-200",General:"bg-stone-500/20 text-stone-800 border-stone-200"})[$]||"bg-stone-100 text-stone-800 border-stone-200",L=$=>({high:"bg-red-500/20 text-red-800 border-red-200",medium:"bg-yellow-500/20 text-yellow-800 border-yellow-200",low:"bg-green-500/20 text-green-800 border-green-200"})[$]||"bg-stone-100 text-stone-800 border-stone-200";return i?u.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative",ref:c,children:[u.jsxs("button",{onClick:()=>o(!a),className:"flex items-center gap-1 px-3 py-1 rounded-lg hover:bg-stone-200 dark:md:hover:bg-stone-800 transition-colors",children:[u.jsx("div",{className:"w-5 h-5 bg-stone-100 rounded-md flex items-center justify-center flex-shrink-0 overflow-hidden",children:i!=null&&i.logoUrl?u.jsx("img",{src:i.logoUrl,alt:i.name,className:"w-5 h-5 object-cover rounded-md"}):u.jsx("div",{className:"w-4 h-4 bg-stone-600"})}),u.jsx("div",{className:"flex-1 text-left",children:u.jsx("div",{className:"text-md font-bold text-stone-900 dark:text-stone-50",children:(i==null?void 0:i.projectName)||(i==null?void 0:i.name)||"Select Agent"})}),u.jsx(uE,{className:`w-4 h-4 text-stone-500 transition-transform ${a?"rotate-180":""}`})]}),a&&u.jsx("div",{className:"absolute top-full left-0 min-w-[250px] mt-1 bg-white dark:bg-stone-900 border border-stone-200 dark:border-stone-700 rounded-lg shadow-lg z-10",children:u.jsxs("div",{className:"p-1 space-y-0.5",children:[n.map($=>u.jsxs("button",{onClick:()=>k($),className:`w-full flex items-center gap-1 px-2 py-1 text-left rounded-md hover:bg-stone-50 dark:hover:bg-stone-800 transition-colors group ${(i==null?void 0:i.id)===$.id?"bg-stone-50 dark:bg-stone-800":""}`,children:[u.jsx("div",{className:"w-4 h-4 bg-stone-100 dark:bg-stone-800 rounded flex items-center justify-center flex-shrink-0 overflow-hidden",children:$.logoUrl?u.jsx("img",{src:$.logoUrl,alt:$.name,className:"w-4 h-4 object-cover rounded"}):u.jsx("div",{className:"w-3 h-3 bg-stone-600 dark:bg-stone-400"})}),u.jsx("div",{className:"flex-1",children:u.jsx("div",{className:"text-sm font-medium text-stone-900 dark:text-stone-100",children:$.projectName||$.name})})]},$.id)),u.jsx("div",{className:"border-t border-stone-100 dark:border-stone-700 mt-1 p-1",children:u.jsxs("button",{onClick:j,className:"w-full flex items-center gap-1 px-2 py-1 text-left rounded-md hover:bg-stone-50 dark:hover:bg-stone-800 transition-colors group",children:[u.jsx(F8,{className:"w-4 h-4 text-stone-500 dark:text-stone-400"}),u.jsx("span",{className:"text-sm font-medium text-stone-700 dark:text-stone-300",children:"Back to Dashboard"})]})})]})})]}),u.jsx("h1",{className:"text-2xl font-bold text-stone-900 dark:text-stone-50",children:"Conversation History"})]})}),u.jsx("div",{className:"bg-white dark:bg-stone-800/50 rounded-xl border border-stone-200 dark:border-stone-800 p-6",children:m?u.jsx("div",{className:"h-64 flex items-center justify-center",children:u.jsx("div",{className:"text-stone-400 text-sm",children:"Loading conversations..."})}):d.length>0?u.jsx("div",{className:"space-y-3",children:d.map($=>{var X,J,ce,xe,be,Ne,Fe,Ie,pe,Ee,re;return u.jsxs("button",{onClick:()=>D($),className:"w-full flex items-start gap-4 p-4 bg-stone-50 dark:bg-stone-900/30 rounded-lg border border-stone-100 dark:border-stone-800 hover:border-stone-300 dark:hover:border-stone-600 transition-colors text-left",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:`text-xs px-2 py-1 rounded-full border ${O((X=$.analysis)==null?void 0:X.mainCategory)}`,children:((J=$.analysis)==null?void 0:J.mainCategory)||"General"}),u.jsxs("span",{className:`text-xs px-2 py-1 rounded-full border ${L((ce=$.analysis)==null?void 0:ce.urgency)}`,children:[((xe=$.analysis)==null?void 0:xe.urgency)||"low"," priority"]}),(be=$.analysis)!=null&&be.resolved?u.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-500/20 text-green-800 border border-green-200",children:"✓ Resolved"}):u.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-orange-500/20 text-orange-800 border border-orange-200",children:"Unresolved"})]}),u.jsx("div",{className:"text-sm font-medium text-stone-900 dark:text-stone-50 mb-1 truncate",children:((Ne=$.analysis)==null?void 0:Ne.summary)||"No summary available"}),u.jsxs("div",{className:"text-xs text-stone-500 dark:text-stone-400",children:[((Ie=(Fe=$.lastMessageTime)==null?void 0:Fe.toDate)==null?void 0:Ie.call(Fe).toLocaleString())||"Unknown time",((Ee=(pe=$.userInfo)==null?void 0:pe.location)==null?void 0:Ee.city)&&u.jsxs(u.Fragment,{children:[" • ",$.userInfo.location.city,", ",$.userInfo.location.country]})]})]}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsxs("div",{className:"text-xs text-stone-500",children:["Sentiment: ",u.jsxs("span",{className:"font-semibold text-stone-900 dark:text-stone-50",children:[((re=$.analysis)==null?void 0:re.sentimentScore)||5,"/10"]})]}),u.jsxs("div",{className:"text-xs text-stone-500",children:[$.messageCount||0," messages"]})]})]},$.id)})}):u.jsx("div",{className:"h-64 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-stone-400 dark:text-stone-500 text-sm mb-1",children:"No conversations yet"}),u.jsx("div",{className:"text-stone-300 dark:text-stone-600 text-xs",children:"Conversations will appear here once analyzed"})]})})}),E&&v&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-stone-900 rounded-xl border border-stone-200 dark:border-stone-700 w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex items-start justify-between p-6 border-b border-stone-200 dark:border-stone-700",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:`text-xs px-2 py-1 rounded-full border ${O((P=v.analysis)==null?void 0:P.mainCategory)}`,children:((C=v.analysis)==null?void 0:C.mainCategory)||"General"}),u.jsxs("span",{className:`text-xs px-2 py-1 rounded-full border ${L((M=v.analysis)==null?void 0:M.urgency)}`,children:[((z=v.analysis)==null?void 0:z.urgency)||"low"," priority"]}),(V=v.analysis)!=null&&V.resolved?u.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-500/20 text-green-800 border border-green-200",children:"✓ Resolved"}):u.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-orange-500/20 text-orange-800 border border-orange-200",children:"Unresolved"})]}),u.jsx("h2",{className:"text-lg font-semibold text-stone-900 dark:text-stone-50 mb-1",children:((H=v.analysis)==null?void 0:H.summary)||"Conversation Details"}),u.jsxs("div",{className:"text-sm text-stone-500 dark:text-stone-400",children:[(G=(q=v.lastMessageTime)==null?void 0:q.toDate)==null?void 0:G.call(q).toLocaleString(),((W=v.userInfo)==null?void 0:W.location)&&u.jsxs(u.Fragment,{children:[" • ",v.userInfo.location.city,", ",v.userInfo.location.country]})]})]}),u.jsx("button",{onClick:()=>{A(!1),x(null),T([])},className:"p-1 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-lg transition-colors",children:u.jsx(lp,{className:"w-5 h-5 text-stone-500"})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50 mb-3",children:"AI Analysis"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-3 bg-stone-50 dark:bg-stone-800/50 rounded-lg",children:[u.jsx("div",{className:"text-xs text-stone-500 mb-1",children:"Intent"}),u.jsx("div",{className:"text-sm font-medium text-stone-900 dark:text-stone-50 capitalize",children:((U=v.analysis)==null?void 0:U.intent)||"N/A"})]}),u.jsxs("div",{className:"p-3 bg-stone-50 dark:bg-stone-800/50 rounded-lg",children:[u.jsx("div",{className:"text-xs text-stone-500 mb-1",children:"Sentiment Score"}),u.jsxs("div",{className:"text-sm font-medium text-stone-900 dark:text-stone-50",children:[((K=v.analysis)==null?void 0:K.sentimentScore)||5,"/10"]})]}),u.jsxs("div",{className:"p-3 bg-stone-50 dark:bg-stone-800/50 rounded-lg col-span-2",children:[u.jsx("div",{className:"text-xs text-stone-500 mb-1",children:"Sub-Category"}),u.jsx("div",{className:"text-sm font-medium text-stone-900 dark:text-stone-50",children:((ee=v.analysis)==null?void 0:ee.subCategory)||"N/A"})]}),((Q=v.analysis)==null?void 0:Q.keyTopics)&&v.analysis.keyTopics.length>0&&u.jsxs("div",{className:"p-3 bg-stone-50 dark:bg-stone-800/50 rounded-lg col-span-2",children:[u.jsx("div",{className:"text-xs text-stone-500 mb-2",children:"Key Topics"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:v.analysis.keyTopics.map(($,X)=>u.jsx("span",{className:"text-xs px-2 py-1 bg-orange-100 text-orange-800 rounded-full",children:$},X))})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-stone-900 dark:text-stone-50 mb-3",children:"Conversation"}),w.length>0?u.jsx("div",{className:"space-y-3",children:w.map($=>{var X,J;return u.jsxs("div",{className:`p-3 rounded-lg ${$.role==="user"?"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800":"bg-stone-50 dark:bg-stone-800/50 border border-stone-200 dark:border-stone-700"}`,children:[u.jsx("div",{className:"text-xs font-medium text-stone-500 dark:text-stone-400 mb-1 capitalize",children:$.role}),u.jsx("div",{className:"text-sm text-stone-900 dark:text-stone-50 whitespace-pre-wrap",children:$.content}),u.jsx("div",{className:"text-xs text-stone-400 dark:text-stone-500 mt-1",children:(J=(X=$.timestamp)==null?void 0:X.toDate)==null?void 0:J.call(X).toLocaleTimeString()})]},$.id)})}):u.jsx("div",{className:"p-4 bg-stone-50 dark:bg-stone-800/50 rounded-lg text-center text-sm text-stone-500",children:"Messages have been archived after analysis"})]})]})]})})]}):u.jsx("div",{className:"flex items-center justify-center h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-lg font-medium text-stone-900 mb-2",children:"No Agent Selected"}),u.jsx("div",{className:"text-stone-500",children:"Please select an agent to view conversations."})]})})}function I2e(){return u.jsxs("div",{className:"min-h-screen bg-stone-50 dark:bg-stone-900",children:[u.jsx(Tc,{}),u.jsx(O2e,{})]})}function N2({children:t}){const{user:e,loading:n}=da();return n?u.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:u.jsx("div",{className:"text-neutral-600",children:"Loading..."})}):e?t:u.jsx(y6,{to:"/signin",replace:!0})}function R2e(){return u.jsx(FS,{children:u.jsx(Pte,{children:u.jsx(hne,{children:u.jsx(r2e,{children:u.jsx(Kq,{children:u.jsx("div",{className:"min-h-screen bg-stone-50 dark:bg-stone-900",children:u.jsxs(_q,{children:[u.jsx(Aa,{path:"/",element:u.jsx(qte,{})}),u.jsx(Aa,{path:"/signin",element:u.jsx(l2e,{})}),u.jsx(Aa,{path:"/admin",element:u.jsx(k2e,{})}),u.jsx(Aa,{path:"/roadmap",element:u.jsx(c2e,{})}),u.jsx(Aa,{path:"/blog",element:u.jsx(j2e,{})}),u.jsx(Aa,{path:"/blog/:slug",element:u.jsx(C2e,{})}),u.jsx(Aa,{path:"/dashboard",element:u.jsx(N2,{children:u.jsx(i6,{})})}),u.jsx(Aa,{path:"/dashboard/:agentId",element:u.jsx(N2,{children:u.jsx(i6,{})})}),u.jsx(Aa,{path:"/conversations",element:u.jsx(N2,{children:u.jsx(I2e,{})})}),u.jsx(Aa,{path:"*",element:u.jsx(u2e,{})})]})})})})})})})}OF.createRoot(document.getElementById("root")).render(u.jsx(Ct.StrictMode,{children:u.jsx(FS,{children:u.jsx(R2e,{})})}));
